var XR=Object.defineProperty;var JR=(t,e,n)=>e in t?XR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>JR(t,typeof e!="symbol"?e+"":e,n);function e2(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Op(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bb={exports:{}},Mp={},jb={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),t2=Symbol.for("react.portal"),n2=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),o2=Symbol.for("react.context"),a2=Symbol.for("react.forward_ref"),l2=Symbol.for("react.suspense"),u2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),F0=Symbol.iterator;function h2(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var Ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hb=Object.assign,$b={};function Nl(t,e,n){this.props=t,this.context=e,this.refs=$b,this.updater=n||Ub}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wb(){}Wb.prototype=Nl.prototype;function Wy(t,e,n){this.props=t,this.context=e,this.refs=$b,this.updater=n||Ub}var qy=Wy.prototype=new Wb;qy.constructor=Wy;Hb(qy,Nl.prototype);qy.isPureReactComponent=!0;var V0=Array.isArray,qb=Object.prototype.hasOwnProperty,Ky={current:null},Kb={key:!0,ref:!0,__self:!0,__source:!0};function Gb(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qb.call(e,i)&&!Kb.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:oh,type:t,key:s,ref:o,props:r,_owner:Ky.current}}function d2(t,e){return{$$typeof:oh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===oh}function f2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z0=/\/+/g;function Bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f2(""+t.key):e.toString(36)}function Qd(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oh:case t2:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Bm(o,0):i,V0(r)?(n="",t!=null&&(n=t.replace(z0,"$&/")+"/"),Qd(r,e,n,"",function(h){return h})):r!=null&&(Gy(r)&&(r=d2(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(z0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",V0(t))for(var l=0;l<t.length;l++){s=t[l];var u=i+Bm(s,l);o+=Qd(s,e,n,u,r)}else if(u=h2(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=i+Bm(s,l++),o+=Qd(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(t,e,n){if(t==null)return t;var i=[],r=0;return Qd(t,i,"","",function(s){return e.call(n,s,r++)}),i}function p2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},Yd={transition:null},m2={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Yd,ReactCurrentOwner:Ky};function Zb(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:ld,forEach:function(t,e,n){ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!Gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Nl;Fe.Fragment=n2;Fe.Profiler=r2;Fe.PureComponent=Wy;Fe.StrictMode=i2;Fe.Suspense=l2;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m2;Fe.act=Zb;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Hb({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ky.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)qb.call(e,u)&&!Kb.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:oh,type:t.type,key:r,ref:s,props:i,_owner:o}};Fe.createContext=function(t){return t={$$typeof:o2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s2,_context:t},t.Consumer=t};Fe.createElement=Gb;Fe.createFactory=function(t){var e=Gb.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:a2,render:t}};Fe.isValidElement=Gy;Fe.lazy=function(t){return{$$typeof:c2,_payload:{_status:-1,_result:t},_init:p2}};Fe.memo=function(t,e){return{$$typeof:u2,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Yd.transition;Yd.transition={};try{t()}finally{Yd.transition=e}};Fe.unstable_act=Zb;Fe.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Fe.useContext=function(t){return Sn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Fe.useId=function(){return Sn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Sn.current.useRef(t)};Fe.useState=function(t){return Sn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Sn.current.useTransition()};Fe.version="18.3.1";jb.exports=Fe;var K=jb.exports;const Fi=Op(K),g2=e2({__proto__:null,default:Fi},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2=K,y2=Symbol.for("react.element"),v2=Symbol.for("react.fragment"),w2=Object.prototype.hasOwnProperty,x2=_2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E2={key:!0,ref:!0,__self:!0,__source:!0};function Qb(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)w2.call(e,i)&&!E2.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:y2,type:t,key:s,ref:o,props:r,_owner:x2.current}}Mp.Fragment=v2;Mp.jsx=Qb;Mp.jsxs=Qb;Bb.exports=Mp;var V=Bb.exports,Xg={},Yb={exports:{}},ei={},Xb={exports:{}},Jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,de){var M=X.length;X.push(de);e:for(;0<M;){var ce=M-1>>>1,me=X[ce];if(0<r(me,de))X[ce]=de,X[M]=me,M=ce;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var de=X[0],M=X.pop();if(M!==de){X[0]=M;e:for(var ce=0,me=X.length,j=me>>>1;ce<j;){var xe=2*(ce+1)-1,ve=X[xe],oe=xe+1,at=X[oe];if(0>r(ve,M))oe<me&&0>r(at,ve)?(X[ce]=at,X[oe]=M,ce=oe):(X[ce]=ve,X[xe]=M,ce=xe);else if(oe<me&&0>r(at,M))X[ce]=at,X[oe]=M,ce=oe;else break e}}return de}function r(X,de){var M=X.sortIndex-de.sortIndex;return M!==0?M:X.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],d=1,m=null,g=3,y=!1,x=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var de=n(h);de!==null;){if(de.callback===null)i(h);else if(de.startTime<=X)i(h),de.sortIndex=de.expirationTime,e(u,de);else break;de=n(h)}}function B(X){if(E=!1,I(X),!x)if(n(u)!==null)x=!0,_e($);else{var de=n(h);de!==null&&ke(B,de.startTime-X)}}function $(X,de){x=!1,E&&(E=!1,S(P),P=-1),y=!0;var M=g;try{for(I(de),m=n(u);m!==null&&(!(m.expirationTime>de)||X&&!N());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,g=m.priorityLevel;var me=ce(m.expirationTime<=de);de=t.unstable_now(),typeof me=="function"?m.callback=me:m===n(u)&&i(u),I(de)}else i(u);m=n(u)}if(m!==null)var j=!0;else{var xe=n(h);xe!==null&&ke(B,xe.startTime-de),j=!1}return j}finally{m=null,g=M,y=!1}}var U=!1,A=null,P=-1,O=5,F=-1;function N(){return!(t.unstable_now()-F<O)}function z(){if(A!==null){var X=t.unstable_now();F=X;var de=!0;try{de=A(!0,X)}finally{de?D():(U=!1,A=null)}}else U=!1}var D;if(typeof k=="function")D=function(){k(z)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ue=pe.port2;pe.port1.onmessage=z,D=function(){ue.postMessage(null)}}else D=function(){b(z,0)};function _e(X){A=X,U||(U=!0,D())}function ke(X,de){P=b(function(){X(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,_e($))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var M=g;g=de;try{return X()}finally{g=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var M=g;g=X;try{return de()}finally{g=M}},t.unstable_scheduleCallback=function(X,de,M){var ce=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ce+M:ce):M=ce,X){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=M+me,X={id:d++,callback:de,priorityLevel:X,startTime:M,expirationTime:me,sortIndex:-1},M>ce?(X.sortIndex=M,e(h,X),n(u)===null&&X===n(h)&&(E?(S(P),P=-1):E=!0,ke(B,M-ce))):(X.sortIndex=me,e(u,X),x||y||(x=!0,_e($))),X},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(X){var de=g;return function(){var M=g;g=de;try{return X.apply(this,arguments)}finally{g=M}}}})(Jb);Xb.exports=Jb;var T2=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2=K,Jn=T2;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e1=new Set,bc={};function na(t,e){yl(t,e),yl(t+"Capture",e)}function yl(t,e){for(bc[t]=e,t=0;t<e.length;t++)e1.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,b2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B0={},j0={};function k2(t){return Jg.call(j0,t)?!0:Jg.call(B0,t)?!1:b2.test(t)?j0[t]=!0:(B0[t]=!0,!1)}function I2(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P2(t,e,n,i){if(e===null||typeof e>"u"||I2(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zy=/[\-:]([a-z])/g;function Qy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zy,Qy);Jt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zy,Qy);Jt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zy,Qy);Jt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yy(t,e,n,i){var r=Jt.hasOwnProperty(e)?Jt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P2(e,n,r,i)&&(n=null),i||r===null?k2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Jr=S2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ud=Symbol.for("react.element"),$a=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),e_=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),n_=Symbol.for("react.suspense_list"),ev=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),i1=Symbol.for("react.offscreen"),U0=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=U0&&t[U0]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,jm;function Wu(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||""}return`
`+jm+t}var Um=!1;function Hm(t,e){if(!t||Um)return"";Um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wu(t):""}function C2(t){switch(t.tag){case 5:return Wu(t.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return t=Hm(t.type,!1),t;case 11:return t=Hm(t.type.render,!1),t;case 1:return t=Hm(t.type,!0),t;default:return""}}function i_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case $a:return"Portal";case e_:return"Profiler";case Xy:return"StrictMode";case t_:return"Suspense";case n_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n1:return(t.displayName||"Context")+".Consumer";case t1:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ev:return e=t.displayName||null,e!==null?e:i_(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return i_(t(e))}catch{}}return null}function A2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i_(e);case 8:return e===Xy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function R2(t){var e=r1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cd(t){t._valueTracker||(t._valueTracker=R2(t))}function s1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=r1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function r_(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function H0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o1(t,e){e=e.checked,e!=null&&Yy(t,"checked",e,!1)}function s_(t,e){o1(t,e);var n=Gs(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?o_(t,e.type,n):e.hasOwnProperty("defaultValue")&&o_(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function o_(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qu=Array.isArray;function rl(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function a_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(qu(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function a1(t,e){var n=Gs(e.value),i=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function q0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,u1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L2=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(t){L2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ic[e]=ic[t]})});function c1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ic.hasOwnProperty(t)&&ic[t]?(""+e).trim():e+"px"}function h1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=c1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var O2=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u_(t,e){if(e){if(O2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function c_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h_=null;function tv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var d_=null,sl=null,ol=null;function K0(t){if(t=uh(t)){if(typeof d_!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=zp(e),d_(t.stateNode,t.type,e))}}function d1(t){sl?ol?ol.push(t):ol=[t]:sl=t}function f1(){if(sl){var t=sl,e=ol;if(ol=sl=null,K0(t),e)for(t=0;t<e.length;t++)K0(e[t])}}function p1(t,e){return t(e)}function m1(){}var $m=!1;function g1(t,e,n){if($m)return t(e,n);$m=!0;try{return p1(t,e,n)}finally{$m=!1,(sl!==null||ol!==null)&&(m1(),f1())}}function Ic(t,e){var n=t.stateNode;if(n===null)return null;var i=zp(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var f_=!1;if(Wr)try{var Pu={};Object.defineProperty(Pu,"passive",{get:function(){f_=!0}}),window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch{f_=!1}function M2(t,e,n,i,r,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var rc=!1,Cf=null,Af=!1,p_=null,N2={onError:function(t){rc=!0,Cf=t}};function D2(t,e,n,i,r,s,o,l,u){rc=!1,Cf=null,M2.apply(N2,arguments)}function F2(t,e,n,i,r,s,o,l,u){if(D2.apply(this,arguments),rc){if(rc){var h=Cf;rc=!1,Cf=null}else throw Error(ie(198));Af||(Af=!0,p_=h)}}function ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G0(t){if(ia(t)!==t)throw Error(ie(188))}function V2(t){var e=t.alternate;if(!e){if(e=ia(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return G0(r),t;if(s===i)return G0(r),e;s=s.sibling}throw Error(ie(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==i)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function y1(t){return t=V2(t),t!==null?v1(t):null}function v1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v1(t);if(e!==null)return e;t=t.sibling}return null}var w1=Jn.unstable_scheduleCallback,Z0=Jn.unstable_cancelCallback,z2=Jn.unstable_shouldYield,B2=Jn.unstable_requestPaint,bt=Jn.unstable_now,j2=Jn.unstable_getCurrentPriorityLevel,nv=Jn.unstable_ImmediatePriority,x1=Jn.unstable_UserBlockingPriority,Rf=Jn.unstable_NormalPriority,U2=Jn.unstable_LowPriority,E1=Jn.unstable_IdlePriority,Np=null,rr=null;function H2(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Np,t,void 0,(t.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:q2,$2=Math.log,W2=Math.LN2;function q2(t){return t>>>=0,t===0?32:31-($2(t)/W2|0)|0}var dd=64,fd=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=Ku(l):(s&=o,s!==0&&(i=Ku(s)))}else o=n&~r,o!==0?i=Ku(o):s!==0&&(i=Ku(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Vi(e),r=1<<n,i|=t[n],e&=~r;return i}function K2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G2(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vi(s),l=1<<o,u=r[o];u===-1?(!(l&n)||l&i)&&(r[o]=K2(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function m_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T1(){var t=dd;return dd<<=1,!(dd&4194240)&&(dd=64),t}function Wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ah(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vi(e),t[e]=n}function Z2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Vi(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Vi(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Xe=0;function S1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b1,rv,k1,I1,P1,g_=!1,pd=[],Ls=null,Os=null,Ms=null,Pc=new Map,Cc=new Map,ws=[],Q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q0(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(e.pointerId)}}function Cu(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=uh(e),e!==null&&rv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Y2(t,e,n,i,r){switch(e){case"focusin":return Ls=Cu(Ls,t,e,n,i,r),!0;case"dragenter":return Os=Cu(Os,t,e,n,i,r),!0;case"mouseover":return Ms=Cu(Ms,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Pc.set(s,Cu(Pc.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Cc.set(s,Cu(Cc.get(s)||null,t,e,n,i,r)),!0}return!1}function C1(t){var e=Lo(t.target);if(e!==null){var n=ia(e);if(n!==null){if(e=n.tag,e===13){if(e=_1(n),e!==null){t.blockedOn=e,P1(t.priority,function(){k1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=__(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);h_=i,n.target.dispatchEvent(i),h_=null}else return e=uh(n),e!==null&&rv(e),t.blockedOn=n,!1;e.shift()}return!0}function Y0(t,e,n){Xd(t)&&n.delete(e)}function X2(){g_=!1,Ls!==null&&Xd(Ls)&&(Ls=null),Os!==null&&Xd(Os)&&(Os=null),Ms!==null&&Xd(Ms)&&(Ms=null),Pc.forEach(Y0),Cc.forEach(Y0)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,g_||(g_=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,X2)))}function Ac(t){function e(r){return Au(r,t)}if(0<pd.length){Au(pd[0],t);for(var n=1;n<pd.length;n++){var i=pd[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ls!==null&&Au(Ls,t),Os!==null&&Au(Os,t),Ms!==null&&Au(Ms,t),Pc.forEach(e),Cc.forEach(e),n=0;n<ws.length;n++)i=ws[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&ws.shift()}var al=Jr.ReactCurrentBatchConfig,Of=!0;function J2(t,e,n,i){var r=Xe,s=al.transition;al.transition=null;try{Xe=1,sv(t,e,n,i)}finally{Xe=r,al.transition=s}}function eL(t,e,n,i){var r=Xe,s=al.transition;al.transition=null;try{Xe=4,sv(t,e,n,i)}finally{Xe=r,al.transition=s}}function sv(t,e,n,i){if(Of){var r=__(t,e,n,i);if(r===null)tg(t,e,i,Mf,n),Q0(t,i);else if(Y2(r,t,e,n,i))i.stopPropagation();else if(Q0(t,i),e&4&&-1<Q2.indexOf(t)){for(;r!==null;){var s=uh(r);if(s!==null&&b1(s),s=__(t,e,n,i),s===null&&tg(t,e,i,Mf,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else tg(t,e,i,null,n)}}var Mf=null;function __(t,e,n,i){if(Mf=null,t=tv(i),t=Lo(t),t!==null)if(e=ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function A1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j2()){case nv:return 1;case x1:return 4;case Rf:case U2:return 16;case E1:return 536870912;default:return 16}default:return 16}}var ks=null,ov=null,Jd=null;function R1(){if(Jd)return Jd;var t,e=ov,n=e.length,i,r="value"in ks?ks.value:ks.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Jd=r.slice(t,1<i?1-i:void 0)}function ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function md(){return!0}function X0(){return!1}function ti(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?md:X0,this.isPropagationStopped=X0,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=ti(Dl),lh=vt({},Dl,{view:0,detail:0}),tL=ti(lh),qm,Km,Ru,Dp=vt({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(qm=t.screenX-Ru.screenX,Km=t.screenY-Ru.screenY):Km=qm=0,Ru=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Km}}),J0=ti(Dp),nL=vt({},Dp,{dataTransfer:0}),iL=ti(nL),rL=vt({},lh,{relatedTarget:0}),Gm=ti(rL),sL=vt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=ti(sL),aL=vt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lL=ti(aL),uL=vt({},Dl,{data:0}),ex=ti(uL),cL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dL[t])?!!e[t]:!1}function lv(){return fL}var pL=vt({},lh,{key:function(t){if(t.key){var e=cL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lv,charCode:function(t){return t.type==="keypress"?ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mL=ti(pL),gL=vt({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=ti(gL),_L=vt({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lv}),yL=ti(_L),vL=vt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wL=ti(vL),xL=vt({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EL=ti(xL),TL=[9,13,27,32],uv=Wr&&"CompositionEvent"in window,sc=null;Wr&&"documentMode"in document&&(sc=document.documentMode);var SL=Wr&&"TextEvent"in window&&!sc,L1=Wr&&(!uv||sc&&8<sc&&11>=sc),nx=" ",ix=!1;function O1(t,e){switch(t){case"keyup":return TL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function bL(t,e){switch(t){case"compositionend":return M1(e);case"keypress":return e.which!==32?null:(ix=!0,nx);case"textInput":return t=e.data,t===nx&&ix?null:t;default:return null}}function kL(t,e){if(qa)return t==="compositionend"||!uv&&O1(t,e)?(t=R1(),Jd=ov=ks=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L1&&e.locale!=="ko"?null:e.data;default:return null}}var IL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IL[t.type]:e==="textarea"}function N1(t,e,n,i){d1(i),e=Nf(e,"onChange"),0<e.length&&(n=new av("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var oc=null,Rc=null;function PL(t){q1(t,0)}function Fp(t){var e=Za(t);if(s1(e))return t}function CL(t,e){if(t==="change")return e}var D1=!1;if(Wr){var Zm;if(Wr){var Qm="oninput"in document;if(!Qm){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),Qm=typeof sx.oninput=="function"}Zm=Qm}else Zm=!1;D1=Zm&&(!document.documentMode||9<document.documentMode)}function ox(){oc&&(oc.detachEvent("onpropertychange",F1),Rc=oc=null)}function F1(t){if(t.propertyName==="value"&&Fp(Rc)){var e=[];N1(e,Rc,t,tv(t)),g1(PL,e)}}function AL(t,e,n){t==="focusin"?(ox(),oc=e,Rc=n,oc.attachEvent("onpropertychange",F1)):t==="focusout"&&ox()}function RL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fp(Rc)}function LL(t,e){if(t==="click")return Fp(e)}function OL(t,e){if(t==="input"||t==="change")return Fp(e)}function ML(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bi=typeof Object.is=="function"?Object.is:ML;function Lc(t,e){if(Bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Jg.call(e,r)||!Bi(t[r],e[r]))return!1}return!0}function ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lx(t,e){var n=ax(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ax(n)}}function V1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z1(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NL(t){var e=z1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V1(n.ownerDocument.documentElement,n)){if(i!==null&&cv(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=lx(n,s);var o=lx(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DL=Wr&&"documentMode"in document&&11>=document.documentMode,Ka=null,y_=null,ac=null,v_=!1;function ux(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v_||Ka==null||Ka!==Pf(i)||(i=Ka,"selectionStart"in i&&cv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ac&&Lc(ac,i)||(ac=i,i=Nf(y_,"onSelect"),0<i.length&&(e=new av("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ka)))}function gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ga={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},Ym={},B1={};Wr&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Vp(t){if(Ym[t])return Ym[t];if(!Ga[t])return t;var e=Ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B1)return Ym[t]=e[n];return t}var j1=Vp("animationend"),U1=Vp("animationiteration"),H1=Vp("animationstart"),$1=Vp("transitionend"),W1=new Map,cx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){W1.set(t,e),na(e,[t])}for(var Xm=0;Xm<cx.length;Xm++){var Jm=cx[Xm],FL=Jm.toLowerCase(),VL=Jm[0].toUpperCase()+Jm.slice(1);to(FL,"on"+VL)}to(j1,"onAnimationEnd");to(U1,"onAnimationIteration");to(H1,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to($1,"onTransitionEnd");yl("onMouseEnter",["mouseout","mouseover"]);yl("onMouseLeave",["mouseout","mouseover"]);yl("onPointerEnter",["pointerout","pointerover"]);yl("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function hx(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,F2(i,e,void 0,t),t.currentTarget=null}function q1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;hx(r,l,h),s=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;hx(r,l,h),s=u}}}if(Af)throw t=p_,Af=!1,p_=null,t}function lt(t,e){var n=e[S_];n===void 0&&(n=e[S_]=new Set);var i=t+"__bubble";n.has(i)||(K1(e,t,2,!1),n.add(i))}function eg(t,e,n){var i=0;e&&(i|=4),K1(n,t,i,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[_d]){t[_d]=!0,e1.forEach(function(n){n!=="selectionchange"&&(zL.has(n)||eg(n,!1,t),eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,eg("selectionchange",!1,e))}}function K1(t,e,n,i){switch(A1(e)){case 1:var r=J2;break;case 4:r=eL;break;default:r=sv}n=r.bind(null,e,n,t),r=void 0,!f_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function tg(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Lo(l),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}l=l.parentNode}}i=i.return}g1(function(){var h=s,d=tv(n),m=[];e:{var g=W1.get(t);if(g!==void 0){var y=av,x=t;switch(t){case"keypress":if(ef(n)===0)break e;case"keydown":case"keyup":y=mL;break;case"focusin":x="focus",y=Gm;break;case"focusout":x="blur",y=Gm;break;case"beforeblur":case"afterblur":y=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=J0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yL;break;case j1:case U1:case H1:y=oL;break;case $1:y=wL;break;case"scroll":y=tL;break;case"wheel":y=EL;break;case"copy":case"cut":case"paste":y=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=tx}var E=(e&4)!==0,b=!E&&t==="scroll",S=E?g!==null?g+"Capture":null:g;E=[];for(var k=h,I;k!==null;){I=k;var B=I.stateNode;if(I.tag===5&&B!==null&&(I=B,S!==null&&(B=Ic(k,S),B!=null&&E.push(Mc(k,B,I)))),b)break;k=k.return}0<E.length&&(g=new y(g,x,null,n,d),m.push({event:g,listeners:E}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==h_&&(x=n.relatedTarget||n.fromElement)&&(Lo(x)||x[qr]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=h,x=x?Lo(x):null,x!==null&&(b=ia(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=h),y!==x)){if(E=J0,B="onMouseLeave",S="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(E=tx,B="onPointerLeave",S="onPointerEnter",k="pointer"),b=y==null?g:Za(y),I=x==null?g:Za(x),g=new E(B,k+"leave",y,n,d),g.target=b,g.relatedTarget=I,B=null,Lo(d)===h&&(E=new E(S,k+"enter",x,n,d),E.target=I,E.relatedTarget=b,B=E),b=B,y&&x)t:{for(E=y,S=x,k=0,I=E;I;I=Fa(I))k++;for(I=0,B=S;B;B=Fa(B))I++;for(;0<k-I;)E=Fa(E),k--;for(;0<I-k;)S=Fa(S),I--;for(;k--;){if(E===S||S!==null&&E===S.alternate)break t;E=Fa(E),S=Fa(S)}E=null}else E=null;y!==null&&dx(m,g,y,E,!1),x!==null&&b!==null&&dx(m,b,x,E,!0)}}e:{if(g=h?Za(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var $=CL;else if(rx(g))if(D1)$=OL;else{$=RL;var U=AL}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=LL);if($&&($=$(t,h))){N1(m,$,n,d);break e}U&&U(t,g,h),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&o_(g,"number",g.value)}switch(U=h?Za(h):window,t){case"focusin":(rx(U)||U.contentEditable==="true")&&(Ka=U,y_=h,ac=null);break;case"focusout":ac=y_=Ka=null;break;case"mousedown":v_=!0;break;case"contextmenu":case"mouseup":case"dragend":v_=!1,ux(m,n,d);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":ux(m,n,d)}var A;if(uv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qa?O1(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(L1&&n.locale!=="ko"&&(qa||P!=="onCompositionStart"?P==="onCompositionEnd"&&qa&&(A=R1()):(ks=d,ov="value"in ks?ks.value:ks.textContent,qa=!0)),U=Nf(h,P),0<U.length&&(P=new ex(P,t,null,n,d),m.push({event:P,listeners:U}),A?P.data=A:(A=M1(n),A!==null&&(P.data=A)))),(A=SL?bL(t,n):kL(t,n))&&(h=Nf(h,"onBeforeInput"),0<h.length&&(d=new ex("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=A))}q1(m,e)})}function Mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nf(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ic(t,n),s!=null&&i.unshift(Mc(t,s,r)),s=Ic(t,e),s!=null&&i.push(Mc(t,s,r))),t=t.return}return i}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dx(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,r?(u=Ic(n,s),u!=null&&o.unshift(Mc(n,u,l))):r||(u=Ic(n,s),u!=null&&o.push(Mc(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BL=/\r\n?/g,jL=/\u0000|\uFFFD/g;function fx(t){return(typeof t=="string"?t:""+t).replace(BL,`
`).replace(jL,"")}function yd(t,e,n){if(e=fx(e),fx(t)!==e&&n)throw Error(ie(425))}function Df(){}var w_=null,x_=null;function E_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T_=typeof setTimeout=="function"?setTimeout:void 0,UL=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,HL=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(t){return px.resolve(null).then(t).catch($L)}:T_;function $L(t){setTimeout(function(){throw t})}function ng(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ac(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ac(e)}function Ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),tr="__reactFiber$"+Fl,Nc="__reactProps$"+Fl,qr="__reactContainer$"+Fl,S_="__reactEvents$"+Fl,WL="__reactListeners$"+Fl,qL="__reactHandles$"+Fl;function Lo(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mx(t);t!==null;){if(n=t[tr])return n;t=mx(t)}return e}t=n,n=t.parentNode}return null}function uh(t){return t=t[tr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function zp(t){return t[Nc]||null}var b_=[],Qa=-1;function no(t){return{current:t}}function ht(t){0>Qa||(t.current=b_[Qa],b_[Qa]=null,Qa--)}function st(t,e){Qa++,b_[Qa]=t.current,t.current=e}var Zs={},fn=no(Zs),Nn=no(!1),Ho=Zs;function vl(t,e){var n=t.type.contextTypes;if(!n)return Zs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Dn(t){return t=t.childContextTypes,t!=null}function Ff(){ht(Nn),ht(fn)}function gx(t,e,n){if(fn.current!==Zs)throw Error(ie(168));st(fn,e),st(Nn,n)}function G1(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ie(108,A2(t)||"Unknown",r));return vt({},n,i)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Ho=fn.current,st(fn,t),st(Nn,Nn.current),!0}function _x(t,e,n){var i=t.stateNode;if(!i)throw Error(ie(169));n?(t=G1(t,e,Ho),i.__reactInternalMemoizedMergedChildContext=t,ht(Nn),ht(fn),st(fn,t)):ht(Nn),st(Nn,n)}var Dr=null,Bp=!1,ig=!1;function Z1(t){Dr===null?Dr=[t]:Dr.push(t)}function KL(t){Bp=!0,Z1(t)}function io(){if(!ig&&Dr!==null){ig=!0;var t=0,e=Xe;try{var n=Dr;for(Xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Dr=null,Bp=!1}catch(r){throw Dr!==null&&(Dr=Dr.slice(t+1)),w1(nv,io),r}finally{Xe=e,ig=!1}}return null}var Ya=[],Xa=0,zf=null,Bf=0,fi=[],pi=0,$o=null,Vr=1,zr="";function ko(t,e){Ya[Xa++]=Bf,Ya[Xa++]=zf,zf=t,Bf=e}function Q1(t,e,n){fi[pi++]=Vr,fi[pi++]=zr,fi[pi++]=$o,$o=t;var i=Vr;t=zr;var r=32-Vi(i)-1;i&=~(1<<r),n+=1;var s=32-Vi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Vr=1<<32-Vi(e)+r|n<<r|i,zr=s+t}else Vr=1<<s|n<<r|i,zr=t}function hv(t){t.return!==null&&(ko(t,1),Q1(t,1,0))}function dv(t){for(;t===zf;)zf=Ya[--Xa],Ya[Xa]=null,Bf=Ya[--Xa],Ya[Xa]=null;for(;t===$o;)$o=fi[--pi],fi[pi]=null,zr=fi[--pi],fi[pi]=null,Vr=fi[--pi],fi[pi]=null}var Qn=null,Kn=null,pt=!1,Oi=null;function Y1(t,e){var n=gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=Ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:Vr,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Kn=null,!0):!1;default:return!1}}function k_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function I_(t){if(pt){var e=Kn;if(e){var n=e;if(!yx(t,e)){if(k_(t))throw Error(ie(418));e=Ns(n.nextSibling);var i=Qn;e&&yx(t,e)?Y1(i,n):(t.flags=t.flags&-4097|2,pt=!1,Qn=t)}}else{if(k_(t))throw Error(ie(418));t.flags=t.flags&-4097|2,pt=!1,Qn=t}}}function vx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function vd(t){if(t!==Qn)return!1;if(!pt)return vx(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!E_(t.type,t.memoizedProps)),e&&(e=Kn)){if(k_(t))throw X1(),Error(ie(418));for(;e;)Y1(t,e),e=Ns(e.nextSibling)}if(vx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=Ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Qn?Ns(t.stateNode.nextSibling):null;return!0}function X1(){for(var t=Kn;t;)t=Ns(t.nextSibling)}function wl(){Kn=Qn=null,pt=!1}function fv(t){Oi===null?Oi=[t]:Oi.push(t)}var GL=Jr.ReactCurrentBatchConfig;function Lu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var i=n.stateNode}if(!i)throw Error(ie(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function wd(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wx(t){var e=t._init;return e(t._payload)}function J1(t){function e(S,k){if(t){var I=S.deletions;I===null?(S.deletions=[k],S.flags|=16):I.push(k)}}function n(S,k){if(!t)return null;for(;k!==null;)e(S,k),k=k.sibling;return null}function i(S,k){for(S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function r(S,k){return S=zs(S,k),S.index=0,S.sibling=null,S}function s(S,k,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<k?(S.flags|=2,k):I):(S.flags|=2,k)):(S.flags|=1048576,k)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,k,I,B){return k===null||k.tag!==6?(k=cg(I,S.mode,B),k.return=S,k):(k=r(k,I),k.return=S,k)}function u(S,k,I,B){var $=I.type;return $===Wa?d(S,k,I.props.children,B,I.key):k!==null&&(k.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ys&&wx($)===k.type)?(B=r(k,I.props),B.ref=Lu(S,k,I),B.return=S,B):(B=lf(I.type,I.key,I.props,null,S.mode,B),B.ref=Lu(S,k,I),B.return=S,B)}function h(S,k,I,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=hg(I,S.mode,B),k.return=S,k):(k=r(k,I.children||[]),k.return=S,k)}function d(S,k,I,B,$){return k===null||k.tag!==7?(k=zo(I,S.mode,B,$),k.return=S,k):(k=r(k,I),k.return=S,k)}function m(S,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return k=cg(""+k,S.mode,I),k.return=S,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ud:return I=lf(k.type,k.key,k.props,null,S.mode,I),I.ref=Lu(S,null,k),I.return=S,I;case $a:return k=hg(k,S.mode,I),k.return=S,k;case ys:var B=k._init;return m(S,B(k._payload),I)}if(qu(k)||Iu(k))return k=zo(k,S.mode,I,null),k.return=S,k;wd(S,k)}return null}function g(S,k,I,B){var $=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:l(S,k,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ud:return I.key===$?u(S,k,I,B):null;case $a:return I.key===$?h(S,k,I,B):null;case ys:return $=I._init,g(S,k,$(I._payload),B)}if(qu(I)||Iu(I))return $!==null?null:d(S,k,I,B,null);wd(S,I)}return null}function y(S,k,I,B,$){if(typeof B=="string"&&B!==""||typeof B=="number")return S=S.get(I)||null,l(k,S,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ud:return S=S.get(B.key===null?I:B.key)||null,u(k,S,B,$);case $a:return S=S.get(B.key===null?I:B.key)||null,h(k,S,B,$);case ys:var U=B._init;return y(S,k,I,U(B._payload),$)}if(qu(B)||Iu(B))return S=S.get(I)||null,d(k,S,B,$,null);wd(k,B)}return null}function x(S,k,I,B){for(var $=null,U=null,A=k,P=k=0,O=null;A!==null&&P<I.length;P++){A.index>P?(O=A,A=null):O=A.sibling;var F=g(S,A,I[P],B);if(F===null){A===null&&(A=O);break}t&&A&&F.alternate===null&&e(S,A),k=s(F,k,P),U===null?$=F:U.sibling=F,U=F,A=O}if(P===I.length)return n(S,A),pt&&ko(S,P),$;if(A===null){for(;P<I.length;P++)A=m(S,I[P],B),A!==null&&(k=s(A,k,P),U===null?$=A:U.sibling=A,U=A);return pt&&ko(S,P),$}for(A=i(S,A);P<I.length;P++)O=y(A,S,P,I[P],B),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?P:O.key),k=s(O,k,P),U===null?$=O:U.sibling=O,U=O);return t&&A.forEach(function(N){return e(S,N)}),pt&&ko(S,P),$}function E(S,k,I,B){var $=Iu(I);if(typeof $!="function")throw Error(ie(150));if(I=$.call(I),I==null)throw Error(ie(151));for(var U=$=null,A=k,P=k=0,O=null,F=I.next();A!==null&&!F.done;P++,F=I.next()){A.index>P?(O=A,A=null):O=A.sibling;var N=g(S,A,F.value,B);if(N===null){A===null&&(A=O);break}t&&A&&N.alternate===null&&e(S,A),k=s(N,k,P),U===null?$=N:U.sibling=N,U=N,A=O}if(F.done)return n(S,A),pt&&ko(S,P),$;if(A===null){for(;!F.done;P++,F=I.next())F=m(S,F.value,B),F!==null&&(k=s(F,k,P),U===null?$=F:U.sibling=F,U=F);return pt&&ko(S,P),$}for(A=i(S,A);!F.done;P++,F=I.next())F=y(A,S,P,F.value,B),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?P:F.key),k=s(F,k,P),U===null?$=F:U.sibling=F,U=F);return t&&A.forEach(function(z){return e(S,z)}),pt&&ko(S,P),$}function b(S,k,I,B){if(typeof I=="object"&&I!==null&&I.type===Wa&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ud:e:{for(var $=I.key,U=k;U!==null;){if(U.key===$){if($=I.type,$===Wa){if(U.tag===7){n(S,U.sibling),k=r(U,I.props.children),k.return=S,S=k;break e}}else if(U.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ys&&wx($)===U.type){n(S,U.sibling),k=r(U,I.props),k.ref=Lu(S,U,I),k.return=S,S=k;break e}n(S,U);break}else e(S,U);U=U.sibling}I.type===Wa?(k=zo(I.props.children,S.mode,B,I.key),k.return=S,S=k):(B=lf(I.type,I.key,I.props,null,S.mode,B),B.ref=Lu(S,k,I),B.return=S,S=B)}return o(S);case $a:e:{for(U=I.key;k!==null;){if(k.key===U)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){n(S,k.sibling),k=r(k,I.children||[]),k.return=S,S=k;break e}else{n(S,k);break}else e(S,k);k=k.sibling}k=hg(I,S.mode,B),k.return=S,S=k}return o(S);case ys:return U=I._init,b(S,k,U(I._payload),B)}if(qu(I))return x(S,k,I,B);if(Iu(I))return E(S,k,I,B);wd(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,k!==null&&k.tag===6?(n(S,k.sibling),k=r(k,I),k.return=S,S=k):(n(S,k),k=cg(I,S.mode,B),k.return=S,S=k),o(S)):n(S,k)}return b}var xl=J1(!0),ek=J1(!1),jf=no(null),Uf=null,Ja=null,pv=null;function mv(){pv=Ja=Uf=null}function gv(t){var e=jf.current;ht(jf),t._currentValue=e}function P_(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ll(t,e){Uf=t,pv=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function vi(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(Uf===null)throw Error(ie(308));Ja=t,Uf.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Oo=null;function _v(t){Oo===null?Oo=[t]:Oo.push(t)}function tk(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,_v(e)):(n.next=r.next,r.next=n),e.interleaved=n,Kr(t,i)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,We&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Kr(t,n)}return r=i.interleaved,r===null?(e.next=e,_v(i)):(e.next=r.next,r.next=e),i.interleaved=e,Kr(t,n)}function tf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,iv(t,n)}}function xx(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hf(t,e,n,i){var r=t.updateQueue;vs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;o=0,d=h=u=null,l=s;do{var g=l.lane,y=l.eventTime;if((i&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,E=l;switch(g=e,y=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){m=x.call(y,m,g);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,g=typeof x=="function"?x.call(y,m,g):x,g==null)break e;m=vt({},m,g);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,u=m):d=d.next=y,o|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(d===null&&(u=m),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=m}}function Ex(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(ie(191,r));r.call(i)}}}var ch={},sr=no(ch),Dc=no(ch),Fc=no(ch);function Mo(t){if(t===ch)throw Error(ie(174));return t}function vv(t,e){switch(st(Fc,e),st(Dc,t),st(sr,ch),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:l_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=l_(e,t)}ht(sr),st(sr,e)}function El(){ht(sr),ht(Dc),ht(Fc)}function ik(t){Mo(Fc.current);var e=Mo(sr.current),n=l_(e,t.type);e!==n&&(st(Dc,t),st(sr,n))}function wv(t){Dc.current===t&&(ht(sr),ht(Dc))}var _t=no(0);function $f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rg=[];function xv(){for(var t=0;t<rg.length;t++)rg[t]._workInProgressVersionPrimary=null;rg.length=0}var nf=Jr.ReactCurrentDispatcher,sg=Jr.ReactCurrentBatchConfig,Wo=0,yt=null,Dt=null,Ht=null,Wf=!1,lc=!1,Vc=0,ZL=0;function nn(){throw Error(ie(321))}function Ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bi(t[n],e[n]))return!1;return!0}function Tv(t,e,n,i,r,s){if(Wo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nf.current=t===null||t.memoizedState===null?JL:eO,t=n(i,r),lc){s=0;do{if(lc=!1,Vc=0,25<=s)throw Error(ie(301));s+=1,Ht=Dt=null,e.updateQueue=null,nf.current=tO,t=n(i,r)}while(lc)}if(nf.current=qf,e=Dt!==null&&Dt.next!==null,Wo=0,Ht=Dt=yt=null,Wf=!1,e)throw Error(ie(300));return t}function Sv(){var t=Vc!==0;return Vc=0,t}function Xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?yt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function wi(){if(Dt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ht===null?yt.memoizedState:Ht.next;if(e!==null)Ht=e,Dt=t;else{if(t===null)throw Error(ie(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?yt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function zc(t,e){return typeof e=="function"?e(t):e}function og(t){var e=wi(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=Dt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,u=null,h=s;do{var d=h.lane;if((Wo&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,o=i):u=u.next=m,yt.lanes|=d,qo|=d}h=h.next}while(h!==null&&h!==s);u===null?o=i:u.next=l,Bi(i,e.memoizedState)||(Mn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,yt.lanes|=s,qo|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ag(t){var e=wi(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Bi(s,e.memoizedState)||(Mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function rk(){}function sk(t,e){var n=yt,i=wi(),r=e(),s=!Bi(i.memoizedState,r);if(s&&(i.memoizedState=r,Mn=!0),i=i.queue,bv(lk.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Bc(9,ak.bind(null,n,i,r,e),void 0,null),$t===null)throw Error(ie(349));Wo&30||ok(n,e,r)}return r}function ok(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ak(t,e,n,i){e.value=n,e.getSnapshot=i,uk(e)&&ck(t)}function lk(t,e,n){return n(function(){uk(e)&&ck(t)})}function uk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bi(t,n)}catch{return!0}}function ck(t){var e=Kr(t,1);e!==null&&zi(e,t,1,-1)}function Tx(t){var e=Xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=XL.bind(null,yt,t),[e.memoizedState,t]}function Bc(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function hk(){return wi().memoizedState}function rf(t,e,n,i){var r=Xi();yt.flags|=t,r.memoizedState=Bc(1|e,n,void 0,i===void 0?null:i)}function jp(t,e,n,i){var r=wi();i=i===void 0?null:i;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,i!==null&&Ev(i,o.deps)){r.memoizedState=Bc(e,n,s,i);return}}yt.flags|=t,r.memoizedState=Bc(1|e,n,s,i)}function Sx(t,e){return rf(8390656,8,t,e)}function bv(t,e){return jp(2048,8,t,e)}function dk(t,e){return jp(4,2,t,e)}function fk(t,e){return jp(4,4,t,e)}function pk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mk(t,e,n){return n=n!=null?n.concat([t]):null,jp(4,4,pk.bind(null,e,t),n)}function kv(){}function gk(t,e){var n=wi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ev(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function _k(t,e){var n=wi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ev(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function yk(t,e,n){return Wo&21?(Bi(n,e)||(n=T1(),yt.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function QL(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var i=sg.transition;sg.transition={};try{t(!1),e()}finally{Xe=n,sg.transition=i}}function vk(){return wi().memoizedState}function YL(t,e,n){var i=Vs(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},wk(t))xk(e,n);else if(n=tk(t,e,n,i),n!==null){var r=Tn();zi(n,t,i,r),Ek(n,e,i)}}function XL(t,e,n){var i=Vs(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(wk(t))xk(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,Bi(l,o)){var u=e.interleaved;u===null?(r.next=r,_v(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=tk(t,e,r,i),n!==null&&(r=Tn(),zi(n,t,i,r),Ek(n,e,i))}}function wk(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function xk(t,e){lc=Wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ek(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,iv(t,n)}}var qf={readContext:vi,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},JL={readContext:vi,useCallback:function(t,e){return Xi().memoizedState=[t,e===void 0?null:e],t},useContext:vi,useEffect:Sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rf(4194308,4,pk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return rf(4,2,t,e)},useMemo:function(t,e){var n=Xi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Xi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=YL.bind(null,yt,t),[i.memoizedState,t]},useRef:function(t){var e=Xi();return t={current:t},e.memoizedState=t},useState:Tx,useDebugValue:kv,useDeferredValue:function(t){return Xi().memoizedState=t},useTransition:function(){var t=Tx(!1),e=t[0];return t=QL.bind(null,t[1]),Xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=yt,r=Xi();if(pt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),$t===null)throw Error(ie(349));Wo&30||ok(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Sx(lk.bind(null,i,s,t),[t]),i.flags|=2048,Bc(9,ak.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Xi(),e=$t.identifierPrefix;if(pt){var n=zr,i=Vr;n=(i&~(1<<32-Vi(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eO={readContext:vi,useCallback:gk,useContext:vi,useEffect:bv,useImperativeHandle:mk,useInsertionEffect:dk,useLayoutEffect:fk,useMemo:_k,useReducer:og,useRef:hk,useState:function(){return og(zc)},useDebugValue:kv,useDeferredValue:function(t){var e=wi();return yk(e,Dt.memoizedState,t)},useTransition:function(){var t=og(zc)[0],e=wi().memoizedState;return[t,e]},useMutableSource:rk,useSyncExternalStore:sk,useId:vk,unstable_isNewReconciler:!1},tO={readContext:vi,useCallback:gk,useContext:vi,useEffect:bv,useImperativeHandle:mk,useInsertionEffect:dk,useLayoutEffect:fk,useMemo:_k,useReducer:ag,useRef:hk,useState:function(){return ag(zc)},useDebugValue:kv,useDeferredValue:function(t){var e=wi();return Dt===null?e.memoizedState=t:yk(e,Dt.memoizedState,t)},useTransition:function(){var t=ag(zc)[0],e=wi().memoizedState;return[t,e]},useMutableSource:rk,useSyncExternalStore:sk,useId:vk,unstable_isNewReconciler:!1};function Ri(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function C_(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Up={isMounted:function(t){return(t=t._reactInternals)?ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Tn(),r=Vs(t),s=Hr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,r),e!==null&&(zi(e,t,r,i),tf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Tn(),r=Vs(t),s=Hr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,r),e!==null&&(zi(e,t,r,i),tf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),i=Vs(t),r=Hr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Ds(t,r,i),e!==null&&(zi(e,t,i,n),tf(e,t,i))}};function bx(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lc(n,i)||!Lc(r,s):!0}function Tk(t,e,n){var i=!1,r=Zs,s=e.contextType;return typeof s=="object"&&s!==null?s=vi(s):(r=Dn(e)?Ho:fn.current,i=e.contextTypes,s=(i=i!=null)?vl(t,r):Zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Up,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function kx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Up.enqueueReplaceState(e,e.state,null)}function A_(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},yv(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=vi(s):(s=Dn(e)?Ho:fn.current,r.context=vl(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(C_(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Up.enqueueReplaceState(r,r.state,null),Hf(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var n="",i=e;do n+=C2(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function lg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function R_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nO=typeof WeakMap=="function"?WeakMap:Map;function Sk(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gf||(Gf=!0,j_=i),R_(t,e)},n}function bk(t,e,n){n=Hr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){R_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){R_(t,e),typeof i!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ix(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new nO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=gO.bind(null,t,e,n),e.then(t,t))}function Px(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var iO=Jr.ReactCurrentOwner,Mn=!1;function En(t,e,n,i){e.child=t===null?ek(e,null,n,i):xl(e,t.child,n,i)}function Ax(t,e,n,i,r){n=n.render;var s=e.ref;return ll(e,r),i=Tv(t,e,n,i,s,r),n=Sv(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Gr(t,e,r)):(pt&&n&&hv(e),e.flags|=1,En(t,e,i,r),e.child)}function Rx(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Mv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kk(t,e,s,i,r)):(t=lf(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lc,n(o,i)&&t.ref===e.ref)return Gr(t,e,r)}return e.flags|=1,t=zs(s,i),t.ref=e.ref,t.return=e,e.child=t}function kk(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Lc(s,i)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Gr(t,e,r)}return L_(t,e,n,i,r)}function Ik(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(tl,qn),qn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(tl,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,st(tl,qn),qn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,st(tl,qn),qn|=i;return En(t,e,r,n),e.child}function Pk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L_(t,e,n,i,r){var s=Dn(n)?Ho:fn.current;return s=vl(e,s),ll(e,r),n=Tv(t,e,n,i,s,r),i=Sv(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Gr(t,e,r)):(pt&&i&&hv(e),e.flags|=1,En(t,e,n,r),e.child)}function Lx(t,e,n,i,r){if(Dn(n)){var s=!0;Vf(e)}else s=!1;if(ll(e,r),e.stateNode===null)sf(t,e),Tk(e,n,i),A_(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=vi(h):(h=Dn(n)?Ho:fn.current,h=vl(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||u!==h)&&kx(e,o,i,h),vs=!1;var g=e.memoizedState;o.state=g,Hf(e,i,o,r),u=e.memoizedState,l!==i||g!==u||Nn.current||vs?(typeof d=="function"&&(C_(e,n,d,i),u=e.memoizedState),(l=vs||bx(e,n,l,i,g,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,nk(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ri(e.type,l),o.props=h,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vi(u):(u=Dn(n)?Ho:fn.current,u=vl(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&kx(e,o,i,u),vs=!1,g=e.memoizedState,o.state=g,Hf(e,i,o,r);var x=e.memoizedState;l!==m||g!==x||Nn.current||vs?(typeof y=="function"&&(C_(e,n,y,i),x=e.memoizedState),(h=vs||bx(e,n,h,i,g,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return O_(t,e,n,i,s,r)}function O_(t,e,n,i,r,s){Pk(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&_x(e,n,!1),Gr(t,e,s);i=e.stateNode,iO.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=xl(e,t.child,null,s),e.child=xl(e,null,l,s)):En(t,e,l,s),e.memoizedState=i.state,r&&_x(e,n,!0),e.child}function Ck(t){var e=t.stateNode;e.pendingContext?gx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gx(t,e.context,!1),vv(t,e.containerInfo)}function Ox(t,e,n,i,r){return wl(),fv(r),e.flags|=256,En(t,e,n,i),e.child}var M_={dehydrated:null,treeContext:null,retryLane:0};function N_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ak(t,e,n){var i=e.pendingProps,r=_t.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),st(_t,r&1),t===null)return I_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wp(o,i,0,null),t=zo(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=N_(n),e.memoizedState=M_,t):Iv(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return rO(t,e,o,i,l,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=zs(r,u),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=zs(l,s):(s=zo(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?N_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=M_,i}return s=t.child,t=s.sibling,i=zs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Iv(t,e){return e=Wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,i){return i!==null&&fv(i),xl(e,t.child,null,n),t=Iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rO(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=lg(Error(ie(422))),xd(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Wp({mode:"visible",children:i.children},r,0,null),s=zo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&xl(e,t.child,null,o),e.child.memoizedState=N_(o),e.memoizedState=M_,s);if(!(e.mode&1))return xd(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(ie(419)),i=lg(s,i,void 0),xd(t,e,o,i)}if(l=(o&t.childLanes)!==0,Mn||l){if(i=$t,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Kr(t,r),zi(i,t,r,-1))}return Ov(),i=lg(Error(ie(421))),xd(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=_O.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Kn=Ns(r.nextSibling),Qn=e,pt=!0,Oi=null,t!==null&&(fi[pi++]=Vr,fi[pi++]=zr,fi[pi++]=$o,Vr=t.id,zr=t.overflow,$o=e),e=Iv(e,i.children),e.flags|=4096,e)}function Mx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),P_(t.return,e,n)}function ug(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Rk(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(En(t,e,i.children,n),i=_t.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mx(t,n,e);else if(t.tag===19)Mx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(st(_t,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&$f(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ug(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&$f(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ug(e,!0,n,null,s);break;case"together":ug(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sO(t,e,n){switch(e.tag){case 3:Ck(e),wl();break;case 5:ik(e);break;case 1:Dn(e.type)&&Vf(e);break;case 4:vv(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;st(jf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(st(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?Ak(t,e,n):(st(_t,_t.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);st(_t,_t.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Rk(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),st(_t,_t.current),i)break;return null;case 22:case 23:return e.lanes=0,Ik(t,e,n)}return Gr(t,e,n)}var Lk,D_,Ok,Mk;Lk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D_=function(){};Ok=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Mo(sr.current);var s=null;switch(n){case"input":r=r_(t,r),i=r_(t,i),s=[];break;case"select":r=vt({},r,{value:void 0}),i=vt({},i,{value:void 0}),s=[];break;case"textarea":r=a_(t,r),i=a_(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Df)}u_(n,i);var o;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var l=r[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(bc.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(l=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(bc.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&lt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Mk=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ou(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function oO(t,e,n){var i=e.pendingProps;switch(dv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return Dn(e.type)&&Ff(),rn(e),null;case 3:return i=e.stateNode,El(),ht(Nn),ht(fn),xv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oi!==null&&($_(Oi),Oi=null))),D_(t,e),rn(e),null;case 5:wv(e);var r=Mo(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)Ok(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ie(166));return rn(e),null}if(t=Mo(sr.current),vd(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[tr]=e,i[Nc]=s,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(r=0;r<Gu.length;r++)lt(Gu[r],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":H0(i,s),lt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},lt("invalid",i);break;case"textarea":W0(i,s),lt("invalid",i)}u_(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&yd(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yd(i.textContent,l,t),r=["children",""+l]):bc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",i)}switch(n){case"input":cd(i),$0(i,s,!0);break;case"textarea":cd(i),q0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Df)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[tr]=e,t[Nc]=i,Lk(t,e,!1,!1),e.stateNode=t;e:{switch(o=c_(n,i),n){case"dialog":lt("cancel",t),lt("close",t),r=i;break;case"iframe":case"object":case"embed":lt("load",t),r=i;break;case"video":case"audio":for(r=0;r<Gu.length;r++)lt(Gu[r],t);r=i;break;case"source":lt("error",t),r=i;break;case"img":case"image":case"link":lt("error",t),lt("load",t),r=i;break;case"details":lt("toggle",t),r=i;break;case"input":H0(t,i),r=r_(t,i),lt("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=vt({},i,{value:void 0}),lt("invalid",t);break;case"textarea":W0(t,i),r=a_(t,i),lt("invalid",t);break;default:r=i}u_(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?h1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&u1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&kc(t,u):typeof u=="number"&&kc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&lt("scroll",t):u!=null&&Yy(t,s,u,o))}switch(n){case"input":cd(t),$0(t,i,!1);break;case"textarea":cd(t),q0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Gs(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?rl(t,!!i.multiple,s,!1):i.defaultValue!=null&&rl(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Df)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)Mk(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Mo(Fc.current),Mo(sr.current),vd(e)){if(i=e.stateNode,n=e.memoizedProps,i[tr]=e,(s=i.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:yd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yd(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[tr]=e,e.stateNode=i}return rn(e),null;case 13:if(ht(_t),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Kn!==null&&e.mode&1&&!(e.flags&128))X1(),wl(),e.flags|=98560,s=!1;else if(s=vd(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[tr]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),s=!1}else Oi!==null&&($_(Oi),Oi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Vt===0&&(Vt=3):Ov())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return El(),D_(t,e),t===null&&Oc(e.stateNode.containerInfo),rn(e),null;case 10:return gv(e.type._context),rn(e),null;case 17:return Dn(e.type)&&Ff(),rn(e),null;case 19:if(ht(_t),s=e.memoizedState,s===null)return rn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ou(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$f(t),o!==null){for(e.flags|=128,Ou(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Sl&&(e.flags|=128,i=!0,Ou(s,!1),e.lanes=4194304)}else{if(!i)if(t=$f(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return rn(e),null}else 2*bt()-s.renderingStartTime>Sl&&n!==1073741824&&(e.flags|=128,i=!0,Ou(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=_t.current,st(_t,i?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return Lv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?qn&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function aO(t,e){switch(dv(e),e.tag){case 1:return Dn(e.type)&&Ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),ht(Nn),ht(fn),xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wv(e),null;case 13:if(ht(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(_t),null;case 4:return El(),null;case 10:return gv(e.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var Ed=!1,ln=!1,lO=typeof WeakSet=="function"?WeakSet:Set,le=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Et(t,e,i)}else n.current=null}function F_(t,e,n){try{n()}catch(i){Et(t,e,i)}}var Nx=!1;function uO(t,e){if(w_=Of,t=z1(),cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,d=0,m=t,g=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=o+r),m!==s||i!==0&&m.nodeType!==3||(u=o+i),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++h===r&&(l=o),g===s&&++d===i&&(u=o),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(x_={focusedElem:t,selectionRange:n},Of=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,b=x.memoizedState,S=e.stateNode,k=S.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ri(e.type,E),b);S.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(B){Et(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=Nx,Nx=!1,x}function uc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&F_(e,n,s)}r=r.next}while(r!==i)}}function Hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function V_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nk(t){var e=t.alternate;e!==null&&(t.alternate=null,Nk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Nc],delete e[S_],delete e[WL],delete e[qL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dk(t){return t.tag===5||t.tag===3||t.tag===4}function Dx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z_(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Df));else if(i!==4&&(t=t.child,t!==null))for(z_(t,e,n),t=t.sibling;t!==null;)z_(t,e,n),t=t.sibling}function B_(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(B_(t,e,n),t=t.sibling;t!==null;)B_(t,e,n),t=t.sibling}var Gt=null,Li=!1;function ps(t,e,n){for(n=n.child;n!==null;)Fk(t,e,n),n=n.sibling}function Fk(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Np,n)}catch{}switch(n.tag){case 5:ln||el(n,e);case 6:var i=Gt,r=Li;Gt=null,ps(t,e,n),Gt=i,Li=r,Gt!==null&&(Li?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(Li?(t=Gt,n=n.stateNode,t.nodeType===8?ng(t.parentNode,n):t.nodeType===1&&ng(t,n),Ac(t)):ng(Gt,n.stateNode));break;case 4:i=Gt,r=Li,Gt=n.stateNode.containerInfo,Li=!0,ps(t,e,n),Gt=i,Li=r;break;case 0:case 11:case 14:case 15:if(!ln&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&F_(n,e,o),r=r.next}while(r!==i)}ps(t,e,n);break;case 1:if(!ln&&(el(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Et(n,e,l)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(ln=(i=ln)||n.memoizedState!==null,ps(t,e,n),ln=i):ps(t,e,n);break;default:ps(t,e,n)}}function Fx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lO),e.forEach(function(i){var r=yO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ai(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,Li=!1;break e;case 3:Gt=l.stateNode.containerInfo,Li=!0;break e;case 4:Gt=l.stateNode.containerInfo,Li=!0;break e}l=l.return}if(Gt===null)throw Error(ie(160));Fk(s,o,r),Gt=null,Li=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(h){Et(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vk(e,t),e=e.sibling}function Vk(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ai(e,t),Gi(t),i&4){try{uc(3,t,t.return),Hp(3,t)}catch(E){Et(t,t.return,E)}try{uc(5,t,t.return)}catch(E){Et(t,t.return,E)}}break;case 1:Ai(e,t),Gi(t),i&512&&n!==null&&el(n,n.return);break;case 5:if(Ai(e,t),Gi(t),i&512&&n!==null&&el(n,n.return),t.flags&32){var r=t.stateNode;try{kc(r,"")}catch(E){Et(t,t.return,E)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&o1(r,s),c_(l,o);var h=c_(l,s);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?h1(r,m):d==="dangerouslySetInnerHTML"?u1(r,m):d==="children"?kc(r,m):Yy(r,d,m,h)}switch(l){case"input":s_(r,s);break;case"textarea":a1(r,s);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?rl(r,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?rl(r,!!s.multiple,s.defaultValue,!0):rl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nc]=s}catch(E){Et(t,t.return,E)}}break;case 6:if(Ai(e,t),Gi(t),i&4){if(t.stateNode===null)throw Error(ie(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(E){Et(t,t.return,E)}}break;case 3:if(Ai(e,t),Gi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(E){Et(t,t.return,E)}break;case 4:Ai(e,t),Gi(t);break;case 13:Ai(e,t),Gi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Av=bt())),i&4&&Fx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(h=ln)||d,Ai(e,t),ln=h):Ai(e,t),Gi(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(m=le=d;le!==null;){switch(g=le,y=g.child,g.tag){case 0:case 11:case 14:case 15:uc(4,g,g.return);break;case 1:el(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){Et(i,n,E)}}break;case 5:el(g,g.return);break;case 22:if(g.memoizedState!==null){zx(m);continue}}y!==null?(y.return=g,le=y):zx(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{r=m.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=c1("display",o))}catch(E){Et(t,t.return,E)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(E){Et(t,t.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ai(e,t),Gi(t),i&4&&Fx(t);break;case 21:break;default:Ai(e,t),Gi(t)}}function Gi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dk(n)){var i=n;break e}n=n.return}throw Error(ie(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(kc(r,""),i.flags&=-33);var s=Dx(t);B_(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Dx(t);z_(t,l,o);break;default:throw Error(ie(161))}}catch(u){Et(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cO(t,e,n){le=t,zk(t)}function zk(t,e,n){for(var i=(t.mode&1)!==0;le!==null;){var r=le,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ed;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||ln;l=Ed;var h=ln;if(Ed=o,(ln=u)&&!h)for(le=r;le!==null;)o=le,u=o.child,o.tag===22&&o.memoizedState!==null?Bx(r):u!==null?(u.return=o,le=u):Bx(r);for(;s!==null;)le=s,zk(s),s=s.sibling;le=r,Ed=l,ln=h}Vx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,le=s):Vx(t)}}function Vx(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Hp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ln)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ri(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ex(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ex(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ac(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}ln||e.flags&512&&V_(e)}catch(g){Et(e,e.return,g)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function zx(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Bx(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hp(4,e)}catch(u){Et(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){Et(e,r,u)}}var s=e.return;try{V_(e)}catch(u){Et(e,s,u)}break;case 5:var o=e.return;try{V_(e)}catch(u){Et(e,o,u)}}}catch(u){Et(e,e.return,u)}if(e===t){le=null;break}var l=e.sibling;if(l!==null){l.return=e.return,le=l;break}le=e.return}}var hO=Math.ceil,Kf=Jr.ReactCurrentDispatcher,Pv=Jr.ReactCurrentOwner,yi=Jr.ReactCurrentBatchConfig,We=0,$t=null,Lt=null,Yt=0,qn=0,tl=no(0),Vt=0,jc=null,qo=0,$p=0,Cv=0,cc=null,Rn=null,Av=0,Sl=1/0,Nr=null,Gf=!1,j_=null,Fs=null,Td=!1,Is=null,Zf=0,hc=0,U_=null,of=-1,af=0;function Tn(){return We&6?bt():of!==-1?of:of=bt()}function Vs(t){return t.mode&1?We&2&&Yt!==0?Yt&-Yt:GL.transition!==null?(af===0&&(af=T1()),af):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:A1(t.type)),t):1}function zi(t,e,n,i){if(50<hc)throw hc=0,U_=null,Error(ie(185));ah(t,n,i),(!(We&2)||t!==$t)&&(t===$t&&(!(We&2)&&($p|=n),Vt===4&&xs(t,Yt)),Fn(t,i),n===1&&We===0&&!(e.mode&1)&&(Sl=bt()+500,Bp&&io()))}function Fn(t,e){var n=t.callbackNode;G2(t,e);var i=Lf(t,t===$t?Yt:0);if(i===0)n!==null&&Z0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Z0(n),e===1)t.tag===0?KL(jx.bind(null,t)):Z1(jx.bind(null,t)),HL(function(){!(We&6)&&io()}),n=null;else{switch(S1(i)){case 1:n=nv;break;case 4:n=x1;break;case 16:n=Rf;break;case 536870912:n=E1;break;default:n=Rf}n=Kk(n,Bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bk(t,e){if(of=-1,af=0,We&6)throw Error(ie(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var i=Lf(t,t===$t?Yt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Qf(t,i);else{e=i;var r=We;We|=2;var s=Uk();($t!==t||Yt!==e)&&(Nr=null,Sl=bt()+500,Vo(t,e));do try{pO();break}catch(l){jk(t,l)}while(!0);mv(),Kf.current=s,We=r,Lt!==null?e=0:($t=null,Yt=0,e=Vt)}if(e!==0){if(e===2&&(r=m_(t),r!==0&&(i=r,e=H_(t,r))),e===1)throw n=jc,Vo(t,0),xs(t,i),Fn(t,bt()),n;if(e===6)xs(t,i);else{if(r=t.current.alternate,!(i&30)&&!dO(r)&&(e=Qf(t,i),e===2&&(s=m_(t),s!==0&&(i=s,e=H_(t,s))),e===1))throw n=jc,Vo(t,0),xs(t,i),Fn(t,bt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(ie(345));case 2:Io(t,Rn,Nr);break;case 3:if(xs(t,i),(i&130023424)===i&&(e=Av+500-bt(),10<e)){if(Lf(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Tn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=T_(Io.bind(null,t,Rn,Nr),e);break}Io(t,Rn,Nr);break;case 4:if(xs(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Vi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=bt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hO(i/1960))-i,10<i){t.timeoutHandle=T_(Io.bind(null,t,Rn,Nr),i);break}Io(t,Rn,Nr);break;case 5:Io(t,Rn,Nr);break;default:throw Error(ie(329))}}}return Fn(t,bt()),t.callbackNode===n?Bk.bind(null,t):null}function H_(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=Qf(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&$_(e)),t}function $_(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function dO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Bi(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~Cv,e&=~$p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vi(e),i=1<<n;t[n]=-1,e&=~i}}function jx(t){if(We&6)throw Error(ie(327));ul();var e=Lf(t,0);if(!(e&1))return Fn(t,bt()),null;var n=Qf(t,e);if(t.tag!==0&&n===2){var i=m_(t);i!==0&&(e=i,n=H_(t,i))}if(n===1)throw n=jc,Vo(t,0),xs(t,e),Fn(t,bt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,Rn,Nr),Fn(t,bt()),null}function Rv(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(Sl=bt()+500,Bp&&io())}}function Ko(t){Is!==null&&Is.tag===0&&!(We&6)&&ul();var e=We;We|=1;var n=yi.transition,i=Xe;try{if(yi.transition=null,Xe=1,t)return t()}finally{Xe=i,yi.transition=n,We=e,!(We&6)&&io()}}function Lv(){qn=tl.current,ht(tl)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UL(n)),Lt!==null)for(n=Lt.return;n!==null;){var i=n;switch(dv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ff();break;case 3:El(),ht(Nn),ht(fn),xv();break;case 5:wv(i);break;case 4:El();break;case 13:ht(_t);break;case 19:ht(_t);break;case 10:gv(i.type._context);break;case 22:case 23:Lv()}n=n.return}if($t=t,Lt=t=zs(t.current,null),Yt=qn=e,Vt=0,jc=null,Cv=$p=qo=0,Rn=cc=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Oo=null}return t}function jk(t,e){do{var n=Lt;try{if(mv(),nf.current=qf,Wf){for(var i=yt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wf=!1}if(Wo=0,Ht=Dt=yt=null,lc=!1,Vc=0,Pv.current=null,n===null||n.return===null){Vt=1,jc=e,Lt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Yt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Px(o);if(y!==null){y.flags&=-257,Cx(y,o,l,s,e),y.mode&1&&Ix(s,h,e),e=y,u=h;var x=e.updateQueue;if(x===null){var E=new Set;E.add(u),e.updateQueue=E}else x.add(u);break e}else{if(!(e&1)){Ix(s,h,e),Ov();break e}u=Error(ie(426))}}else if(pt&&l.mode&1){var b=Px(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cx(b,o,l,s,e),fv(Tl(u,l));break e}}s=u=Tl(u,l),Vt!==4&&(Vt=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Sk(s,u,e);xx(s,S);break e;case 1:l=u;var k=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Fs===null||!Fs.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=bk(s,l,e);xx(s,B);break e}}s=s.return}while(s!==null)}$k(n)}catch($){e=$,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function Uk(){var t=Kf.current;return Kf.current=qf,t===null?qf:t}function Ov(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),$t===null||!(qo&268435455)&&!($p&268435455)||xs($t,Yt)}function Qf(t,e){var n=We;We|=2;var i=Uk();($t!==t||Yt!==e)&&(Nr=null,Vo(t,e));do try{fO();break}catch(r){jk(t,r)}while(!0);if(mv(),We=n,Kf.current=i,Lt!==null)throw Error(ie(261));return $t=null,Yt=0,Vt}function fO(){for(;Lt!==null;)Hk(Lt)}function pO(){for(;Lt!==null&&!z2();)Hk(Lt)}function Hk(t){var e=qk(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?$k(t):Lt=e,Pv.current=null}function $k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aO(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Lt=null;return}}else if(n=oO(n,e,qn),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Io(t,e,n){var i=Xe,r=yi.transition;try{yi.transition=null,Xe=1,mO(t,e,n,i)}finally{yi.transition=r,Xe=i}return null}function mO(t,e,n,i){do ul();while(Is!==null);if(We&6)throw Error(ie(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Z2(t,s),t===$t&&(Lt=$t=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Td||(Td=!0,Kk(Rf,function(){return ul(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yi.transition,yi.transition=null;var o=Xe;Xe=1;var l=We;We|=4,Pv.current=null,uO(t,n),Vk(n,t),NL(x_),Of=!!w_,x_=w_=null,t.current=n,cO(n),B2(),We=l,Xe=o,yi.transition=s}else t.current=n;if(Td&&(Td=!1,Is=t,Zf=r),s=t.pendingLanes,s===0&&(Fs=null),H2(n.stateNode),Fn(t,bt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gf)throw Gf=!1,t=j_,j_=null,t;return Zf&1&&t.tag!==0&&ul(),s=t.pendingLanes,s&1?t===U_?hc++:(hc=0,U_=t):hc=0,io(),null}function ul(){if(Is!==null){var t=S1(Zf),e=yi.transition,n=Xe;try{if(yi.transition=null,Xe=16>t?16:t,Is===null)var i=!1;else{if(t=Is,Is=null,Zf=0,We&6)throw Error(ie(331));var r=We;for(We|=4,le=t.current;le!==null;){var s=le,o=s.child;if(le.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(le=h;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:uc(8,d,s)}var m=d.child;if(m!==null)m.return=d,le=m;else for(;le!==null;){d=le;var g=d.sibling,y=d.return;if(Nk(d),d===h){le=null;break}if(g!==null){g.return=y,le=g;break}le=y}}}var x=s.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,le=o;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uc(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,le=S;break e}le=s.return}}var k=t.current;for(le=k;le!==null;){o=le;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,le=I;else e:for(o=k;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hp(9,l)}}catch($){Et(l,l.return,$)}if(l===o){le=null;break e}var B=l.sibling;if(B!==null){B.return=l.return,le=B;break e}le=l.return}}if(We=r,io(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Np,t)}catch{}i=!0}return i}finally{Xe=n,yi.transition=e}}return!1}function Ux(t,e,n){e=Tl(n,e),e=Sk(t,e,1),t=Ds(t,e,1),e=Tn(),t!==null&&(ah(t,1,e),Fn(t,e))}function Et(t,e,n){if(t.tag===3)Ux(t,t,n);else for(;e!==null;){if(e.tag===3){Ux(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fs===null||!Fs.has(i))){t=Tl(n,t),t=bk(e,t,1),e=Ds(e,t,1),t=Tn(),e!==null&&(ah(e,1,t),Fn(e,t));break}}e=e.return}}function gO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Yt&n)===n&&(Vt===4||Vt===3&&(Yt&130023424)===Yt&&500>bt()-Av?Vo(t,0):Cv|=n),Fn(t,e)}function Wk(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var n=Tn();t=Kr(t,e),t!==null&&(ah(t,e,n),Fn(t,n))}function _O(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wk(t,n)}function yO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(ie(314))}i!==null&&i.delete(e),Wk(t,n)}var qk;qk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,sO(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,pt&&e.flags&1048576&&Q1(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;sf(t,e),t=e.pendingProps;var r=vl(e,fn.current);ll(e,n),r=Tv(null,e,i,t,r,n);var s=Sv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(i)?(s=!0,Vf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,yv(e),r.updater=Up,e.stateNode=r,r._reactInternals=e,A_(e,i,t,n),e=O_(null,e,i,!0,s,n)):(e.tag=0,pt&&s&&hv(e),En(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(sf(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=wO(i),t=Ri(i,t),r){case 0:e=L_(null,e,i,t,n);break e;case 1:e=Lx(null,e,i,t,n);break e;case 11:e=Ax(null,e,i,t,n);break e;case 14:e=Rx(null,e,i,Ri(i.type,t),n);break e}throw Error(ie(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ri(i,r),L_(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ri(i,r),Lx(t,e,i,r,n);case 3:e:{if(Ck(e),t===null)throw Error(ie(387));i=e.pendingProps,s=e.memoizedState,r=s.element,nk(t,e),Hf(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Tl(Error(ie(423)),e),e=Ox(t,e,i,n,r);break e}else if(i!==r){r=Tl(Error(ie(424)),e),e=Ox(t,e,i,n,r);break e}else for(Kn=Ns(e.stateNode.containerInfo.firstChild),Qn=e,pt=!0,Oi=null,n=ek(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),i===r){e=Gr(t,e,n);break e}En(t,e,i,n)}e=e.child}return e;case 5:return ik(e),t===null&&I_(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,E_(i,r)?o=null:s!==null&&E_(i,s)&&(e.flags|=32),Pk(t,e),En(t,e,o,n),e.child;case 6:return t===null&&I_(e),null;case 13:return Ak(t,e,n);case 4:return vv(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=xl(e,null,i,n):En(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ri(i,r),Ax(t,e,i,r,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,st(jf,i._currentValue),i._currentValue=o,s!==null)if(Bi(s.value,o)){if(s.children===r.children&&!Nn.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=Hr(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),P_(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),P_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}En(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ll(e,n),r=vi(r),i=i(r),e.flags|=1,En(t,e,i,n),e.child;case 14:return i=e.type,r=Ri(i,e.pendingProps),r=Ri(i.type,r),Rx(t,e,i,r,n);case 15:return kk(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ri(i,r),sf(t,e),e.tag=1,Dn(i)?(t=!0,Vf(e)):t=!1,ll(e,n),Tk(e,i,r),A_(e,i,r,n),O_(null,e,i,!0,t,n);case 19:return Rk(t,e,n);case 22:return Ik(t,e,n)}throw Error(ie(156,e.tag))};function Kk(t,e){return w1(t,e)}function vO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,e,n,i){return new vO(t,e,n,i)}function Mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wO(t){if(typeof t=="function")return Mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===ev)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lf(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Mv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wa:return zo(n.children,r,s,e);case Xy:o=8,r|=8;break;case e_:return t=gi(12,n,e,r|2),t.elementType=e_,t.lanes=s,t;case t_:return t=gi(13,n,e,r),t.elementType=t_,t.lanes=s,t;case n_:return t=gi(19,n,e,r),t.elementType=n_,t.lanes=s,t;case i1:return Wp(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t1:o=10;break e;case n1:o=9;break e;case Jy:o=11;break e;case ev:o=14;break e;case ys:o=16,i=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=gi(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function zo(t,e,n,i){return t=gi(7,t,i,e),t.lanes=n,t}function Wp(t,e,n,i){return t=gi(22,t,i,e),t.elementType=i1,t.lanes=n,t.stateNode={isHidden:!1},t}function cg(t,e,n){return t=gi(6,t,null,e),t.lanes=n,t}function hg(t,e,n){return e=gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wm(0),this.expirationTimes=Wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,i,r,s,o,l,u){return t=new xO(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yv(s),t}function EO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Gk(t){if(!t)return Zs;t=t._reactInternals;e:{if(ia(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Dn(n))return G1(t,n,e)}return e}function Zk(t,e,n,i,r,s,o,l,u){return t=Nv(n,i,!0,t,r,s,o,l,u),t.context=Gk(null),n=t.current,i=Tn(),r=Vs(n),s=Hr(i,r),s.callback=e??null,Ds(n,s,r),t.current.lanes=r,ah(t,r,i),Fn(t,i),t}function qp(t,e,n,i){var r=e.current,s=Tn(),o=Vs(r);return n=Gk(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ds(r,e,o),t!==null&&(zi(t,r,o,s),tf(t,r,o)),o}function Yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dv(t,e){Hx(t,e),(t=t.alternate)&&Hx(t,e)}function TO(){return null}var Qk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fv(t){this._internalRoot=t}Kp.prototype.render=Fv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));qp(t,e,null,null)};Kp.prototype.unmount=Fv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){qp(null,t,null,null)}),e[qr]=null}};function Kp(t){this._internalRoot=t}Kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=I1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&C1(t)}};function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $x(){}function SO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=Yf(o);s.call(h)}}var o=Zk(e,i,t,0,null,!1,!1,"",$x);return t._reactRootContainer=o,t[qr]=o.current,Oc(t.nodeType===8?t.parentNode:t),Ko(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var h=Yf(u);l.call(h)}}var u=Nv(t,0,!1,null,null,!1,!1,"",$x);return t._reactRootContainer=u,t[qr]=u.current,Oc(t.nodeType===8?t.parentNode:t),Ko(function(){qp(e,u,n,i)}),u}function Zp(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var u=Yf(o);l.call(u)}}qp(e,o,t,r)}else o=SO(n,e,t,r,i);return Yf(o)}b1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ku(e.pendingLanes);n!==0&&(iv(e,n|1),Fn(e,bt()),!(We&6)&&(Sl=bt()+500,io()))}break;case 13:Ko(function(){var i=Kr(t,1);if(i!==null){var r=Tn();zi(i,t,1,r)}}),Dv(t,1)}};rv=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Tn();zi(e,t,134217728,n)}Dv(t,134217728)}};k1=function(t){if(t.tag===13){var e=Vs(t),n=Kr(t,e);if(n!==null){var i=Tn();zi(n,t,e,i)}Dv(t,e)}};I1=function(){return Xe};P1=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};d_=function(t,e,n){switch(e){case"input":if(s_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=zp(i);if(!r)throw Error(ie(90));s1(i),s_(i,r)}}}break;case"textarea":a1(t,n);break;case"select":e=n.value,e!=null&&rl(t,!!n.multiple,e,!1)}};p1=Rv;m1=Ko;var bO={usingClientEntryPoint:!1,Events:[uh,Za,zp,d1,f1,Rv]},Mu={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y1(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||TO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Np=Sd.inject(kO),rr=Sd}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bO;ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(e))throw Error(ie(200));return EO(t,e,null,n)};ei.createRoot=function(t,e){if(!Vv(t))throw Error(ie(299));var n=!1,i="",r=Qk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,i,r),t[qr]=e.current,Oc(t.nodeType===8?t.parentNode:t),new Fv(e)};ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=y1(e),t=t===null?null:t.stateNode,t};ei.flushSync=function(t){return Ko(t)};ei.hydrate=function(t,e,n){if(!Gp(e))throw Error(ie(200));return Zp(null,t,e,!0,n)};ei.hydrateRoot=function(t,e,n){if(!Vv(t))throw Error(ie(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Qk;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zk(e,null,t,1,n??null,r,!1,s,o),t[qr]=e.current,Oc(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kp(e)};ei.render=function(t,e,n){if(!Gp(e))throw Error(ie(200));return Zp(null,t,e,!1,n)};ei.unmountComponentAtNode=function(t){if(!Gp(t))throw Error(ie(40));return t._reactRootContainer?(Ko(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};ei.unstable_batchedUpdates=Rv;ei.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gp(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Zp(t,e,n,!1,i)};ei.version="18.3.1-next-f1338f8080-20240426";function Yk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yk)}catch(t){console.error(t)}}Yk(),Yb.exports=ei;var IO=Yb.exports,Wx=IO;Xg.createRoot=Wx.createRoot,Xg.hydrateRoot=Wx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Uc.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const qx="popstate";function PO(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return W_("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Xf(r)}return AO(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CO(){return Math.random().toString(36).substr(2,8)}function Kx(t,e){return{usr:t.state,key:t.key,idx:e}}function W_(t,e,n,i){return n===void 0&&(n=null),Uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vl(e):e,{state:n,key:e&&e.key||i||CO()})}function Xf(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function AO(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Ps.Pop,u=null,h=d();h==null&&(h=0,o.replaceState(Uc({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=Ps.Pop;let b=d(),S=b==null?null:b-h;h=b,u&&u({action:l,location:E.location,delta:S})}function g(b,S){l=Ps.Push;let k=W_(E.location,b,S);h=d()+1;let I=Kx(k,h),B=E.createHref(k);try{o.pushState(I,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(B)}s&&u&&u({action:l,location:E.location,delta:1})}function y(b,S){l=Ps.Replace;let k=W_(E.location,b,S);h=d();let I=Kx(k,h),B=E.createHref(k);o.replaceState(I,"",B),s&&u&&u({action:l,location:E.location,delta:0})}function x(b){let S=r.location.origin!=="null"?r.location.origin:r.location.href,k=typeof b=="string"?b:Xf(b);return k=k.replace(/ $/,"%20"),Mt(S,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,S)}let E={get action(){return l},get location(){return t(r,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(qx,m),u=b,()=>{r.removeEventListener(qx,m),u=null}},createHref(b){return e(r,b)},createURL:x,encodeLocation(b){let S=x(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(b){return o.go(b)}};return E}var Gx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gx||(Gx={}));function RO(t,e,n){return n===void 0&&(n="/"),LO(t,e,n)}function LO(t,e,n,i){let r=typeof e=="string"?Vl(e):e,s=zv(r.pathname||"/",n);if(s==null)return null;let o=Jk(t);OO(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=WO(s);l=UO(o[u],h)}return l}function Jk(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Mt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=Bs([i,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Jk(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:BO(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let u of eI(s.path))r(s,o,u)}),e}function eI(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=eI(i.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function OO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const MO=/^:[\w-]+$/,NO=3,DO=2,FO=1,VO=10,zO=-2,Zx=t=>t==="*";function BO(t,e){let n=t.split("/"),i=n.length;return n.some(Zx)&&(i+=zO),e&&(i+=DO),n.filter(r=>!Zx(r)).reduce((r,s)=>r+(MO.test(s)?NO:s===""?FO:VO),i)}function jO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function UO(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let l=0;l<i.length;++l){let u=i[l],h=l===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=HO({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),g=u.route;if(!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:Bs([s,m.pathname]),pathnameBase:ZO(Bs([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Bs([s,m.pathnameBase]))}return o}function HO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=$O(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,d,m)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let E=l[m]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const x=l[m];return y&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function $O(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function WO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function qO(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Vl(t):t;return{pathname:n?n.startsWith("/")?n:KO(n,e):e,search:QO(i),hash:YO(r)}}function KO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function dg(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tI(t,e){let n=GO(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function nI(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Vl(t):(r=Uc({},t),Mt(!r.pathname||!r.pathname.includes("?"),dg("?","pathname","search",r)),Mt(!r.pathname||!r.pathname.includes("#"),dg("#","pathname","hash",r)),Mt(!r.search||!r.search.includes("#"),dg("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=qO(r,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const Bs=t=>t.join("/").replace(/\/\/+/g,"/"),ZO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iI=["post","put","patch","delete"];new Set(iI);const JO=["get",...iI];new Set(JO);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hc.apply(this,arguments)}const Bv=K.createContext(null),eM=K.createContext(null),ra=K.createContext(null),Qp=K.createContext(null),sa=K.createContext({outlet:null,matches:[],isDataRoute:!1}),rI=K.createContext(null);function tM(t,e){let{relative:n}=e===void 0?{}:e;hh()||Mt(!1);let{basename:i,navigator:r}=K.useContext(ra),{hash:s,pathname:o,search:l}=oI(t,{relative:n}),u=o;return i!=="/"&&(u=o==="/"?i:Bs([i,o])),r.createHref({pathname:u,search:l,hash:s})}function hh(){return K.useContext(Qp)!=null}function dh(){return hh()||Mt(!1),K.useContext(Qp).location}function sI(t){K.useContext(ra).static||K.useLayoutEffect(t)}function jv(){let{isDataRoute:t}=K.useContext(sa);return t?pM():nM()}function nM(){hh()||Mt(!1);let t=K.useContext(Bv),{basename:e,future:n,navigator:i}=K.useContext(ra),{matches:r}=K.useContext(sa),{pathname:s}=dh(),o=JSON.stringify(tI(r,n.v7_relativeSplatPath)),l=K.useRef(!1);return sI(()=>{l.current=!0}),K.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){i.go(h);return}let m=nI(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Bs([e,m.pathname])),(d.replace?i.replace:i.push)(m,d.state,d)},[e,i,o,s,t])}function oI(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=K.useContext(ra),{matches:r}=K.useContext(sa),{pathname:s}=dh(),o=JSON.stringify(tI(r,i.v7_relativeSplatPath));return K.useMemo(()=>nI(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function iM(t,e){return rM(t,e)}function rM(t,e,n,i){hh()||Mt(!1);let{navigator:r,static:s}=K.useContext(ra),{matches:o}=K.useContext(sa),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let d=dh(),m;if(e){var g;let S=typeof e=="string"?Vl(e):e;h==="/"||(g=S.pathname)!=null&&g.startsWith(h)||Mt(!1),m=S}else m=d;let y=m.pathname||"/",x=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=RO(t,{pathname:x}),b=uM(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Bs([h,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Bs([h,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,i);return e&&b?K.createElement(Qp.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ps.Pop}},b):b}function sM(){let t=fM(),e=XO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:r},n):null,null)}const oM=K.createElement(sM,null);class aM extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(sa.Provider,{value:this.props.routeContext},K.createElement(rI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lM(t){let{routeContext:e,match:n,children:i}=t,r=K.useContext(Bv);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(sa.Provider,{value:e},i)}function uM(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,x=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let y,x=!1,E=null,b=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||oM,u&&(h<0&&g===0?(mM("route-fallback"),x=!0,b=null):h===g&&(x=!0,b=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),k=()=>{let I;return y?I=E:x?I=b:m.route.Component?I=K.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=d,K.createElement(lM,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?K.createElement(aM,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}var aI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aI||{}),lI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lI||{});function cM(t){let e=K.useContext(Bv);return e||Mt(!1),e}function hM(t){let e=K.useContext(eM);return e||Mt(!1),e}function dM(t){let e=K.useContext(sa);return e||Mt(!1),e}function uI(t){let e=dM(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function fM(){var t;let e=K.useContext(rI),n=hM(),i=uI();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function pM(){let{router:t}=cM(aI.UseNavigateStable),e=uI(lI.UseNavigateStable),n=K.useRef(!1);return sI(()=>{n.current=!0}),K.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Hc({fromRouteId:e},s)))},[t,e])}const Qx={};function mM(t,e,n){Qx[t]||(Qx[t]=!0)}function gM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Po(t){Mt(!1)}function _M(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ps.Pop,navigator:s,static:o=!1,future:l}=t;hh()&&Mt(!1);let u=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:s,static:o,future:Hc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof i=="string"&&(i=Vl(i));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:x="default"}=i,E=K.useMemo(()=>{let b=zv(d,u);return b==null?null:{location:{pathname:b,search:m,hash:g,state:y,key:x},navigationType:r}},[u,d,m,g,y,x,r]);return E==null?null:K.createElement(ra.Provider,{value:h},K.createElement(Qp.Provider,{children:n,value:E}))}function yM(t){let{children:e,location:n}=t;return iM(q_(e),n)}new Promise(()=>{});function q_(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(i,r)=>{if(!K.isValidElement(i))return;let s=[...e,r];if(i.type===K.Fragment){n.push.apply(n,q_(i.props.children,s));return}i.type!==Po&&Mt(!1),!i.props.index||!i.props.children||Mt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=q_(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},K_.apply(this,arguments)}function vM(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function wM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xM(t,e){return t.button===0&&(!e||e==="_self")&&!wM(t)}const EM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TM="6";try{window.__reactRouterVersion=TM}catch{}const SM="startTransition",Yx=g2[SM];function bM(t){let{basename:e,children:n,future:i,window:r}=t,s=K.useRef();s.current==null&&(s.current=PO({window:r,v5Compat:!0}));let o=s.current,[l,u]=K.useState({action:o.action,location:o.location}),{v7_startTransition:h}=i||{},d=K.useCallback(m=>{h&&Yx?Yx(()=>u(m)):u(m)},[u,h]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.useEffect(()=>gM(i),[i]),K.createElement(_M,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:i})}const kM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=K.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:m}=e,g=vM(e,EM),{basename:y}=K.useContext(ra),x,E=!1;if(typeof h=="string"&&IM.test(h)&&(x=h,kM))try{let I=new URL(window.location.href),B=h.startsWith("//")?new URL(I.protocol+h):new URL(h),$=zv(B.pathname,y);B.origin===I.origin&&$!=null?h=$+B.search+B.hash:E=!0}catch{}let b=tM(h,{relative:r}),S=PM(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:m});function k(I){i&&i(I),I.defaultPrevented||S(I)}return K.createElement("a",K_({},g,{href:x||b,onClick:E||s?i:k,ref:n,target:u}))});var Xx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xx||(Xx={}));var Jx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));function PM(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=jv(),h=dh(),d=oI(t,{relative:o});return K.useCallback(m=>{if(xM(m,n)){m.preventDefault();let g=i!==void 0?i:Xf(h)===Xf(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,i,r,n,t,s,o,l])}var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},CM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,o||(g=64)),i.push(n[d],n[m],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||m==null)throw new AM;const g=s<<2|l>>4;if(i.push(g),h!==64){const y=l<<4&240|h>>2;if(i.push(y),m!==64){const x=h<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RM=function(t){const e=cI(t);return hI.encodeByteArray(e,!0)},Jf=function(t){return RM(t).replace(/\./g,"")},dI=function(t){try{return hI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=()=>LM().__FIREBASE_DEFAULTS__,MM=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Yp=()=>{try{return OM()||MM()||NM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fI=t=>{var e,n;return(n=(e=Yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pI=t=>{const e=fI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},mI=()=>{var t;return(t=Yp())===null||t===void 0?void 0:t.config},gI=t=>{var e;return(e=Yp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(n)),Jf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function VM(){var t;const e=(t=Yp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UM(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!VM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function WM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="FirebaseError";class mr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qM,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fh.prototype.create)}}class fh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?KM(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new mr(r,l,i)}}function KM(t,e){return t.replace(GM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const GM=/\{\$([^}]+)}/g;function ZM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ep(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(tE(s)&&tE(o)){if(!ep(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QM(t,e){const n=new YM(t,e);return n.subscribe.bind(n)}class YM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");XM(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=fg),r.error===void 0&&(r.error=fg),r.complete===void 0&&(r.complete=fg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new DM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(t){return t===Co?void 0:t}function tN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const iN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},rN=Be.INFO,sN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},oN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=sN[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uv{constructor(e){this.name=e,this._logLevel=rN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const aN=(t,e)=>e.some(n=>t instanceof n);let nE,iE;function lN(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yI=new WeakMap,G_=new WeakMap,vI=new WeakMap,pg=new WeakMap,Hv=new WeakMap;function cN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(js(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yI.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function hN(t){if(G_.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});G_.set(t,e)}let Z_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dN(t){Z_=t(Z_)}function fN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mg(this),e,...n);return vI.set(i,e.sort?e.sort():[e]),js(i)}:uN().includes(t)?function(...e){return t.apply(mg(this),e),js(yI.get(this))}:function(...e){return js(t.apply(mg(this),e))}}function pN(t){return typeof t=="function"?fN(t):(t instanceof IDBTransaction&&hN(t),aN(t,lN())?new Proxy(t,Z_):t)}function js(t){if(t instanceof IDBRequest)return cN(t);if(pg.has(t))return pg.get(t);const e=pN(t);return e!==t&&(pg.set(t,e),Hv.set(e,t)),e}const mg=t=>Hv.get(t);function mN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=js(o);return i&&o.addEventListener("upgradeneeded",u=>{i(js(o.result),u.oldVersion,u.newVersion,js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const gN=["get","getKey","getAll","getAllKeys","count"],_N=["put","add","delete","clear"],gg=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=_N.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gN.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return gg.set(e,s),s}dN(t=>({...t,get:(e,n,i)=>rE(e,n)||t.get(e,n,i),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q_="@firebase/app",sE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Uv("@firebase/app"),wN="@firebase/app-compat",xN="@firebase/analytics-compat",EN="@firebase/analytics",TN="@firebase/app-check-compat",SN="@firebase/app-check",bN="@firebase/auth",kN="@firebase/auth-compat",IN="@firebase/database",PN="@firebase/data-connect",CN="@firebase/database-compat",AN="@firebase/functions",RN="@firebase/functions-compat",LN="@firebase/installations",ON="@firebase/installations-compat",MN="@firebase/messaging",NN="@firebase/messaging-compat",DN="@firebase/performance",FN="@firebase/performance-compat",VN="@firebase/remote-config",zN="@firebase/remote-config-compat",BN="@firebase/storage",jN="@firebase/storage-compat",UN="@firebase/firestore",HN="@firebase/vertexai-preview",$N="@firebase/firestore-compat",WN="firebase",qN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="[DEFAULT]",KN={[Q_]:"fire-core",[wN]:"fire-core-compat",[EN]:"fire-analytics",[xN]:"fire-analytics-compat",[SN]:"fire-app-check",[TN]:"fire-app-check-compat",[bN]:"fire-auth",[kN]:"fire-auth-compat",[IN]:"fire-rtdb",[PN]:"fire-data-connect",[CN]:"fire-rtdb-compat",[AN]:"fire-fn",[RN]:"fire-fn-compat",[LN]:"fire-iid",[ON]:"fire-iid-compat",[MN]:"fire-fcm",[NN]:"fire-fcm-compat",[DN]:"fire-perf",[FN]:"fire-perf-compat",[VN]:"fire-rc",[zN]:"fire-rc-compat",[BN]:"fire-gcs",[jN]:"fire-gcs-compat",[UN]:"fire-fst",[$N]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,GN=new Map,X_=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(X_.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;X_.set(e,t);for(const n of tp.values())oE(n,t);for(const n of GN.values())oE(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new fh("app","Firebase",ZN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=qN;function wI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Y_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Us.create("bad-app-name",{appName:String(r)});if(n||(n=mI()),!n)throw Us.create("no-options");const s=tp.get(r);if(s){if(ep(n,s.options)&&ep(i,s.config))return s;throw Us.create("duplicate-app",{appName:r})}const o=new nN(r);for(const u of X_.values())o.addComponent(u);const l=new QN(n,i,o);return tp.set(r,l),l}function $v(t=Y_){const e=tp.get(t);if(!e&&t===Y_&&mI())return wI();if(!e)throw Us.create("no-app",{appName:t});return e}function or(t,e,n){var i;let r=(i=KN[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(l.join(" "));return}Go(new Qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-heartbeat-database",XN=1,$c="firebase-heartbeat-store";let _g=null;function xI(){return _g||(_g=mN(YN,XN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),_g}async function JN(t){try{const n=(await xI()).transaction($c),i=await n.objectStore($c).get(EI(t));return await n.done,i}catch(e){if(e instanceof mr)Zr.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function aE(t,e){try{const i=(await xI()).transaction($c,"readwrite");await i.objectStore($c).put(e,EI(t)),await i.done}catch(n){if(n instanceof mr)Zr.warn(n.message);else{const i=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(i.message)}}}function EI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1024,tD=30*24*60*60*1e3;class nD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=tD}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Zr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lE(),{heartbeatsToSend:i,unsentEntries:r}=iD(this._heartbeatsCache.heartbeats),s=Jf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zr.warn(n),""}}}function lE(){return new Date().toISOString().substring(0,10)}function iD(t,e=eD){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),uE(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),uE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class rD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?WM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uE(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){Go(new Qs("platform-logger",e=>new yN(e),"PRIVATE")),Go(new Qs("heartbeat",e=>new nD(e),"PRIVATE")),or(Q_,sE,t),or(Q_,sE,"esm2017"),or("fire-js","")}sD("");function Wv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function TI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oD=TI,SI=new fh("auth","Firebase",TI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Uv("@firebase/auth");function aD(t,...e){np.logLevel<=Be.WARN&&np.warn(`Auth (${oa}): ${t}`,...e)}function uf(t,...e){np.logLevel<=Be.ERROR&&np.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw qv(t,...e)}function ar(t,...e){return qv(t,...e)}function bI(t,e,n){const i=Object.assign(Object.assign({},oD()),{[e]:n});return new fh("auth","Firebase",i).create(e,{appName:t.name})}function $r(t){return bI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SI.create(t,...e)}function Se(t,e,...n){if(!t)throw qv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Qr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lD(){return cE()==="http:"||cE()==="https:"}function cE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lD()||BM()||"connection"in navigator)?navigator.onLine:!0}function cD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=FM()||jM()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new mh(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,n,i,r={}){return II(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const l=ph(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return zM()||(h.referrerPolicy="no-referrer"),kI.fetch()(PI(t,t.config.apiHost,n,l),h)})}async function II(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},hD),e);try{const r=new pD(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bd(t,"user-disabled",o);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw bI(t,d,h);ji(t,d)}}catch(r){if(r instanceof mr)throw r;ji(t,"network-request-failed",{message:String(r)})}}async function gh(t,e,n,i,r={}){const s=await so(t,e,n,i,r);return"mfaPendingCredential"in s&&ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Kv(t.config,r):`${t.config.apiScheme}://${r}`}function fD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),dD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ar(t,e,i);return r.customData._tokenResponse=n,r}function hE(t){return t!==void 0&&t.enterprise!==void 0}class mD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function gD(t,e){return so(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function CI(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(t,e=!1){const n=Wt(t),i=await n.getIdToken(e),r=Gv(i);Se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:dc(yg(r.auth_time)),issuedAtTime:dc(yg(r.iat)),expirationTime:dc(yg(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yg(t){return Number(t)*1e3}function Gv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const r=dI(n);return r?JSON.parse(r):(uf("Failed to decode base64 JWT payload"),null)}catch(r){return uf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function dE(t){const e=Gv(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mr&&vD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function vD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Wc(t,CI(n,{idToken:i}));Se(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AI(s.providerUserInfo):[],l=ED(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function xD(t){const e=Wt(t);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ED(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function AI(t){return t.map(e=>{var{providerId:n}=e,i=Wv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){const n=await II(t,{},async()=>{const i=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=PI(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",kI.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SD(t,e){return so(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await TD(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new cl;return i&&(Se(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Se(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Wv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yD(this,e)}reload(){return xD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ip(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Wc(this,_D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,l,u,h,d;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,k=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:B,isAnonymous:$,providerData:U,stsTokenManager:A}=n;Se(I&&A,e,"internal-error");const P=cl.fromJSON(this.name,A);Se(typeof I=="string",e,"internal-error"),ms(m,e.name),ms(g,e.name),Se(typeof B=="boolean",e,"internal-error"),Se(typeof $=="boolean",e,"internal-error"),ms(y,e.name),ms(x,e.name),ms(E,e.name),ms(b,e.name),ms(S,e.name),ms(k,e.name);const O=new jr({uid:I,auth:e,email:g,emailVerified:B,displayName:m,isAnonymous:$,photoURL:x,phoneNumber:y,tenantId:E,stsTokenManager:P,createdAt:S,lastLoginAt:k});return U&&Array.isArray(U)&&(O.providerData=U.map(F=>Object.assign({},F))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,i=!1){const r=new cl;r.updateFromServerResponse(n);const s=new jr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ip(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Se(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?AI(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new cl;l.updateFromIdToken(i);const u=new jr({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ey(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function Ur(t){Qr(t instanceof Function,"Expected a class definition");let e=fE.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const pE=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=cf(this.userKey,r.apiKey,s),this.fullPersistenceKey=cf("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new hl(Ur(pE),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Ur(pE);const o=cf(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){const m=jr._fromJSON(e,d);h!==s&&(l=m),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new hl(s,e,i):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new hl(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if(VI(e))return"Webos";if(OI(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(DI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function LI(t=pn()){return/firefox\//i.test(t)}function OI(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(t=pn()){return/crios\//i.test(t)}function NI(t=pn()){return/iemobile/i.test(t)}function DI(t=pn()){return/android/i.test(t)}function FI(t=pn()){return/blackberry/i.test(t)}function VI(t=pn()){return/webos/i.test(t)}function Zv(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bD(t=pn()){var e;return Zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kD(){return UM()&&document.documentMode===10}function zI(t=pn()){return Zv(t)||DI(t)||VI(t)||FI(t)||/windows phone/i.test(t)||NI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e=[]){let n;switch(t){case"Browser":n=mE(pn());break;case"Worker":n=`${mE(pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e={}){return so(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=6;class AD{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new ID(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CI(this,{idToken:e}),i=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject($r(this));const n=e?Wt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PD(this),n=new AD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await SD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function aa(t){return Wt(t)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QM(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LD(t){Jp=t}function jI(t){return Jp.loadJS(t)}function OD(){return Jp.recaptchaEnterpriseScript}function MD(){return Jp.gapiScript}function ND(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DD="recaptcha-enterprise",FD="NO_RECAPTCHA";class VD{constructor(e){this.type=DD,this.auth=aa(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{gD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new mD(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function r(s,o,l){const u=window.grecaptcha;hE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(FD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(l=>{if(!n&&hE(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=OD();u.length!==0&&(u+=l),jI(u).then(()=>{r(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function _E(t,e,n,i=!1){const r=new VD(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ty(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _E(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _E(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){const n=Xp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ep(s,e??{}))return r;ji(r,"already-initialized")}return n.initialize({options:e})}function BD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function jD(t,e,n){const i=aa(t);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=UI(e),{host:o,port:l}=UD(e),u=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),HD()}function UI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UD(t){const e=UI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:yE(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:yE(o)}}}function yE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function $D(t,e){return so(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){return gh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e){return gh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function KD(t,e){return gh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Qv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new qc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new qc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,n,"signInWithPassword",WD);case"emailLink":return qD(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,i,"signUpPassword",$D);case"emailLink":return KD(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e){return gh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="http://localhost";class Zo extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Wv(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Zo(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,dl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:GD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QD(t){const e=Zu(Qu(t)).link,n=e?Zu(Qu(e)).deep_link_id:null,i=Zu(Qu(t)).deep_link_id;return(i?Zu(Qu(i)).link:null)||i||n||e||t}class Yv{constructor(e){var n,i,r,s,o,l;const u=Zu(Qu(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(i=u.oobCode)!==null&&i!==void 0?i:null,m=ZD((r=u.mode)!==null&&r!==void 0?r:null);Se(h&&d&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=QD(e);try{return new Yv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Yv.parseLink(n);return Se(i,"argument-error"),qc._fromEmailAndCode(e,i.code,i.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends HI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends _h{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ts.credential(n,i)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends _h{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends _h{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return bs.credential(n,i)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e){return gh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await jr._fromIdTokenResponse(e,i,r),o=vE(i);return new Qo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=vE(i);return new Qo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function vE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends mr{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new rp(e,n,i,r)}}function $I(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(t,s,e,i):s})}async function XD(t,e,n=!1){const i=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e,n=!1){const{auth:i}=t;if(ir(i.app))return Promise.reject($r(i));const r="reauthenticate";try{const s=await Wc(t,$I(i,r,e,t),n);Se(s.idToken,i,"internal-error");const o=Gv(s.idToken);Se(o,i,"internal-error");const{sub:l}=o;return Se(t.uid===l,i,"user-mismatch"),Qo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ji(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(t,e,n=!1){if(ir(t.app))return Promise.reject($r(t));const i="signIn",r=await $I(t,i,e),s=await Qo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function eF(t,e){return WI(aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t){const e=aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tF(t,e,n){if(ir(t.app))return Promise.reject($r(t));const i=aa(t),o=await ty(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&qI(t),u}),l=await Qo._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}function nF(t,e,n){return ir(t.app)?Promise.reject($r(t)):eF(Wt(t),zl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qI(t),i})}function iF(t,e,n,i){return Wt(t).onIdTokenChanged(e,n,i)}function rF(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function sF(t){return Wt(t).signOut()}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=1e3,aF=10;class GI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);kD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,aF):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GI.type="LOCAL";const lF=GI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZI.type="SESSION";const QI=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new em(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async h=>h(n.origin,s)),u=await uF(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=Xv("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function hF(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function dF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pF(){return YI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebaseLocalStorageDb",mF=1,op="firebaseLocalStorage",JI="fbase_key";class yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([op],e?"readwrite":"readonly").objectStore(op)}function gF(){const t=indexedDB.deleteDatabase(XI);return new yh(t).toPromise()}function ny(){const t=indexedDB.open(XI,mF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(op,{keyPath:JI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(op)?e(i):(i.close(),await gF(),e(await ny()))})})}async function wE(t,e,n){const i=tm(t,!0).put({[JI]:e,value:n});return new yh(i).toPromise()}async function _F(t,e){const n=tm(t,!1).get(e),i=await new yh(n).toPromise();return i===void 0?null:i.value}function xE(t,e){const n=tm(t,!0).delete(e);return new yh(n).toPromise()}const yF=800,vF=3;class eP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(pF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dF(),!this.activeServiceWorker)return;this.sender=new cF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await wE(e,sp,"1"),await xE(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_F(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=tm(r,!1).getAll();return new yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eP.type="LOCAL";const wF=eP;new mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){return e?Ur(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EF(t){return WI(t.auth,new Jv(t),t.bypassAuthState)}function TF(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),JD(n,new Jv(t),t.bypassAuthState)}async function SF(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),XD(n,new Jv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EF;case"linkViaPopup":case"linkViaRedirect":return SF;case"reauthViaPopup":case"reauthViaRedirect":return TF;default:ji(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new mh(2e3,1e4);class nl extends tP{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bF.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="pendingRedirect",hf=new Map;class IF extends tP{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const i=await PF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PF(t,e){const n=RF(e),i=AF(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function CF(t,e){hf.set(t._key(),e)}function AF(t){return Ur(t._redirectPersistence)}function RF(t){return cf(kF,t.config.apiKey,t.name)}async function LF(t,e,n=!1){if(ir(t.app))return Promise.reject($r(t));const i=aa(t),r=xF(i,e),o=await new IF(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=10*60*1e3;class MF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!nP(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OF&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VF=/^https?/;async function zF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DF(t);for(const n of e)try{if(BF(n))return}catch{}ji(t,"unauthorized-domain")}function BF(t){const e=J_(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!VF.test(n))return!1;if(FF.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new mh(3e4,6e4);function TE(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UF(t){return new Promise((e,n)=>{var i,r,s;function o(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(ar(t,"network-request-failed"))},timeout:jF.get()})}if(!((r=(i=lr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=lr().gapi)===null||s===void 0)&&s.load)o();else{const l=ND("iframefcb");return lr()[l]=()=>{gapi.load?o():n(ar(t,"network-request-failed"))},jI(`${MD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw df=null,e})}let df=null;function HF(t){return df=df||UF(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new mh(5e3,15e3),WF="__/auth/iframe",qF="emulator/auth/iframe",KF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZF(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,qF):`https://${t.config.authDomain}/${WF}`,i={apiKey:e.apiKey,appName:t.name,v:oa},r=GF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ph(i).slice(1)}`}async function QF(t){const e=await HF(t),n=lr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:ZF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),l=lr().setTimeout(()=>{s(o)},$F.get());function u(){lr().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XF=500,JF=600,eV="_blank",tV="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nV(t,e,n,i=XF,r=JF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},YF),{width:i.toString(),height:r.toString(),top:s,left:o}),h=pn().toLowerCase();n&&(l=MI(h)?eV:n),LI(h)&&(e=e||tV,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[y,x])=>`${g}${y}=${x},`,"");if(bD(h)&&l!=="_self")return iV(e||"",l),new SE(null);const m=window.open(e||"",l,d);Se(m,t,"popup-blocked");try{m.focus()}catch{}return new SE(m)}function iV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="__/auth/handler",sV="emulator/auth/handler",oV=encodeURIComponent("fac");async function bE(t,e,n,i,r,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oa,eventId:r};if(e instanceof HI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof _h){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${oV}=${encodeURIComponent(u)}`:"";return`${aV(t)}?${ph(l).slice(1)}${h}`}function aV({config:t}){return t.emulator?Kv(t,sV):`https://${t.authDomain}/${rV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class lV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QI,this._completeRedirectFn=LF,this._overrideRedirectResult=CF}async _openPopup(e,n,i,r){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bE(e,n,i,J_(),r);return nV(e,o,Xv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await bE(e,n,i,J_(),r);return hF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Qr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QF(e),i=new MF(e);return n.register("authEvent",r=>(Se(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vg,{type:vg},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[vg];o!==void 0&&n(!!o),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||OI()||Zv()}}const uV=lV;var kE="@firebase/auth",IE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dV(t){Go(new Qs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BI(t)},h=new RD(i,r,s,u);return BD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Go(new Qs("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(i=>new cV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(kE,IE,hV(t)),or(kE,IE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=5*60,pV=gI("authIdTokenMaxAge")||fV;let PE=null;const mV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>pV)return;const r=n==null?void 0:n.token;PE!==r&&(PE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ap(t=$v()){const e=Xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zD(t,{popupRedirectResolver:uV,persistence:[wF,lF,QI]}),i=gI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=mV(s.toString());rF(n,o,()=>o(n.currentUser)),iF(n,l=>o(l))}}const r=fI("auth");return r&&jD(n,`http://${r}`),n}function gV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ar("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",gV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dV("Browser");var _V="firebase",yV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(_V,yV,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,iP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function O(){}O.prototype=P.prototype,A.D=P.prototype,A.prototype=new O,A.prototype.constructor=A,A.C=function(F,N,z){for(var D=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)D[pe-2]=arguments[pe];return P.prototype[N].apply(F,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,P,O){O||(O=0);var F=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)F[N]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(N=0;16>N;++N)F[N]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=A.g[0],O=A.g[1],N=A.g[2];var z=A.g[3],D=P+(z^O&(N^z))+F[0]+3614090360&4294967295;P=O+(D<<7&4294967295|D>>>25),D=z+(N^P&(O^N))+F[1]+3905402710&4294967295,z=P+(D<<12&4294967295|D>>>20),D=N+(O^z&(P^O))+F[2]+606105819&4294967295,N=z+(D<<17&4294967295|D>>>15),D=O+(P^N&(z^P))+F[3]+3250441966&4294967295,O=N+(D<<22&4294967295|D>>>10),D=P+(z^O&(N^z))+F[4]+4118548399&4294967295,P=O+(D<<7&4294967295|D>>>25),D=z+(N^P&(O^N))+F[5]+1200080426&4294967295,z=P+(D<<12&4294967295|D>>>20),D=N+(O^z&(P^O))+F[6]+2821735955&4294967295,N=z+(D<<17&4294967295|D>>>15),D=O+(P^N&(z^P))+F[7]+4249261313&4294967295,O=N+(D<<22&4294967295|D>>>10),D=P+(z^O&(N^z))+F[8]+1770035416&4294967295,P=O+(D<<7&4294967295|D>>>25),D=z+(N^P&(O^N))+F[9]+2336552879&4294967295,z=P+(D<<12&4294967295|D>>>20),D=N+(O^z&(P^O))+F[10]+4294925233&4294967295,N=z+(D<<17&4294967295|D>>>15),D=O+(P^N&(z^P))+F[11]+2304563134&4294967295,O=N+(D<<22&4294967295|D>>>10),D=P+(z^O&(N^z))+F[12]+1804603682&4294967295,P=O+(D<<7&4294967295|D>>>25),D=z+(N^P&(O^N))+F[13]+4254626195&4294967295,z=P+(D<<12&4294967295|D>>>20),D=N+(O^z&(P^O))+F[14]+2792965006&4294967295,N=z+(D<<17&4294967295|D>>>15),D=O+(P^N&(z^P))+F[15]+1236535329&4294967295,O=N+(D<<22&4294967295|D>>>10),D=P+(N^z&(O^N))+F[1]+4129170786&4294967295,P=O+(D<<5&4294967295|D>>>27),D=z+(O^N&(P^O))+F[6]+3225465664&4294967295,z=P+(D<<9&4294967295|D>>>23),D=N+(P^O&(z^P))+F[11]+643717713&4294967295,N=z+(D<<14&4294967295|D>>>18),D=O+(z^P&(N^z))+F[0]+3921069994&4294967295,O=N+(D<<20&4294967295|D>>>12),D=P+(N^z&(O^N))+F[5]+3593408605&4294967295,P=O+(D<<5&4294967295|D>>>27),D=z+(O^N&(P^O))+F[10]+38016083&4294967295,z=P+(D<<9&4294967295|D>>>23),D=N+(P^O&(z^P))+F[15]+3634488961&4294967295,N=z+(D<<14&4294967295|D>>>18),D=O+(z^P&(N^z))+F[4]+3889429448&4294967295,O=N+(D<<20&4294967295|D>>>12),D=P+(N^z&(O^N))+F[9]+568446438&4294967295,P=O+(D<<5&4294967295|D>>>27),D=z+(O^N&(P^O))+F[14]+3275163606&4294967295,z=P+(D<<9&4294967295|D>>>23),D=N+(P^O&(z^P))+F[3]+4107603335&4294967295,N=z+(D<<14&4294967295|D>>>18),D=O+(z^P&(N^z))+F[8]+1163531501&4294967295,O=N+(D<<20&4294967295|D>>>12),D=P+(N^z&(O^N))+F[13]+2850285829&4294967295,P=O+(D<<5&4294967295|D>>>27),D=z+(O^N&(P^O))+F[2]+4243563512&4294967295,z=P+(D<<9&4294967295|D>>>23),D=N+(P^O&(z^P))+F[7]+1735328473&4294967295,N=z+(D<<14&4294967295|D>>>18),D=O+(z^P&(N^z))+F[12]+2368359562&4294967295,O=N+(D<<20&4294967295|D>>>12),D=P+(O^N^z)+F[5]+4294588738&4294967295,P=O+(D<<4&4294967295|D>>>28),D=z+(P^O^N)+F[8]+2272392833&4294967295,z=P+(D<<11&4294967295|D>>>21),D=N+(z^P^O)+F[11]+1839030562&4294967295,N=z+(D<<16&4294967295|D>>>16),D=O+(N^z^P)+F[14]+4259657740&4294967295,O=N+(D<<23&4294967295|D>>>9),D=P+(O^N^z)+F[1]+2763975236&4294967295,P=O+(D<<4&4294967295|D>>>28),D=z+(P^O^N)+F[4]+1272893353&4294967295,z=P+(D<<11&4294967295|D>>>21),D=N+(z^P^O)+F[7]+4139469664&4294967295,N=z+(D<<16&4294967295|D>>>16),D=O+(N^z^P)+F[10]+3200236656&4294967295,O=N+(D<<23&4294967295|D>>>9),D=P+(O^N^z)+F[13]+681279174&4294967295,P=O+(D<<4&4294967295|D>>>28),D=z+(P^O^N)+F[0]+3936430074&4294967295,z=P+(D<<11&4294967295|D>>>21),D=N+(z^P^O)+F[3]+3572445317&4294967295,N=z+(D<<16&4294967295|D>>>16),D=O+(N^z^P)+F[6]+76029189&4294967295,O=N+(D<<23&4294967295|D>>>9),D=P+(O^N^z)+F[9]+3654602809&4294967295,P=O+(D<<4&4294967295|D>>>28),D=z+(P^O^N)+F[12]+3873151461&4294967295,z=P+(D<<11&4294967295|D>>>21),D=N+(z^P^O)+F[15]+530742520&4294967295,N=z+(D<<16&4294967295|D>>>16),D=O+(N^z^P)+F[2]+3299628645&4294967295,O=N+(D<<23&4294967295|D>>>9),D=P+(N^(O|~z))+F[0]+4096336452&4294967295,P=O+(D<<6&4294967295|D>>>26),D=z+(O^(P|~N))+F[7]+1126891415&4294967295,z=P+(D<<10&4294967295|D>>>22),D=N+(P^(z|~O))+F[14]+2878612391&4294967295,N=z+(D<<15&4294967295|D>>>17),D=O+(z^(N|~P))+F[5]+4237533241&4294967295,O=N+(D<<21&4294967295|D>>>11),D=P+(N^(O|~z))+F[12]+1700485571&4294967295,P=O+(D<<6&4294967295|D>>>26),D=z+(O^(P|~N))+F[3]+2399980690&4294967295,z=P+(D<<10&4294967295|D>>>22),D=N+(P^(z|~O))+F[10]+4293915773&4294967295,N=z+(D<<15&4294967295|D>>>17),D=O+(z^(N|~P))+F[1]+2240044497&4294967295,O=N+(D<<21&4294967295|D>>>11),D=P+(N^(O|~z))+F[8]+1873313359&4294967295,P=O+(D<<6&4294967295|D>>>26),D=z+(O^(P|~N))+F[15]+4264355552&4294967295,z=P+(D<<10&4294967295|D>>>22),D=N+(P^(z|~O))+F[6]+2734768916&4294967295,N=z+(D<<15&4294967295|D>>>17),D=O+(z^(N|~P))+F[13]+1309151649&4294967295,O=N+(D<<21&4294967295|D>>>11),D=P+(N^(O|~z))+F[4]+4149444226&4294967295,P=O+(D<<6&4294967295|D>>>26),D=z+(O^(P|~N))+F[11]+3174756917&4294967295,z=P+(D<<10&4294967295|D>>>22),D=N+(P^(z|~O))+F[2]+718787259&4294967295,N=z+(D<<15&4294967295|D>>>17),D=O+(z^(N|~P))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+z&4294967295}i.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var O=P-this.blockSize,F=this.B,N=this.h,z=0;z<P;){if(N==0)for(;z<=O;)r(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<P;)if(F[N++]=A.charCodeAt(z++),N==this.blockSize){r(this,F),N=0;break}}else for(;z<P;)if(F[N++]=A[z++],N==this.blockSize){r(this,F),N=0;break}}this.h=N,this.o+=P},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var O=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=O&255,O/=256;for(this.u(A),A=Array(16),P=O=0;4>P;++P)for(var F=0;32>F;F+=8)A[O++]=this.g[P]>>>F&255;return A};function s(A,P){var O=l;return Object.prototype.hasOwnProperty.call(O,A)?O[A]:O[A]=P(A)}function o(A,P){this.h=P;for(var O=[],F=!0,N=A.length-1;0<=N;N--){var z=A[N]|0;F&&z==P||(O[N]=z,F=!1)}this.g=O}var l={};function u(A){return-128<=A&&128>A?s(A,function(P){return new o([P|0],0>P?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return b(h(-A));for(var P=[],O=1,F=0;A>=O;F++)P[F]=A/O|0,O*=4294967296;return new o(P,0)}function d(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return b(d(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(P,8)),F=m,N=0;N<A.length;N+=8){var z=Math.min(8,A.length-N),D=parseInt(A.substring(N,N+z),P);8>z?(z=h(Math.pow(P,z)),F=F.j(z).add(h(D))):(F=F.j(O),F=F.add(h(D)))}return F}var m=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-b(this).m();for(var A=0,P=1,O=0;O<this.g.length;O++){var F=this.i(O);A+=(0<=F?F:4294967296+F)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(E(this))return"-"+b(this).toString(A);for(var P=h(Math.pow(A,6)),O=this,F="";;){var N=B(O,P).g;O=S(O,N.j(P));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(A);if(O=N,x(O))return z+F;for(;6>z.length;)z="0"+z;F=z+F}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=S(this,A),E(A)?-1:x(A)?0:1};function b(A){for(var P=A.g.length,O=[],F=0;F<P;F++)O[F]=~A.g[F];return new o(O,~A.h).add(g)}t.abs=function(){return E(this)?b(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),O=[],F=0,N=0;N<=P;N++){var z=F+(this.i(N)&65535)+(A.i(N)&65535),D=(z>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);F=D>>>16,z&=65535,D&=65535,O[N]=D<<16|z}return new o(O,O[O.length-1]&-2147483648?-1:0)};function S(A,P){return A.add(b(P))}t.j=function(A){if(x(this)||x(A))return m;if(E(this))return E(A)?b(this).j(b(A)):b(b(this).j(A));if(E(A))return b(this.j(b(A)));if(0>this.l(y)&&0>A.l(y))return h(this.m()*A.m());for(var P=this.g.length+A.g.length,O=[],F=0;F<2*P;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var N=0;N<A.g.length;N++){var z=this.i(F)>>>16,D=this.i(F)&65535,pe=A.i(N)>>>16,ue=A.i(N)&65535;O[2*F+2*N]+=D*ue,k(O,2*F+2*N),O[2*F+2*N+1]+=z*ue,k(O,2*F+2*N+1),O[2*F+2*N+1]+=D*pe,k(O,2*F+2*N+1),O[2*F+2*N+2]+=z*pe,k(O,2*F+2*N+2)}for(F=0;F<P;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=P;F<2*P;F++)O[F]=0;return new o(O,0)};function k(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function I(A,P){this.g=A,this.h=P}function B(A,P){if(x(P))throw Error("division by zero");if(x(A))return new I(m,m);if(E(A))return P=B(b(A),P),new I(b(P.g),b(P.h));if(E(P))return P=B(A,b(P)),new I(b(P.g),P.h);if(30<A.g.length){if(E(A)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var O=g,F=P;0>=F.l(A);)O=$(O),F=$(F);var N=U(O,1),z=U(F,1);for(F=U(F,2),O=U(O,2);!x(F);){var D=z.add(F);0>=D.l(A)&&(N=N.add(O),z=D),F=U(F,1),O=U(O,1)}return P=S(A,N.j(P)),new I(N,P)}for(N=m;0<=A.l(P);){for(O=Math.max(1,Math.floor(A.m()/P.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),z=h(O),D=z.j(P);E(D)||0<D.l(A);)O-=F,z=h(O),D=z.j(P);x(z)&&(z=g),N=N.add(z),A=S(A,D)}return new I(N,A)}t.A=function(A){return B(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),O=[],F=0;F<P;F++)O[F]=this.i(F)&A.i(F);return new o(O,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),O=[],F=0;F<P;F++)O[F]=this.i(F)|A.i(F);return new o(O,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),O=[],F=0;F<P;F++)O[F]=this.i(F)^A.i(F);return new o(O,this.h^A.h)};function $(A){for(var P=A.g.length+1,O=[],F=0;F<P;F++)O[F]=A.i(F)<<1|A.i(F-1)>>>31;return new o(O,A.h)}function U(A,P){var O=P>>5;P%=32;for(var F=A.g.length-O,N=[],z=0;z<F;z++)N[z]=0<P?A.i(z+O)>>>P|A.i(z+O+1)<<32-P:A.i(z+O);return new o(N,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iP=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Bo=o}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rP,Yu,sP,ff,iy,oP,aP,lP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function r(f,v){if(v)e:{var T=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var W=f[R];if(!(W in T))break e;T=T[W]}f=f[f.length-1],R=T[f],v=v(R),v!=R&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var T=0,R=!1,W={next:function(){if(!R&&T<f.length){var Z=T++;return{value:v(Z,f[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(f){return f||function(){return s(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function d(f,v,T){return f.call.apply(f.bind,arguments)}function m(f,v,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),f.apply(v,W)}}return function(){return f.apply(v,arguments)}}function g(f,v,T){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function y(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function x(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,W,Z){for(var se=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)se[Ze-2]=arguments[Ze];return v.prototype[W].apply(R,se)}}function E(f){const v=f.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=f[R];return T}return[]}function b(f,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(u(R)){const W=f.length||0,Z=R.length||0;f.length=W+Z;for(let se=0;se<Z;se++)f[W+se]=R[se]}else f.push(R)}}class S{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(f){return/^[\s\xa0]*$/.test(f)}function I(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var $=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function U(f,v,T){for(const R in f)v.call(T,f[R],R,f)}function A(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function P(f){const v={};for(const T in f)v[T]=f[T];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,v){let T,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(T in R)f[T]=R[T];for(let Z=0;Z<O.length;Z++)T=O[Z],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function N(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function z(f){l.setTimeout(()=>{throw f},0)}function D(){var f=de;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class pe{constructor(){this.h=this.g=null}add(v,T){const R=ue.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var ue=new S(()=>new _e,f=>f.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,X=!1,de=new pe,M=()=>{const f=l.Promise.resolve(void 0);ke=()=>{f.then(ce)}};var ce=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){z(T)}var v=ue;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}X=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};l.addEventListener("test",T,v),l.removeEventListener("test",T,v)}catch{}return f}();function ve(f,v){if(j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if($){e:{try{B(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ve.aa.h.call(this)}}x(ve,j);var oe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Ti(f,v,T,R,W){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=W,this.key=++Nt,this.da=this.fa=!1}function gn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function jn(f){this.src=f,this.g={},this.h=0}jn.prototype.add=function(f,v,T,R,W){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var se=yr(f,v,R,W);return-1<se?(v=f[se],T||(v.fa=!1)):(v=new Ti(v,this.src,Z,!!R,W),v.fa=T,f.push(v)),v};function Si(f,v){var T=v.type;if(T in f.g){var R=f.g[T],W=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=W)&&Array.prototype.splice.call(R,W,1),Z&&(gn(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function yr(f,v,T,R){for(var W=0;W<f.length;++W){var Z=f[W];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==R)return W}return-1}var lo="closure_lm_"+(1e6*Math.random()|0),vr={};function es(f,v,T,R,W){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)es(f,v[Z],T,R,W);return null}return T=da(T),f&&f[at]?f.K(v,T,h(R)?!!R.capture:!1,W):ts(f,v,T,!1,R,W)}function ts(f,v,T,R,W,Z){if(!v)throw Error("Invalid event type");var se=h(W)?!!W.capture:!!W,Ze=rs(f);if(Ze||(f[lo]=Ze=new jn(f)),T=Ze.add(v,T,R,se,Z),T.proxy)return T;if(R=ns(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)xe||(W=se),W===void 0&&(W=!1),f.addEventListener(v.toString(),R,W);else if(f.attachEvent)f.attachEvent(is(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ns(){function f(T){return v.call(f.src,f.listener,T)}const v=ha;return f}function uo(f,v,T,R,W){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)uo(f,v[Z],T,R,W);else R=h(R)?!!R.capture:!!R,T=da(T),f&&f[at]?(f=f.i,v=String(v).toString(),v in f.g&&(Z=f.g[v],T=yr(Z,T,R,W),-1<T&&(gn(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete f.g[v],f.h--)))):f&&(f=rs(f))&&(v=f.g[v.toString()],f=-1,v&&(f=yr(v,T,R,W)),(T=-1<f?v[f]:null)&&wr(T))}function wr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[at])Si(v.i,f);else{var T=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(T,R,f.capture):v.detachEvent?v.detachEvent(is(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=rs(v))?(Si(T,f),T.h==0&&(T.src=null,v[lo]=null)):gn(f)}}}function is(f){return f in vr?vr[f]:vr[f]="on"+f}function ha(f,v){if(f.da)f=!0;else{v=new ve(v,this);var T=f.listener,R=f.ha||f.src;f.fa&&wr(f),f=T.call(R,v)}return f}function rs(f){return f=f[lo],f instanceof jn?f:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function da(f){return typeof f=="function"?f:(f[co]||(f[co]=function(v){return f.handleEvent(v)}),f[co])}function Q(){me.call(this),this.i=new jn(this),this.M=this,this.F=null}x(Q,me),Q.prototype[at]=!0,Q.prototype.removeEventListener=function(f,v,T,R){uo(this,f,v,T,R)};function ne(f,v){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new j(v,f);else if(v instanceof j)v.target=v.target||f;else{var W=v;v=new j(R,f),F(v,W)}if(W=!0,T)for(var Z=T.length-1;0<=Z;Z--){var se=v.g=T[Z];W=we(se,R,!0,v)&&W}if(se=v.g=f,W=we(se,R,!0,v)&&W,W=we(se,R,!1,v)&&W,T)for(Z=0;Z<T.length;Z++)se=v.g=T[Z],W=we(se,R,!1,v)&&W}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],R=0;R<T.length;R++)gn(T[R]);delete f.g[v],f.h--}}this.F=null},Q.prototype.K=function(f,v,T,R){return this.i.add(String(f),v,!1,T,R)},Q.prototype.L=function(f,v,T,R){return this.i.add(String(f),v,!0,T,R)};function we(f,v,T,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Z=0;Z<v.length;++Z){var se=v[Z];if(se&&!se.da&&se.capture==T){var Ze=se.listener,Pt=se.ha||se.src;se.fa&&Si(f.i,se),W=Ze.call(Pt,R)!==!1&&W}}return W&&!R.defaultPrevented}function Me(f,v,T){if(typeof f=="function")T&&(f=g(f,T));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:l.setTimeout(f,v||0)}function He(f){f.g=Me(()=>{f.g=null,f.i&&(f.i=!1,He(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class tn extends me{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(f){me.call(this),this.h=f,this.g={}}x(_n,me);var yn=[];function ni(f){U(f.g,function(v,T){this.g.hasOwnProperty(T)&&wr(v)},f),f.g={}}_n.prototype.N=function(){_n.aa.N.call(this),ni(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=l.JSON.stringify,qt=l.JSON.parse,kn=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function vn(){}vn.prototype.h=null;function Lh(f){return f.h||(f.h=f.i())}function Xl(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){j.call(this,"d")}x(fa,j);function Jl(){j.call(this,"c")}x(Jl,j);var xr={},Oh=null;function pa(){return Oh=Oh||new Q}xr.La="serverreachability";function Mh(f){j.call(this,xr.La,f)}x(Mh,j);function ho(f){const v=pa();ne(v,new Mh(v))}xr.STAT_EVENT="statevent";function ma(f,v){j.call(this,xr.STAT_EVENT,f),this.stat=v}x(ma,j);function Kt(f){const v=pa();ne(v,new ma(v,f))}xr.Ma="timingevent";function Nh(f,v){j.call(this,xr.Ma,f),this.size=v}x(Nh,j);function fo(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},v)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function ri(f,v,T,R,W,Z){f.info(function(){if(f.g)if(Z)for(var se="",Ze=Z.split("&"),Pt=0;Pt<Ze.length;Pt++){var je=Ze[Pt].split("=");if(1<je.length){var tt=je[0];je=je[1];var gt=tt.split("_");se=2<=gt.length&&gt[1]=="type"?se+(tt+"="+je+"&"):se+(tt+"=redacted&")}}else se=null;else se=Z;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+v+`
`+T+`
`+se})}function ge(f,v,T,R,W,Z,se){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+v+`
`+T+`
`+Z+" "+se})}function Er(f,v,T,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Fh(f,T)+(R?" "+R:"")})}function Dh(f,v){f.info(function(){return"TIMEOUT: "+v})}po.prototype.info=function(){};function Fh(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var Z=W[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var se=1;se<W.length;se++)W[se]=""}}}}return ii(T)}catch{return v}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_a;function bi(){}x(bi,vn),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},_a=new bi;function ki(f,v,T,R){this.j=f,this.i=v,this.l=T,this.R=R||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vh}function Vh(){this.i=null,this.g="",this.h=!1}var zh={},eu={};function tu(f,v,T){f.L=1,f.v=oi(xt(v)),f.m=T,f.P=!0,nu(f,null)}function nu(f,v){f.F=Date.now(),va(f),f.A=xt(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Uh(T.i,"t",R),f.C=0,T=f.j.J,f.h=new Vh,f.g=Zh(f.j,T?v:null,!f.m),0<f.O&&(f.M=new tn(g(f.Y,f,f.g),f.O)),v=f.U,T=f.g,R=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(yn[0]=W.toString()),W=yn);for(var Z=0;Z<W.length;Z++){var se=es(T,W[Z],R||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ho(),ri(f.i,f.u,f.A,f.l,f.R,f.m)}ki.prototype.ca=function(f){f=f.target;const v=this.M;v&&wn(f)==3?v.j():this.Y(f)},ki.prototype.Y=function(f){try{if(f==this.g)e:{const gt=wn(this.g);var v=this.g.Ba();const ds=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||gt!=4||v==7||(v==8||0>=ds?ho(3):ho(2)),iu(this);var T=this.g.Z();this.X=T;t:if(Bh(this)){var R=yu(this.g);f="";var W=R.length,Z=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),go(this);var se="";break t}this.h.i=new l.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(Z&&v==W-1)});R.length=0,this.h.g+=f,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=T==200,ge(this.i,this.u,this.A,this.l,this.R,gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Pt=this.g;if((Ze=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ze)){var je=Ze;break t}}je=null}if(T=je)Er(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,T);else{this.o=!1,this.s=3,Kt(12),Tr(this),go(this);break e}}if(this.P){T=!0;let Tt;for(;!this.J&&this.C<se.length;)if(Tt=ya(this,se),Tt==eu){gt==4&&(this.s=4,Kt(14),T=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==zh){this.s=4,Kt(15),Er(this.i,this.l,se,"[Invalid Chunk]"),T=!1;break}else Er(this.i,this.l,Tt,null),_o(this,Tt);if(Bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||se.length!=0||this.h.h||(this.s=1,Kt(16),T=!1),this.o=this.o&&T,!T)Er(this.i,this.l,se,"[Invalid Chunked Response]"),Tr(this),go(this);else if(0<se.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Pa(tt),tt.M=!0,Kt(11))}}else Er(this.i,this.l,se,null),_o(this,se);gt==4&&Tr(this),this.o&&!this.J&&(gt==4?wu(this.j,this):(this.o=!1,va(this)))}else Om(this.g),T==400&&0<se.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Tr(this),go(this)}}}catch{}finally{}};function Bh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ya(f,v){var T=f.C,R=v.indexOf(`
`,T);return R==-1?eu:(T=Number(v.substring(T,R)),isNaN(T)?zh:(R+=1,R+T>v.length?eu:(v=v.slice(R,R+T),f.C=R+T,v)))}ki.prototype.cancel=function(){this.J=!0,Tr(this)};function va(f){f.S=Date.now()+f.I,jh(f,f.I)}function jh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=fo(g(f.ba,f),v)}function iu(f){f.B&&(l.clearTimeout(f.B),f.B=null)}ki.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dh(this.i,this.A),this.L!=2&&(ho(),Kt(17)),Tr(this),this.s=2,go(this)):jh(this,this.S-f)};function go(f){f.j.G==0||f.J||wu(f.j,f)}function Tr(f){iu(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,ni(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function _o(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||Ve(T.h,f))){if(!f.K&&Ve(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Aa(T),ka(T);else break e;Ia(T),Kt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=fo(g(T.Za,T),6e3));if(1>=os(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Pr(T,11)}else if((f.K||T.g==f)&&Aa(T),!k(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let je=W[v];if(T.T=je[0],je=je[1],T.G==2)if(je[0]=="c"){T.K=je[1],T.ia=je[2];const tt=je[3];tt!=null&&(T.la=tt,T.j.info("VER="+T.la));const gt=je[4];gt!=null&&(T.Aa=gt,T.j.info("SVER="+T.Aa));const ds=je[5];ds!=null&&typeof ds=="number"&&0<ds&&(R=1.5*ds,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Tt=f.g;if(Tt){const La=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var Z=R.h;Z.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(nt(Z,Z.h),Z.h=null))}if(R.D){const qi=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;qi&&(R.ya=qi,Ie(R.I,R.D,qi))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var se=f;if(R.qa=Ra(R,R.J?R.ia:null,R.W),se.K){vo(R.h,se);var Ze=se,Pt=R.L;Pt&&(Ze.I=Pt),Ze.B&&(iu(Ze),va(Ze)),R.g=se}else Ci(R);0<T.i.length&&hs(T)}else je[0]!="stop"&&je[0]!="close"||Pr(T,7);else T.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Pr(T,7):ba(T):je[0]!="noop"&&T.l&&T.l.ta(je),T.v=0)}}ho(4)}catch{}}var yo=class{constructor(f,v){this.g=f,this.map=v}};function ru(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function su(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function os(f){return f.h?1:f.g?f.g.size:0}function Ve(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function nt(f,v){f.g?f.g.add(v):f.h=v}function vo(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ru.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Sr(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return E(f.i)}function as(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var v=[],T=f.length,R=0;R<T;R++)v.push(f[R]);return v}v=[],T=0;for(R in f)v[T++]=f[R];return v}function ou(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const R in f)v[T++]=R;return v}}}function Re(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=ou(f),R=as(f),W=R.length,Z=0;Z<W;Z++)v.call(void 0,R[Z],T&&T[Z],f)}var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function au(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),W=null;if(0<=R){var Z=f[T].substring(0,R);W=f[T].substring(R+1)}else Z=f[T];v(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function si(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof si){this.h=f.h,wa(this,f.j),this.o=f.o,this.g=f.g,br(this,f.s),this.l=f.l;var v=f.i,T=new kr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),$i(this,T),this.m=f.m}else f&&(v=String(f).match(dt))?(this.h=!1,wa(this,v[1]||"",!0),this.o=Ii(v[2]||""),this.g=Ii(v[3]||"",!0),br(this,v[4]),this.l=Ii(v[5]||"",!0),$i(this,v[6]||"",!0),this.m=Ii(v[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}si.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Pi(v,ls,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Pi(v,ls,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Pi(T,T.charAt(0)=="/"?cu:uu,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Pi(T,hu)),f.join("")};function xt(f){return new si(f)}function wa(f,v,T){f.j=T?Ii(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function br(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function $i(f,v,T){v instanceof kr?(f.i=v,ai(f.i,f.h)):(T||(v=Pi(v,xa)),f.i=new kr(v,f.h))}function Ie(f,v,T){f.i.set(v,T)}function oi(f){return Ie(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ii(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pi(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,lu),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function lu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ls=/[#\/\?@]/g,uu=/[#\?:]/g,cu=/[#\?]/g,xa=/[#\?@]/g,hu=/#/g;function kr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Un(f){f.g||(f.g=new Map,f.h=0,f.i&&au(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=kr.prototype,t.add=function(f,v){Un(this),this.i=null,f=Ee(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function du(f,v){Un(f),v=Ee(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Ea(f,v){return Un(f),v=Ee(f,v),f.g.has(v)}t.forEach=function(f,v){Un(this),this.g.forEach(function(T,R){T.forEach(function(W){f.call(v,W,R,this)},this)},this)},t.na=function(){Un(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const W=f[R];for(let Z=0;Z<W.length;Z++)T.push(v[R])}return T},t.V=function(f){Un(this);let v=[];if(typeof f=="string")Ea(this,f)&&(v=v.concat(this.g.get(Ee(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return Un(this),this.i=null,f=Ee(this,f),Ea(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Uh(f,v,T){du(f,v),0<T.length&&(f.i=null,f.g.set(Ee(f,v),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const Z=encodeURIComponent(String(R)),se=this.V(R);for(R=0;R<se.length;R++){var W=Z;se[R]!==""&&(W+="="+encodeURIComponent(String(se[R]))),f.push(W)}}return this.i=f.join("&")};function Ee(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function ai(f,v){v&&!f.j&&(Un(f),f.i=null,f.g.forEach(function(T,R){var W=R.toLowerCase();R!=W&&(du(this,R),Uh(this,W,T))},f)),f.j=v}function et(f,v){const T=new po;if(l.Image){const R=new Image;R.onload=y(li,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(li,T,"TestLoadImage: error",!1,v,R),R.onabort=y(li,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(li,T,"TestLoadImage: timeout",!1,v,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Hh(f,v){const T=new po,R=new AbortController,W=setTimeout(()=>{R.abort(),li(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Z=>{clearTimeout(W),Z.ok?li(T,"TestPingServer: ok",!0,v):li(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),li(T,"TestPingServer: error",!1,v)})}function li(f,v,T,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(T)}catch{}}function fu(){this.g=new kn}function pu(f,v,T){const R=T||"";try{Re(f,function(W,Z){let se=W;h(W)&&(se=ii(W)),v.push(R+Z+"="+encodeURIComponent(se))})}catch(W){throw v.push(R+"type="+encodeURIComponent("_badmap")),W}}function ui(f){this.l=f.Ub||null,this.j=f.eb||!1}x(ui,vn),ui.prototype.g=function(){return new us(this.l,this.j)},ui.prototype.i=function(f){return function(){return f}}({});function us(f,v){Q.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(us,Q),t=us.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Hn(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||l).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mt(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cs(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function cs(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?mt(this):Hn(this),this.readyState==3&&cs(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,mt(this))},t.Qa=function(f){this.g&&(this.response=f,mt(this))},t.ga=function(){this.g&&mt(this)};function mt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Hn(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Hn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mu(f){let v="";return U(f,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Ta(f,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=mu(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ie(f,v,T))}function ft(f){Q.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ft,Q);var $h=/^https?$/i,gu=["POST","PUT"];t=ft.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?Lh(this.o):Lh(_a),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Z){Wh(this,Z);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)T.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(gu,v,void 0))||R||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,se]of T)this.g.setRequestHeader(Z,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{In(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){Wh(this,Z)}};function Wh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,_u(f),Sa(f)}function _u(f){f.A||(f.A=!0,ne(f,"complete"),ne(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ne(this,"complete"),ne(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?De(this):this.bb())},t.bb=function(){De(this)};function De(f){if(f.h&&typeof o<"u"&&(!f.v[1]||wn(f)!=4||f.Z()!=2)){if(f.u&&wn(f)==4)Me(f.Ea,0,f);else if(ne(f,"readystatechange"),wn(f)==4){f.h=!1;try{const se=f.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=se===0){var W=String(f.D).match(dt)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),R=!$h.test(W?W.toLowerCase():"")}T=R}if(T)ne(f,"complete"),ne(f,"success");else{f.m=6;try{var Z=2<wn(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",_u(f)}}finally{Sa(f)}}}}function Sa(f,v){if(f.g){In(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ne(f,"ready");try{T.onreadystatechange=R}catch{}}}function In(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function wn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),qt(v)}};function yu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(f){const v={};f=(f.g&&2<=wn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(k(f[R]))continue;var T=N(f[R]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[W]||[];v[W]=Z,Z.push(T)}A(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function qh(f){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,f),this.cb=Ir("retryDelaySeedMs",1e4,f),this.Wa=Ir("forwardChannelMaxRetries",2,f),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ru(f&&f.concurrentRequestLimit),this.Da=new fu,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qh.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,R){Kt(0),this.W=f,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Ra(this,null,this.W),hs(this)};function ba(f){if(Kh(f),f.G==3){var v=f.U++,T=xt(f.I);if(Ie(T,"SID",f.K),Ie(T,"RID",v),Ie(T,"TYPE","terminate"),wo(f,T),v=new ki(f,f.j,v),v.L=2,v.v=oi(xt(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=v.v,T=!0),T||(v.g=Zh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),va(v)}Gh(f)}function ka(f){f.g&&(Pa(f),f.g.cancel(),f.g=null)}function Kh(f){ka(f),f.u&&(l.clearTimeout(f.u),f.u=null),Aa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function hs(f){if(!su(f.h)&&!f.s){f.s=!0;var v=f.Ga;ke||M(),X||(ke(),X=!0),de.add(v,f),f.B=0}}function Mm(f,v){return os(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=fo(g(f.Ga,f,v),xu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new ki(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=P(Z),F(Z,this.S)):Z=this.S),this.m!==null||this.O||(W.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=vu(this,W,v),T=xt(this.I),Ie(T,"RID",f),Ie(T,"CVER",22),this.D&&Ie(T,"X-HTTP-Session-Id",this.D),wo(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(mu(Z)))+"&"+v:this.m&&Ta(T,this.m,Z)),nt(this.h,W),this.Ua&&Ie(T,"TYPE","init"),this.P?(Ie(T,"$req",v),Ie(T,"SID","null"),W.T=!0,tu(W,T,null)):tu(W,T,v),this.G=2}}else this.G==3&&(f?$n(this,f):this.i.length==0||su(this.h)||$n(this))};function $n(f,v){var T;v?T=v.l:T=f.U++;const R=xt(f.I);Ie(R,"SID",f.K),Ie(R,"RID",T),Ie(R,"AID",f.T),wo(f,R),f.m&&f.o&&Ta(R,f.m,f.o),T=new ki(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=vu(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),nt(f.h,T),tu(T,R,v)}function wo(f,v){f.H&&U(f.H,function(T,R){Ie(v,R,T)}),f.l&&Re({},function(T,R){Ie(v,R,T)})}function vu(f,v,T){T=Math.min(f.i.length,T);var R=f.l?g(f.l.Na,f.l,f):null;e:{var W=f.i;let Z=-1;for(;;){const se=["count="+T];Z==-1?0<T?(Z=W[0].g,se.push("ofs="+Z)):Z=0:se.push("ofs="+Z);let Ze=!0;for(let Pt=0;Pt<T;Pt++){let je=W[Pt].g;const tt=W[Pt].map;if(je-=Z,0>je)Z=Math.max(0,W[Pt].g-100),Ze=!1;else try{pu(tt,se,"req"+je+"_")}catch{R&&R(tt)}}if(Ze){R=se.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,R}function Ci(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ke||M(),X||(ke(),X=!0),de.add(v,f),f.v=0}}function Ia(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=fo(g(f.Fa,f),xu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=fo(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ka(this),Ca(this))};function Pa(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Ca(f){f.g=new ki(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=xt(f.qa);Ie(v,"RID","rpc"),Ie(v,"SID",f.K),Ie(v,"AID",f.T),Ie(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ie(v,"TO",f.ja),Ie(v,"TYPE","xmlhttp"),wo(f,v),f.m&&f.o&&Ta(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=oi(xt(v)),T.m=null,T.P=!0,nu(T,f)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),Ia(this),Kt(19))};function Aa(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function wu(f,v){var T=null;if(f.g==v){Aa(f),Pa(f),f.g=null;var R=2}else if(Ve(f.h,v))T=v.D,vo(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=f.B;R=pa(),ne(R,new Nh(R,T)),hs(f)}else Ci(f);else if(W=v.s,W==3||W==0&&0<v.X||!(R==1&&Mm(f,v)||R==2&&Ia(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),W){case 1:Pr(f,5);break;case 4:Pr(f,10);break;case 3:Pr(f,6);break;default:Pr(f,2)}}}function xu(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function Pr(f,v){if(f.j.info("Error code "+v),v==2){var T=g(f.fb,f),R=f.Xa;const W=!R;R=new si(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wa(R,"https"),oi(R),W?et(R.toString(),T):Hh(R.toString(),T)}else Kt(2);f.G=0,f.l&&f.l.sa(v),Gh(f),Kh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Gh(f){if(f.G=0,f.ka=[],f.l){const v=Sr(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function Ra(f,v,T){var R=T instanceof si?xt(T):new si(T);if(R.g!="")v&&(R.g=v+"."+R.g),br(R,R.s);else{var W=l.location;R=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Z=new si(null);R&&wa(Z,R),v&&(Z.g=v),W&&br(Z,W),T&&(Z.l=T),R=Z}return T=f.D,v=f.ya,T&&v&&Ie(R,T,v),Ie(R,"VER",f.la),wo(f,R),R}function Zh(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new ft(new ui({eb:T})):new ft(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}t=Eu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xo(){}xo.prototype.g=function(f,v){return new Bt(f,v)};function Bt(f,v){Q.call(this),this.g=new qh(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!k(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new ci(this)}x(Bt,Q),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){ba(this.g)},Bt.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=ii(f),f=T);v.i.push(new yo(v.Ya++,f)),v.G==3&&hs(v)},Bt.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,Bt.aa.N.call(this)};function Wi(f){fa.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}x(Wi,fa);function Qh(){Jl.call(this),this.status=1}x(Qh,Jl);function ci(f){this.g=f}x(ci,Eu),ci.prototype.ua=function(){ne(this.g,"a")},ci.prototype.ta=function(f){ne(this.g,new Wi(f))},ci.prototype.sa=function(f){ne(this.g,new Qh)},ci.prototype.ra=function(){ne(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,lP=function(){return new xo},aP=function(){return pa()},oP=xr,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,ff=mo,ga.COMPLETE="complete",sP=ga,Xl.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",Q.prototype.listen=Q.prototype.K,Yu=Xl,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,rP=ft}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Uv("@firebase/firestore");function Nu(){return Yo.logLevel}function fe(t,...e){if(Yo.logLevel<=Be.DEBUG){const n=e.map(ew);Yo.debug(`Firestore (${Bl}): ${t}`,...n)}}function Yr(t,...e){if(Yo.logLevel<=Be.ERROR){const n=e.map(ew);Yo.error(`Firestore (${Bl}): ${t}`,...n)}}function bl(t,...e){if(Yo.logLevel<=Be.WARN){const n=e.map(ew);Yo.warn(`Firestore (${Bl}): ${t}`,...n)}}function ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Je(t,e){t||Pe()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class wV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xV{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string"),new uP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new an(e)}}class EV{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TV{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new EV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const i=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new SV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=kV(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function kl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new zt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new zt(0,0))}static max(){return new Ce(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(),i===void 0?i=e.length-n:i>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends Kc{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const IV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Kc{construct(e,n,i){return new Qt(e,n,i)}static isValidIdentifier(e){return IV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}function PV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(i===1e9?new zt(n+1,0):new zt(n,i));return new Ys(r,ye.empty(),e)}function CV(t){return new Ys(t.readTime,t.key,-1)}class Ys{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ys(Ce.min(),ye.empty(),-1)}static max(){return new Ys(Ce.max(),ye.empty(),-1)}}function AV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==RV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&n()},u=>i(u))}),o=!0,s===r&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(r=>r?te.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new te((i,r)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(d=>{o[h]=d,++l,l===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new te((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function OV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tw.oe=-1;function nm(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function MV(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Zt.RED,this.left=r??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Zt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Xt(Qt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dP("Invalid base64 string: "+s):s}}(e);return new en(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const NV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Je(!!t),typeof t=="string"){let e=0;const n=NV.exec(t);if(Je(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iw(t){const e=t.mapValue.fields.__previous_value__;return nw(e)?iw(e):e}function Gc(t){const e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,i,r,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={mapValue:{}};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nw(t)?4:VV(t)?9007199254740991:FV(t)?10:11:Pe()}function dr(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Xs(r.timestampValue),l=Xs(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Xo(r.bytesValue).isEqual(Xo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return St(r.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(r.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return St(r.integerValue)===St(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=St(r.doubleValue),l=St(s.doubleValue);return o===l?lp(o)===lp(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(RE(o)!==RE(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!dr(o[u],l[u])))return!1;return!0}(t,e);default:return Pe()}}function Qc(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Il(t,e){if(t===e)return 0;const n=Jo(t),i=Jo(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=St(s.integerValue||s.doubleValue),u=St(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(Gc(t),Gc(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Xo(s),u=Xo(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=qe(l[h],u[h]);if(d!==0)return d}return qe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=qe(St(s.latitude),St(o.latitude));return l!==0?l:qe(St(s.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ME(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,h,d;const m=s.fields||{},g=o.fields||{},y=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=(u=g.value)===null||u===void 0?void 0:u.arrayValue,E=qe(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:ME(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pd.mapValue&&o===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(o===Pd.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=qe(u[m],d[m]);if(g!==0)return g;const y=Il(l[u[m]],h[d[m]]);if(y!==0)return y}return qe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Xs(t),i=Xs(e),r=qe(n.seconds,i.seconds);return r!==0?r:qe(n.nanos,i.nanos)}function ME(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Il(n[r],i[r]);if(s)return s}return qe(n.length,i.length)}function Pl(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Xs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=ry(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${ry(n.fields[o])}`;return r+"}"}(t.mapValue):Pe()}function NE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sy(t){return!!t&&"integerValue"in t}function rw(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function FE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function FV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=fc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Qt.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}o?i[l.lastSegment()]=fc(o):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];pf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){la(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ln(fc(this.value))}}function fP(t){const e=[];return la(t.fields,(n,i)=>{const r=new Qt([n]);if(pf(i)){const s=fP(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,i,r,s,o,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),Ln.empty(),0)}static newFoundDocument(e,n,i,r){return new un(e,1,n,Ce.min(),i,r,0)}static newNoDocument(e,n){return new un(e,2,n,Ce.min(),Ce.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ce.min(),Ce.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ye.comparator(ye.fromName(o.referenceValue),n.key):i=Il(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function zV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{}class Ot extends pP{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jV(e,n,i):n==="array-contains"?new $V(e,i):n==="in"?new WV(e,i):n==="not-in"?new qV(e,i):n==="array-contains-any"?new KV(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UV(e,i):new HV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Il(n,this.value)):n!==null&&Jo(this.value)===Jo(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends pP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ui(e,n)}matches(e){return mP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mP(t){return t.op==="and"}function gP(t){return BV(t)&&mP(t)}function BV(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function oy(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(gP(t))return t.filters.map(e=>oy(e)).join(",");{const e=t.filters.map(n=>oy(n)).join(",");return`${t.op}(${e})`}}function _P(t,e){return t instanceof Ot?function(i,r){return r instanceof Ot&&i.op===r.op&&i.field.isEqual(r.field)&&dr(i.value,r.value)}(t,e):t instanceof Ui?function(i,r){return r instanceof Ui&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,l)=>s&&_P(o,r.filters[l]),!0):!1}(t,e):void Pe()}function yP(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`}(t):t instanceof Ui?function(n){return n.op.toString()+" {"+n.getFilters().map(yP).join(" ,")+"}"}(t):"Filter"}class jV extends Ot{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class UV extends Ot{constructor(e,n){super(e,"in",n),this.keys=vP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HV extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=vP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ye.fromName(i.referenceValue))}class $V extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rw(n)&&Qc(n.arrayValue,this.value)}}class WV extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class qV extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qc(this.value.arrayValue,n)}}class KV extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n=null,i=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function BE(t,e=null,n=[],i=[],r=null,s=null,o=null){return new GV(t,e,n,i,r,s,o)}function sw(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>oy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Pl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Pl(i)).join(",")),e.ue=n}return e.ue}function ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_P(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function ay(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n=null,i=[],r=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZV(t,e,n,i,r,s,o,l){return new xh(t,e,n,i,r,s,o,l)}function wP(t){return new xh(t)}function jE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xP(t){return t.collectionGroup!==null}function pc(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xt(Qt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new cp(s,i))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new cp(Qt.keyField(),i))}return e.ce}function ur(t){const e=Ae(t);return e.le||(e.le=QV(e,pc(t))),e.le}function QV(t,e){if(t.limitType==="F")return BE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new cp(r.field,s)});const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return BE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ly(t,e){const n=t.filters.concat([e]);return new xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uy(t,e,n){return new xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return ow(ur(t),ur(e))&&t.limitType===e.limitType}function EP(t){return`${sw(ur(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>yP(r)).join(", ")}]`),nm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Pl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Pl(r)).join(",")),`Target(${i})`}(ur(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ye.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of pc(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,l,u){const h=VE(o,l,u);return o.inclusive?h<=0:h<0}(i.startAt,pc(i),r)||i.endAt&&!function(o,l,u){const h=VE(o,l,u);return o.inclusive?h>=0:h>0}(i.endAt,pc(i),r))}(t,e)}function YV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TP(t){return(e,n)=>{let i=!1;for(const r of pc(t)){const s=XV(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function XV(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Il(u,h):Pe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return hP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new wt(ye.comparator);function Xr(){return JV}const SP=new wt(ye.comparator);function Xu(...t){let e=SP;for(const n of t)e=e.insert(n.key,n);return e}function bP(t){let e=SP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function No(){return mc()}function kP(){return mc()}function mc(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const e4=new wt(ye.comparator),t4=new Xt(ye.comparator);function ze(...t){let e=t4;for(const n of t)e=e.add(n);return e}const n4=new Xt(qe);function i4(){return n4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function IP(t){return{integerValue:""+t}}function r4(t,e){return MV(e)?IP(e):aw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function s4(t,e,n){return t instanceof hp?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&nw(s)&&(s=iw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yc?CP(t,e):t instanceof Xc?AP(t,e):function(r,s){const o=PP(r,s),l=UE(o)+UE(r.Pe);return sy(o)&&sy(r.Pe)?IP(l):aw(r.serializer,l)}(t,e)}function o4(t,e,n){return t instanceof Yc?CP(t,e):t instanceof Xc?AP(t,e):n}function PP(t,e){return t instanceof dp?function(i){return sy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class hp extends sm{}class Yc extends sm{constructor(e){super(),this.elements=e}}function CP(t,e){const n=RP(e);for(const i of t.elements)n.some(r=>dr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Xc extends sm{constructor(e){super(),this.elements=e}}function AP(t,e){let n=RP(e);for(const i of t.elements)n=n.filter(r=>!dr(r,i));return{arrayValue:{values:n}}}class dp extends sm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function UE(t){return St(t.integerValue||t.doubleValue)}function RP(t){return rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Yc&&r instanceof Yc||i instanceof Xc&&r instanceof Xc?kl(i.elements,r.elements,dr):i instanceof dp&&r instanceof dp?dr(i.Pe,r.Pe):i instanceof hp&&r instanceof hp}(t.transform,e.transform)}class l4{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function LP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MP(t.key,cr.none()):new Eh(t.key,t.data,cr.none());{const n=t.data,i=Ln.empty();let r=new Xt(Qt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new oo(t.key,i,new Gn(r.toArray()),cr.none())}}function u4(t,e,n){t instanceof Eh?function(r,s,o){const l=r.value.clone(),u=$E(r.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(r,s,o){if(!mf(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=$E(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(OP(r)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,i){return t instanceof Eh?function(s,o,l,u){if(!mf(s.precondition,o))return l;const h=s.value.clone(),d=WE(s.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof oo?function(s,o,l,u){if(!mf(s.precondition,o))return l;const h=WE(s.fieldTransforms,u,o),d=o.data;return d.setAll(OP(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,o,l){return mf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function c4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=PP(i.transform,r||null);s!=null&&(n===null&&(n=Ln.empty()),n.set(i.field,s))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&kl(i,r,(s,o)=>a4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends om{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oo extends om{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function $E(t,e,n){const i=new Map;Je(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,l=e.data.field(s.field);i.set(s.field,o4(o,l,n[r]))}return i}function WE(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,s4(s,o,e))}return i}class MP extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h4 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&u4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=gc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=gc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=kP();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(r.key)?null:l;const u=LP(o,l);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(n,i)=>HE(n,i))&&kl(this.baseMutations,e.baseMutations,(n,i)=>HE(n,i))}}class lw{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Je(e.mutations.length===i.length);let r=function(){return e4}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new lw(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ue;function m4(t){switch(t){default:return Pe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function NP(t){if(t===void 0)return Yr("GRPC error has no .code"),J.UNKNOWN;switch(t){case At.OK:return J.OK;case At.CANCELLED:return J.CANCELLED;case At.UNKNOWN:return J.UNKNOWN;case At.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case At.INTERNAL:return J.INTERNAL;case At.UNAVAILABLE:return J.UNAVAILABLE;case At.UNAUTHENTICATED:return J.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case At.NOT_FOUND:return J.NOT_FOUND;case At.ALREADY_EXISTS:return J.ALREADY_EXISTS;case At.PERMISSION_DENIED:return J.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case At.ABORTED:return J.ABORTED;case At.OUT_OF_RANGE:return J.OUT_OF_RANGE;case At.UNIMPLEMENTED:return J.UNIMPLEMENTED;case At.DATA_LOSS:return J.DATA_LOSS;default:return Pe()}}(Ue=At||(At={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Bo([4294967295,4294967295],0);function qE(t){const e=g4().encode(t),n=new iP;return n.update(e),new Uint8Array(n.digest())}function KE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bo([n,i],0),new Bo([r,s],0)]}class uw{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Bo.fromNumber(i)));return r.compare(_4)===1&&(r=new Bo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qE(e),[i,r]=KE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uw(s,r,n);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=qE(e),[i,r]=KE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new am(Ce.min(),r,new wt(qe),Xr(),ze())}}class Th{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Th(i,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class DP{constructor(e,n){this.targetId=e,this.me=n}}class FP{constructor(e,n,i=en.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class GE{constructor(){this.fe=0,this.ge=QE(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),i=ze();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Pe()}}),new Th(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=QE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class y4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=ZE(),this.Qe=new wt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(ay(s))if(i===0){const o=new ye(s.path);this.Ue(n,o,un.newNoDocument(o,Ce.min()))}else Je(i===1);else{const o=this.Ye(n);if(o!==i){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,l;try{o=Xo(i).toUint8Array()}catch(u){if(u instanceof dP)return bl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new uw(o,r,s)}catch(u){return bl(u instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&ay(l.target)){const u=new ye(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,un.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ze();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new am(e,n,this.Qe,this.ke,i);return this.ke=Xr(),this.qe=ZE(),this.Qe=new wt(qe),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new GE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new GE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ZE(){return new wt(ye.comparator)}function QE(){return new wt(ye.comparator)}const v4={asc:"ASCENDING",desc:"DESCENDING"},w4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x4={and:"AND",or:"OR"};class E4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cy(t,e){return t.useProto3Json||nm(e)?e:{value:e}}function fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T4(t,e){return fp(t,e.toTimestamp())}function hr(t){return Je(!!t),Ce.fromTimestamp(function(n){const i=Xs(n);return new zt(i.seconds,i.nanos)}(t))}function cw(t,e){return hy(t,e).canonicalString()}function hy(t,e){const n=function(r){return new ct(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zP(t){const e=ct.fromString(t);return Je($P(e)),e}function dy(t,e){return cw(t.databaseId,e.path)}function wg(t,e){const n=zP(e);if(n.get(1)!==t.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(jP(n))}function BP(t,e){return cw(t.databaseId,e)}function S4(t){const e=zP(t);return e.length===4?ct.emptyPath():jP(e)}function fy(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jP(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YE(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function b4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Je(d===void 0||typeof d=="string"),en.fromBase64String(d||"")):(Je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),en.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?J.UNKNOWN:NP(h.code);return new he(d,h.message||"")}(o);n=new FP(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=wg(t,i.document.name),s=hr(i.document.updateTime),o=i.document.createTime?hr(i.document.createTime):Ce.min(),l=new Ln({mapValue:{fields:i.document.fields}}),u=un.newFoundDocument(r,s,o,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new gf(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=wg(t,i.document),s=i.readTime?hr(i.readTime):Ce.min(),o=un.newNoDocument(r,s),l=i.removedTargetIds||[];n=new gf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=wg(t,i.document),s=i.removedTargetIds||[];n=new gf([],s,r,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new p4(r,s),l=i.targetId;n=new DP(l,o)}}return n}function k4(t,e){let n;if(e instanceof Eh)n={update:YE(t,e.key,e.value)};else if(e instanceof MP)n={delete:dy(t,e.key)};else if(e instanceof oo)n={update:YE(t,e.key,e.data),updateMask:N4(e.fieldMask)};else{if(!(e instanceof h4))return Pe();n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const l=o.transform;if(l instanceof hp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dp)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Pe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:T4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe()}(t,e.precondition)),n}function I4(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?hr(r.updateTime):hr(s);return o.isEqual(Ce.min())&&(o=hr(s)),new l4(o,r.transformResults||[])}(n,e))):[]}function P4(t,e){return{documents:[BP(t,e.path)]}}function C4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=BP(t,r);const s=function(h){if(h.length!==0)return HP(Ui.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:Ua(g.field),direction:L4(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=cy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:r}}function A4(t){let e=S4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Je(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const g=UP(m);return g instanceof Ui&&gP(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(x){return new cp(Ha(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,nm(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new up(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,y=m.values||[];return new up(y,g)}(n.endAt)),ZV(e,r,o,s,l,"F",u,h)}function R4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ha(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ha(n.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ha(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ha(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Ha(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ui.create(n.compositeFilter.filters.map(i=>UP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function L4(t){return v4[t]}function O4(t){return w4[t]}function M4(t){return x4[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Qt.fromServerFormat(t.fieldPath)}function HP(t){return t instanceof Ot?function(n){if(n.op==="=="){if(FE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:O4(n.op),value:n.value}}}(t):t instanceof Ui?function(n){const i=n.getFilters().map(r=>HP(r));return i.length===1?i[0]:{compositeFilter:{op:M4(n.op),filters:i}}}(t):Pe()}function N4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $P(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,i,r,s=Ce.min(),o=Ce.min(),l=en.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.ct=e}}function F4(t){const e=A4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.un=new z4}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ys.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class z4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xt(ct.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cl(0)}static kn(){return new Cl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&gc(i.mutation,r,Gn.empty(),zt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ze()){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Xu();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ze()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,i,r){let s=Xr();const o=mc(),l=function(){return mc()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof oo)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),gc(d.mutation,h,d.mutation.getFieldMask(),zt.now())):o.set(h.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var m;return l.set(h,new j4(d,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const i=mc();let r=new wt((o,l)=>o-l),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Gn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const m=(r.get(l.batchId)||ze()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,m=kP();d.forEach(g=>{if(!s.has(g)){const y=LP(n.get(g),i.get(g));y!==null&&m.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return te.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):te.resolve(No());let l=-1,u=s;return o.next(h=>te.forEach(h,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(d)?te.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ze())).next(d=>({batchId:l,changes:bP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let r=Xu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(e,s).next(l=>te.forEach(l,u=>{const h=function(m,g){return new xh(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,un.newInvalidDocument(d)))});let l=Xu();return o.forEach((u,h)=>{const d=s.get(u);d!==void 0&&gc(d.mutation,h,Gn.empty(),zt.now()),rm(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:hr(r.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:F4(r.bundledQuery),readTime:hr(r.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.overlays=new wt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=No();return te.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const r=No(),s=n.length+1,o=new ye(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return te.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new wt((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=No(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=No(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return te.resolve(l)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new f4(n,i));let s=this.Ir.get(n);s===void 0&&(s=ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Tr=new Xt(Ut.Er),this.dr=new Xt(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Ut(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new ye(new ct([])),i=new Ut(n,e),r=new Ut(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new ct([])),i=new Ut(n,e),r=new Ut(n,e+1);let s=ze();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Ut.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d4(s,n,i,r);this.mutationQueue.push(o);for(const l of r)this.br=this.br.add(new Ut(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ut(n,0),r=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const l=this.Dr(o.wr);s.push(l)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(qe);return n.forEach(r=>{const s=new Ut(r,0),o=new Ut(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{i=i.add(l.wr)})}),te.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ye.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new ye(s),0);let l=new Xt(qe);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.wr)),!0)},o),te.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return te.forEach(n.mutations,r=>{const s=new Ut(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new Ut(n,0),r=this.br.firstAfterOrEqual(i);return te.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.Mr=e,this.docs=function(){return new wt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=Xr();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():un.newInvalidDocument(r))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Xr();const o=n.path,l=new ye(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||AV(CV(d),i)<=0||(r.has(d.key)||rm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Pe()}Or(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new G4(this)}getSize(e){return te.resolve(this.size)}}class G4 extends B4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.persistence=e,this.Nr=new jl(n=>sw(n),ow),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hw,this.targetCount=0,this.kr=Cl.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),te.waitFor(s).next(()=>r)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tw(0),this.Kr=!1,this.Kr=!0,this.$r=new W4,this.referenceDelegate=e(this),this.Ur=new Z4(this),this.indexManager=new V4,this.remoteDocumentCache=function(r){return new K4(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new D4(n),this.Gr=new H4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new q4(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const r=new Y4(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return te.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class Y4 extends LV{constructor(e){super(),this.currentSequenceNumber=e}}class dw{constructor(e){this.persistence=e,this.Jr=new hw,this.Yr=null}static Zr(e){return new dw(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,i=>{const r=ye.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ze(),r=ze();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new fw(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HM()?8:OV(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new X4;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Nu()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Nu()<=Be.DEBUG&&fe("QueryEngine","Query:",ja(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Nu()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):te.resolve())}Yi(e,n){if(jE(n))return te.resolve(null);let i=ur(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=uy(n,null,"F"),i=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ze(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.ts(n,l);return this.ns(n,h,o,u.readTime)?this.Yi(e,uy(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,i,r){return jE(n)||r.isEqual(Ce.min())?te.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?te.resolve(null):(Nu()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ja(n)),this.rs(e,o,n,PV(r,-1)).next(l=>l))})}ts(e,n){let i=new Xt(TP(e));return n.forEach((r,s)=>{rm(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return Nu()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ja(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ys.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new wt(qe),this._s=new jl(s=>sw(s),ow),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function tz(t,e,n,i){return new ez(t,e,n,i)}async function WP(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],l=[];let u=ze();for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function nz(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const m=h.batch,g=m.keys();let y=te.resolve();return g.forEach(x=>{y=y.next(()=>d.getEntry(u,x)).next(E=>{const b=h.docVersions.get(x);Je(b!==null),E.version.compareTo(b)<0&&(m.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),d.addEntry(E)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ze();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function qP(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function iz(t,e){const n=Ae(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const l=[];e.targetChanges.forEach((d,m)=>{const g=r.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(m,y),function(E,b,S){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,y,d)&&l.push(n.Ur.updateTargetData(s,y))});let u=Xr(),h=ze();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(rz(s,o,e.documentUpdates).next(d=>{u=d.Ps,h=d.Is})),!i.isEqual(Ce.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return te.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.os=r,s))}function rz(t,e,n){let i=ze(),r=ze();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Xr();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):fe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:o,Is:r}})}function sz(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oz(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,te.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Cs(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function py(t,e,n){const i=Ae(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!wh(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function XE(t,e,n){const i=Ae(t);let r=Ce.min(),s=ze();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const m=Ae(u),g=m._s.get(d);return g!==void 0?te.resolve(m.os.get(g)):m.Ur.getTargetData(h,d)}(i,o,ur(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:Ce.min(),n?s:ze())).next(l=>(az(i,YV(e),l),{documents:l,Ts:s})))}function az(t,e,n){let i=t.us.get(e)||Ce.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class JE{constructor(){this.activeTargetIds=i4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lz{constructor(){this.so=new JE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new JE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function xg(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class dz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const l=xg(),u=this.xo(n,i.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,u,h,r).then(d=>(fe("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw bl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",r),d})}Lo(n,i,r,s,o,l){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=cz[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=xg();return new Promise((o,l)=>{const u=new rP;u.setWithCredentials(!0),u.listenOnce(sP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ff.NO_ERROR:const d=u.getResponseJson();fe(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ff.TIMEOUT:fe(sn,`RPC '${e}' ${s} timed out`),l(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const m=u.getStatus();if(fe(sn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const x=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(S)>=0?S:J.UNKNOWN}(y.status);l(new he(x,y.message))}else l(new he(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new he(J.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{fe(sn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(r);fe(sn,`RPC '${e}' ${s} sending request:`,r),u.send(n,"POST",h,i,15)})}Bo(e,n,i){const r=xg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lP(),l=aP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");fe(sn,`Creating RPC '${e}' stream ${r}: ${d}`,u);const m=o.createWebChannel(d,u);let g=!1,y=!1;const x=new hz({Io:b=>{y?fe(sn,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(g||(fe(sn,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),fe(sn,`RPC '${e}' stream ${r} sending:`,b),m.send(b))},To:()=>m.close()}),E=(b,S,k)=>{b.listen(S,I=>{try{k(I)}catch(B){setTimeout(()=>{throw B},0)}})};return E(m,Yu.EventType.OPEN,()=>{y||(fe(sn,`RPC '${e}' stream ${r} transport opened.`),x.yo())}),E(m,Yu.EventType.CLOSE,()=>{y||(y=!0,fe(sn,`RPC '${e}' stream ${r} transport closed`),x.So())}),E(m,Yu.EventType.ERROR,b=>{y||(y=!0,bl(sn,`RPC '${e}' stream ${r} transport errored:`,b),x.So(new he(J.UNAVAILABLE,"The operation could not be completed")))}),E(m,Yu.EventType.MESSAGE,b=>{var S;if(!y){const k=b.data[0];Je(!!k);const I=k,B=I.error||((S=I[0])===null||S===void 0?void 0:S.error);if(B){fe(sn,`RPC '${e}' stream ${r} received error:`,B);const $=B.status;let U=function(O){const F=At[O];if(F!==void 0)return NP(F)}($),A=B.message;U===void 0&&(U=J.INTERNAL,A="Unknown error status: "+$+" with message "+B.message),y=!0,x.So(new he(U,A)),m.close()}else fe(sn,`RPC '${e}' stream ${r} received:`,k),x.bo(k)}}),E(l,oP.STAT_EVENT,b=>{b.stat===iy.PROXY?fe(sn,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===iy.NOPROXY&&fe(sn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return new E4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,i,r,s,o,l,u){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fz extends GP{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=b4(this.serializer,e),i=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?hr(o.readTime):Ce.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=fy(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=ay(u)?{documents:P4(s,u)}:{query:C4(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=VP(s,o.resumeToken);const h=cy(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ce.min())>0){l.readTime=fp(s,o.snapshotVersion.toTimestamp());const h=cy(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=R4(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=fy(this.serializer),n.removeTarget=e,this.a_(n)}}class pz extends GP{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I4(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=fy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>k4(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hy(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(J.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,hy(n,i),r,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(J.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{ua(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Ae(u);h.L_.add(4),await Sh(h),h.q_.set("Unknown"),h.L_.delete(4),await um(h)}(this))})}),this.q_=new gz(i,r)}}async function um(t){if(ua(t))for(const e of t.B_)await e(!0)}async function Sh(t){for(const e of t.B_)await e(!1)}function ZP(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_w(n)?gw(n):Ul(n).r_()&&mw(n,e))}function pw(t,e){const n=Ae(t),i=Ul(n);n.N_.delete(e),i.r_()&&QP(n,e),n.N_.size===0&&(i.r_()?i.o_():ua(n)&&n.q_.set("Unknown"))}function mw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).A_(e)}function QP(t,e){t.Q_.xe(e),Ul(t).R_(e)}function gw(t){t.Q_=new y4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.q_.v_()}function _w(t){return ua(t)&&!Ul(t).n_()&&t.N_.size>0}function ua(t){return Ae(t).L_.size===0}function YP(t){t.Q_=void 0}async function yz(t){t.q_.set("Online")}async function vz(t){t.N_.forEach((e,n)=>{mw(t,e)})}async function wz(t,e){YP(t),_w(t)?(t.q_.M_(e),gw(t)):t.q_.set("Unknown")}async function xz(t,e,n){if(t.q_.set("Online"),e instanceof FP&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const l of s.targetIds)r.N_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.N_.delete(l),r.Q_.removeTarget(l))}(t,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pp(t,i)}else if(e instanceof gf?t.Q_.Ke(e):e instanceof DP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const i=await qP(t.localStore);n.compareTo(i)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(h);d&&s.N_.set(h,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(en.EMPTY_BYTE_STRING,d.snapshotVersion)),QP(s,u);const m=new Cs(d.target,u,h,d.sequenceNumber);mw(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await pp(t,i)}}async function pp(t,e,n){if(!wh(e))throw e;t.L_.add(1),await Sh(t),t.q_.set("Offline"),n||(n=()=>qP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await um(t)})}function XP(t,e){return e().catch(n=>pp(t,n,e))}async function cm(t){const e=Ae(t),n=Js(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ez(e);)try{const r=await sz(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,Tz(e,r)}catch(r){await pp(e,r)}JP(e)&&eC(e)}function Ez(t){return ua(t)&&t.O_.length<10}function Tz(t,e){t.O_.push(e);const n=Js(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JP(t){return ua(t)&&!Js(t).n_()&&t.O_.length>0}function eC(t){Js(t).start()}async function Sz(t){Js(t).p_()}async function bz(t){const e=Js(t);for(const n of t.O_)e.m_(n.mutations)}async function kz(t,e,n){const i=t.O_.shift(),r=lw.from(i,e,n);await XP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await cm(t)}async function Iz(t,e){e&&Js(t).V_&&await async function(i,r){if(function(o){return m4(o)&&o!==J.ABORTED}(r.code)){const s=i.O_.shift();Js(i).s_(),await XP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cm(i)}}(t,e),JP(t)&&eC(t)}async function tT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=ua(n);n.L_.add(3),await Sh(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await um(n)}async function Pz(t,e){const n=Ae(t);e?(n.L_.delete(2),await um(n)):e||(n.L_.add(2),await Sh(n),n.q_.set("Unknown"))}function Ul(t){return t.K_||(t.K_=function(n,i,r){const s=Ae(n);return s.w_(),new fz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:yz.bind(null,t),Ro:vz.bind(null,t),mo:wz.bind(null,t),d_:xz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_w(t)?gw(t):t.q_.set("Unknown")):(await t.K_.stop(),YP(t))})),t.K_}function Js(t){return t.U_||(t.U_=function(n,i,r){const s=Ae(n);return s.w_(),new pz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Sz.bind(null,t),mo:Iz.bind(null,t),f_:bz.bind(null,t),g_:kz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cm(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,l=new yw(e,n,o,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vw(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),wh(t))return new he(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Xu(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.W_=new wt(ye.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Al{constructor(e,n,i,r,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Al(e,n,fl.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Az{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=Ae(n),s=r.queries;r.queries=iT(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(i)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function iT(){return new jl(t=>EP(t),im)}async function Rz(t,e){const n=Ae(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Cz,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=vw(o,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&ww(n)}async function Lz(t,e){const n=Ae(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Oz(t,e){const n=Ae(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(r)&&(i=!0);o.z_=r}}i&&ww(n)}function Mz(t,e,n){const i=Ae(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function ww(t){t.Y_.forEach(e=>{e.next()})}var my,rT;(rT=my||(my={})).ea="default",rT.Cache="cache";class Nz{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class Dz{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=TP(e),this.Ra=new fl(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new nT,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,m)=>{const g=r.get(d),y=rm(this.query,m)?m:null,x=!!g&&this.mutatedKeys.has(g.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;g&&y?g.data.isEqual(y.data)?x!==E&&(i.track({type:3,doc:y}),b=!0):this.ga(g,y)||(i.track({type:2,doc:y}),b=!0,(u&&this.Aa(y,u)>0||h&&this.Aa(y,h)<0)&&(l=!0)):!g&&y?(i.track({type:0,doc:y}),b=!0):g&&!y&&(i.track({type:1,doc:g}),b=!0,(u||h)&&(l=!0)),b&&(y?(o=o.add(y),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,m)=>function(y,x){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return E(y)-E(x)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(i),r=r!=null&&r;const l=n&&!r?this.ya():[],u=this.da.size===0&&this.current&&!r?1:0,h=u!==this.Ea;return this.Ea=u,o.length!==0||h?{snapshot:new Al(this.query,e.Ra,s,o,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new nC(i))}),this.da.forEach(i=>{e.has(i)||n.push(new tC(i))}),n}ba(e){this.Ta=e.Ts,this.da=ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Fz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Vz{constructor(e){this.key=e,this.va=!1}}class zz{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jl(l=>EP(l),im),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(ye.comparator),this.Na=new Map,this.La=new hw,this.Ba={},this.ka=new Map,this.qa=Cl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Bz(t,e,n=!0){const i=lC(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await iC(i,e,n,!0),r}async function jz(t,e){const n=lC(t);await iC(n,e,!0,!1)}async function iC(t,e,n,i){const r=await oz(t.localStore,ur(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await Uz(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&ZP(t.remoteStore,r),l}async function Uz(t,e,n,i,r){t.Ka=(m,g,y)=>async function(E,b,S,k){let I=b.view.ma(S);I.ns&&(I=await XE(E.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,I)));const B=k&&k.targetChanges.get(b.targetId),$=k&&k.targetMismatches.get(b.targetId)!=null,U=b.view.applyChanges(I,E.isPrimaryClient,B,$);return oT(E,b.targetId,U.wa),U.snapshot}(t,m,g,y);const s=await XE(t.localStore,e,!0),o=new Dz(e,s.Ts),l=o.ma(s.documents),u=Th.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=o.applyChanges(l,t.isPrimaryClient,u);oT(t,n,h.wa);const d=new Fz(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function Hz(t,e,n){const i=Ae(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!im(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await py(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&pw(i.remoteStore,r.targetId),gy(i,r.targetId)}).catch(vh)):(gy(i,r.targetId),await py(i.localStore,r.targetId,!0))}async function $z(t,e){const n=Ae(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pw(n.remoteStore,i.targetId))}async function Wz(t,e,n){const i=Xz(t);try{const r=await function(o,l){const u=Ae(o),h=zt.now(),d=l.reduce((y,x)=>y.add(x.key),ze());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Xr(),E=ze();return u.cs.getEntries(y,d).next(b=>{x=b,x.forEach((S,k)=>{k.isValidDocument()||(E=E.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,x)).next(b=>{m=b;const S=[];for(const k of l){const I=c4(k,m.get(k.key).overlayedDocument);I!=null&&S.push(new oo(k.key,I,fP(I.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,S,l)}).next(b=>{g=b;const S=b.applyToLocalDocumentSet(m,E);return u.documentOverlayCache.saveOverlays(y,b.batchId,S)})}).then(()=>({batchId:g.batchId,changes:bP(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let h=o.Ba[o.currentUser.toKey()];h||(h=new wt(qe)),h=h.insert(l,u),o.Ba[o.currentUser.toKey()]=h}(i,r.batchId,n),await bh(i,r.changes),await cm(i.remoteStore)}catch(r){const s=vw(r,"Failed to persist write");n.reject(s)}}async function rC(t,e){const n=Ae(t);try{const i=await iz(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Je(o.va):r.removedDocuments.size>0&&(Je(o.va),o.va=!1))}),await bh(n,i,e)}catch(i){await vh(i)}}function sT(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=Ae(o);u.onlineState=l;let h=!1;u.queries.forEach((d,m)=>{for(const g of m.j_)g.Z_(l)&&(h=!0)}),h&&ww(u)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qz(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new wt(ye.comparator);o=o.insert(s,un.newNoDocument(s,Ce.min()));const l=ze().add(s),u=new am(Ce.min(),new Map,new wt(qe),o,l);await rC(i,u),i.Oa=i.Oa.remove(s),i.Na.delete(e),xw(i)}else await py(i.localStore,e,!1).then(()=>gy(i,e,n)).catch(vh)}async function Kz(t,e){const n=Ae(t),i=e.batch.batchId;try{const r=await nz(n.localStore,e);oC(n,i,null),sC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await bh(n,r)}catch(r){await vh(r)}}async function Gz(t,e,n){const i=Ae(t);try{const r=await function(o,l){const u=Ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(Je(m!==null),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);oC(i,e,n),sC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await bh(i,r)}catch(r){await vh(r)}}function sC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oC(t,e,n){const i=Ae(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||aC(t,i)})}function aC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),xw(t))}function oT(t,e,n){for(const i of n)i instanceof tC?(t.La.addReference(i.key,e),Zz(t,i)):i instanceof nC?(fe("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||aC(t,i.key)):Pe()}function Zz(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(i),xw(t))}function xw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(ct.fromString(e)),i=t.qa.next();t.Na.set(i,new Vz(n)),t.Oa=t.Oa.insert(n,i),ZP(t.remoteStore,new Cs(ur(wP(n.path)),i,"TargetPurposeLimboResolution",tw.oe))}}async function bh(t,e,n){const i=Ae(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((l,u)=>{o.push(i.Ka(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){r.push(h);const m=fw.Wi(u.targetId,h);s.push(m)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(u,h){const d=Ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>te.forEach(h,g=>te.forEach(g.$i,y=>d.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>te.forEach(g.Ui,y=>d.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!wh(m))throw m;fe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const y=d.os.get(g),x=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(g,E)}}}(i.localStore,s))}async function Qz(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await WP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new he(J.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await bh(n,i.hs)}}function Yz(t,e){const n=Ae(t),i=n.Na.get(e);if(i&&i.va)return ze().add(i.key);{let r=ze();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const l=n.Fa.get(o);r=r.unionWith(l.view.Va)}return r}}function lC(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qz.bind(null,e),e.Ca.d_=Oz.bind(null,e.eventManager),e.Ca.$a=Mz.bind(null,e.eventManager),e}function Xz(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gz.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return tz(this.persistence,new J4,e.initialUser,this.serializer)}Ga(e){return new Q4(dw.Zr,this.serializer)}Wa(e){return new lz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qz.bind(null,this.syncEngine),await Pz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Az}()}createDatastore(e){const n=lm(e.databaseInfo.databaseId),i=function(s){return new dz(s)}(e.databaseInfo);return function(s,o,l,u){return new mz(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,l){return new _z(i,r,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sT(this.syncEngine,n,0),function(){return eT.D()?new eT:new uz}())}createSyncEngine(e,n){return function(r,s,o,l,u,h,d){const m=new zz(r,s,o,l,u,h);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Ae(r);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Sh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=an.UNAUTHENTICATED,this.clientId=cP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vw(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WP(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tB(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>tT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>tT(e.remoteStore,r)),t._onlineComponents=e}async function tB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new mp)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Tg(t,new mp);return t._offlineComponents}async function uC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await aT(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await aT(t,new _y))),t._onlineComponents}function nB(t){return uC(t).then(e=>e.syncEngine)}async function iB(t){const e=await uC(t),n=e.eventManager;return n.onListen=Bz.bind(null,e.syncEngine),n.onUnlisten=Hz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$z.bind(null,e.syncEngine),n}function rB(t,e,n={}){const i=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const d=new Jz({next:g=>{d.Za(),o.enqueueAndForget(()=>Lz(s,m)),g.fromCache&&u.source==="server"?h.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Nz(l,d,{includeMetadataChanges:!0,_a:!0});return Rz(s,m)}(await iB(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sB(t,e,n,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uT(t){if(!ye.isDocumentKey(t))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cT(t){if(ye.isDocumentKey(t))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(t);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vV;switch(i.type){case"firstParty":return new TV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=lT.get(n);i&&(fe("ComponentProvider","Removing Datastore"),lT.delete(n),i.terminate())}(this),Promise.resolve()}}function oB(t,e,n,i={}){var r;const s=(t=Rl(t,dm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=an.MOCK_USER;else{l=_I(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new an(h)}t._authCredentials=new wV(new uP(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hl(this.firestore,e,this._query)}}class Yn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class $s extends Hl{constructor(e,n,i){super(e,n,wP(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new ye(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function fm(t,e,...n){if(t=Wt(t),hC("collection","path",e),t instanceof dm){const i=ct.fromString(e,...n);return cT(i),new $s(t,null,i)}{if(!(t instanceof Yn||t instanceof $s))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return cT(i),new $s(t.firestore,null,i)}}function Ew(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=cP.newId()),hC("doc","path",e),t instanceof dm){const i=ct.fromString(e,...n);return uT(i),new Yn(t,null,new ye(i))}{if(!(t instanceof Yn||t instanceof $s))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return uT(i),new Yn(t.firestore,t instanceof $s?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KP(this,"async_queue_retry"),this.Vu=()=>{const i=Eg();i&&fe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Hs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wh(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=yw.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class pm extends dm{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new dT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function aB(t,e){const n=typeof t=="object"?t:$v(),i=typeof t=="string"?t:"(default)",r=Xp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=pI("firestore");s&&oB(r,...s)}return r}function dC(t){if(t._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lB(t),t._firestoreClient}function lB(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,h,d){return new DV(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new eB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(en.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ll(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=/^__.*__$/;class cB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class fC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class kw{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pC(this.Cu)&&uB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class hB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||lm(e)}Qu(e,n,i,r=!1){return new kw({Cu:e,methodName:n,qu:i,path:Qt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iw(t){const e=t._freezeSettings(),n=lm(t._databaseId);return new hB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dB(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);Pw("Data must be an object, but it was:",o,i);const l=mC(i,o);let u,h;if(s.merge)u=new Gn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=yy(e,m,n);if(!o.contains(g))throw new he(J.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_C(d,g)||d.push(g)}u=new Gn(d),h=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=o.fieldTransforms;return new cB(new Ln(l),u,h)}class gm extends Tw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function fB(t,e,n,i){const r=t.Qu(1,e,n);Pw("Data must be an object, but it was:",r,i);const s=[],o=Ln.empty();la(i,(u,h)=>{const d=Cw(e,u,n);h=Wt(h);const m=r.Nu(d);if(h instanceof gm)s.push(d);else{const g=kh(h,m);g!=null&&(s.push(d),o.set(d,g))}});const l=new Gn(s);return new fC(o,l,r.fieldTransforms)}function pB(t,e,n,i,r,s){const o=t.Qu(1,e,n),l=[yy(e,i,n)],u=[r];if(s.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(yy(e,s[g])),u.push(s[g+1]);const h=[],d=Ln.empty();for(let g=l.length-1;g>=0;--g)if(!_C(h,l[g])){const y=l[g];let x=u[g];x=Wt(x);const E=o.Nu(y);if(x instanceof gm)h.push(y);else{const b=kh(x,E);b!=null&&(h.push(y),d.set(y,b))}}const m=new Gn(h);return new fC(d,m,o.fieldTransforms)}function mB(t,e,n,i=!1){return kh(n,t.Qu(i?4:3,e))}function kh(t,e){if(gC(t=Wt(t)))return Pw("Unsupported field value:",e,t),mC(t,e);if(t instanceof Tw)return function(i,r){if(!pC(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const l of i){let u=kh(l,r.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return r4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=zt.fromDate(i);return{timestampValue:fp(r.serializer,s)}}if(i instanceof zt){const s=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fp(r.serializer,s)}}if(i instanceof Sw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ll)return{bytesValue:VP(r.serializer,i._byteString)};if(i instanceof Yn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cw(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bw)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return aw(l.serializer,u)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${hm(i)}`)}(t,e)}function mC(t,e){const n={};return hP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(i,r)=>{const s=kh(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Sw||t instanceof Ll||t instanceof Yn||t instanceof Tw||t instanceof bw)}function Pw(t,e,n){if(!gC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=hm(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function yy(t,e,n){if((e=Wt(e))instanceof mm)return e._internalPath;if(typeof e=="string")return Cw(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const gB=new RegExp("[~\\*/\\[\\]]");function Cw(t,e,n){if(e.search(gB)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new he(J.INVALID_ARGUMENT,l+t+u)}function _C(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _B(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Aw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _B extends yC{data(){return super.data()}}function Aw(t,e){return typeof e=="string"?Cw(t,e):e instanceof mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}class vB extends Rw{}function wB(t,e,...n){let i=[];e instanceof Rw&&i.push(e),i=i.concat(n),function(s){const o=s.filter(u=>u instanceof Lw).length,l=s.filter(u=>u instanceof _m).length;if(o>1||o>0&&l>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class _m extends vB{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new _m(e,n,i)}_apply(e){const n=this._parse(e);return vC(e._query,n),new Hl(e.firestore,e.converter,ly(e._query,n))}_parse(e){const n=Iw(e.firestore);return function(s,o,l,u,h,d,m){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){pT(m,d);const y=[];for(const x of m)y.push(fT(u,s,x));g={arrayValue:{values:y}}}else g=fT(u,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||pT(m,d),g=mB(l,o,m,d==="in"||d==="not-in");return Ot.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xB(t,e,n){const i=e,r=Aw("where",t);return _m._create(r,i,n)}class Lw extends Rw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lw(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const u of l)vC(o,u),o=ly(o,u)}(e._query,n),new Hl(e.firestore,e.converter,ly(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fT(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xP(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ct.fromString(n));if(!ye.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NE(t,new ye(i))}if(n instanceof Yn)return NE(t,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(n)}.`)}function pT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(t,e){const n=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EB{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return la(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>St(o.doubleValue));return new bw(s)}convertGeoPoint(e){return new Sw(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=iw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);Je($P(i));const r=new Zc(i.get(1),i.get(3)),s=new ye(i.popFirst(5));return r.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SB extends yC{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Aw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class _f extends SB{data(e={}){return super.data(e)}}class bB{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ad(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new _f(this._firestore,this._userDataWriter,i.key,i,new Ad(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new _f(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ad(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new _f(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ad(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:kB(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class IB extends EB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function Ow(t){t=Rl(t,Hl);const e=Rl(t.firestore,pm),n=dC(e),i=new IB(e);return yB(t._query),rB(n,t._query).then(r=>new bB(e,i,t,r))}function wC(t,e,n,...i){t=Rl(t,Yn);const r=Rl(t.firestore,pm),s=Iw(r);let o;return o=typeof(e=Wt(e))=="string"||e instanceof mm?pB(s,"updateDoc",t._key,e,n,i):fB(s,"updateDoc",t._key,e),xC(r,[o.toMutation(t._key,cr.exists(!0))])}function PB(t,e){const n=Rl(t.firestore,pm),i=Ew(t),r=TB(t.converter,e);return xC(n,[dB(Iw(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}function xC(t,e){return function(i,r){const s=new Hs;return i.asyncQueue.enqueueAndForget(async()=>Wz(await nB(i),r,s)),s.promise}(dC(t),e)}(function(e,n=!0){(function(r){Bl=r})(oa),Go(new Qs("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),l=new pm(new xV(i.getProvider("auth-internal")),new bV(i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(h.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),or(AE,"4.7.3",e),or(AE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebasestorage.googleapis.com",CB="storageBucket",AB=2*60*1e3,RB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends mr{constructor(e,n,i=0){super(Sg(e),`Firebase Storage: ${n} (${Sg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fr||(fr={}));function Sg(t){return"storage/"+t}function LB(){const t="An unknown error occurred, please check the error payload for server response.";return new gr(fr.UNKNOWN,t)}function OB(){return new gr(fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MB(){return new gr(fr.CANCELED,"User canceled the upload/download.")}function NB(t){return new gr(fr.INVALID_URL,"Invalid URL '"+t+"'.")}function DB(t){return new gr(fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mT(t){return new gr(fr.INVALID_ARGUMENT,t)}function TC(){return new gr(fr.APP_DELETED,"The Firebase app was deleted.")}function FB(t){return new gr(fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(i.path==="")return i;throw DB(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function h(B){B.path_=decodeURIComponent(B.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${d}/b/${r}/o${g}`,"i"),x={bucket:1,path:3},E=n===EC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",S=new RegExp(`^https?://${E}/${r}/${b}`,"i"),I=[{regex:l,indices:u,postModify:s},{regex:y,indices:x,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let B=0;B<I.length;B++){const $=I[B],U=$.regex.exec(e);if(U){const A=U[$.indices.bucket];let P=U[$.indices.path];P||(P=""),i=new Mi(A,P),$.postModify(i);break}}if(i==null)throw NB(e);return i}}class VB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e,n){let i=1,r=null,s=null,o=!1,l=0;function u(){return l===2}let h=!1;function d(...b){h||(h=!0,e.apply(null,b))}function m(b){r=setTimeout(()=>{r=null,t(y,u())},b)}function g(){s&&clearTimeout(s)}function y(b,...S){if(h){g();return}if(b){g(),d.call(null,b,...S);return}if(u()||o){g(),d.call(null,b,...S);return}i<64&&(i*=2);let I;l===1?(l=2,I=0):I=(i+Math.random())*1e3,m(I)}let x=!1;function E(b){x||(x=!0,g(),!h&&(r!==null?(b||(l=2),clearTimeout(r),m(0)):b||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function BB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){return t!==void 0}function gT(t,e,n,i){if(i<e)throw mT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw mT(`Invalid value for '${t}'. Expected ${n} or less.`)}function UB(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var _p;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_p||(_p={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,i,r,s,o,l,u,h,d,m,g=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Rd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===_p.NO_ERROR,u=s.getStatus();if(!l||HB(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===_p.ABORT;i(!1,new Rd(!1,null,d));return}const h=this.successCodes_.indexOf(u)!==-1;i(!0,new Rd(h,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());jB(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=LB();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(r.canceled){const u=this.appDelete_?TC():MB();o(u)}else{const u=OB();o(u)}};this.canceled_?n(!1,new Rd(!1,null,!0)):this.backoffId_=zB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function WB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZB(t,e,n,i,r,s,o=!0){const l=UB(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return KB(h,e),WB(h,n),qB(h,s),GB(h,i),new $B(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yp(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YB(this._location.path)}get storage(){return this._service}get parent(){const e=QB(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new yp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FB(e)}}function _T(t,e){const n=e==null?void 0:e[CB];return n==null?null:Mi.makeFromBucketSpec(n,t)}function XB(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:_I(r,t.app.options.projectId))}class JB{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=EC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AB,this._maxUploadRetryTime=RB,this._requests=new Set,r!=null?this._bucket=Mi.makeFromBucketSpec(r,this._host):this._bucket=_T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=_T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yp(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new VB(TC());{const o=ZB(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const yT="@firebase/storage",vT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="storage";function e3(t=$v(),e){t=Wt(t);const i=Xp(t,SC).getImmediate({identifier:e}),r=pI("storage");return r&&t3(i,...r),i}function t3(t,e,n,i={}){XB(t,e,n,i)}function n3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new JB(n,i,r,e,oa)}function i3(){Go(new Qs(SC,n3,"PUBLIC").setMultipleInstances(!0)),or(yT,vT,""),or(yT,vT,"esm2017")}i3();const r3={apiKey:"AIzaSyADAy8ySvJsUP5diMyR9eIUgtPFimpydcA",authDomain:"sap-jdc.firebaseapp.com",projectId:"sap-jdc",storageBucket:"sap-jdc.firebasestorage.app",messagingSenderId:"1079234336489",appId:"1:1079234336489:web:2428621b62a393068ec278",measurementId:"G-PRWSK0TEFZ"},Mw=wI(r3),wT=ap(Mw),$l=aB(Mw);e3(Mw);const s3=async t=>{try{return(await Ow(fm($l,t))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Error fetching collection:",e),e}},o3=async(t,e,n)=>{try{const i=Ew($l,t,e);await wC(i,n)}catch(i){throw console.error("Error updating document:",i),i}},ym=async()=>{try{const t=[{id:"CHR"},{id:"HACCP"},{id:"Kezia"},{id:"Tabac"}];return console.log("Sectors data fetched:",t),t}catch(t){throw console.error("Error fetching sectors:",t),t}},Nw=async t=>{try{const e=fm($l,t);return(await Ow(e)).docs.map(i=>({id:i.id,...i.data(),secteur:t}))}catch(e){throw console.error(`Error fetching tickets for sector ${t}:`,e),e}},Ld=async(t,e,n)=>{try{const i=Ew($l,t,e);await wC(i,n)}catch(i){throw console.error("Error updating ticket:",i),i}},bC=async t=>{try{return await Nw(t)}catch(e){throw console.error("Error fetching tickets by sector:",e),e}},a3=async t=>{try{const e=fm($l,"geocodes"),n=wB(e,xB("address","==",t)),i=await Ow(n);return i.empty?null:i.docs[0].data()}catch(e){return console.error("Error fetching geocode from Firestore:",e),null}},l3=async(t,e,n)=>{console.log(`Storing geocode for address: ${t} with coordinates: ${e}, ${n}`);try{const i=fm($l,"geocodes");await PB(i,{address:t,latitude:e,longitude:n,timestamp:new Date}),console.log(`Geocode successfully stored for address: ${t}`)}catch(i){console.error("Error storing geocode in Firestore:",i)}},vy=async()=>{try{return await s3("users")}catch(t){throw console.error("Error fetching users:",t),t}},kC=K.createContext(void 0),u3=({children:t})=>{const[e,n]=K.useState(null),[i,r]=K.useState(!0),[s,o]=K.useState(null);K.useEffect(()=>{const h=ap().onAuthStateChanged(async d=>{if(d){r(!0),o(null);try{const g=(await vy()).find(y=>y.email===d.email);g&&g.secteurs?n(g.secteurs):n([])}catch(m){o(m.message||"Failed to load user sectors."),console.error("Error fetching user sectors:",m),n(null)}finally{r(!1)}}else n(null),r(!1)});return()=>h()},[]);const l={userSectors:e,setUserSectors:n,loadingSectors:i,errorSectors:s};return V.jsx(kC.Provider,{value:l,children:t})},Dw=()=>{const t=K.useContext(kC);if(!t)throw new Error("useUserSectors must be used within a UserProvider");return t};var IC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xT=Fi.createContext&&Fi.createContext(IC),c3=["attr","size","title"];function h3(t,e){if(t==null)return{};var n=d3(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function d3(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vp.apply(this,arguments)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(i){f3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function f3(t,e,n){return e=p3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p3(t){var e=m3(t,"string");return typeof e=="symbol"?e:e+""}function m3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PC(t){return t&&t.map((e,n)=>Fi.createElement(e.tag,wp({key:n},e.attr),PC(e.child)))}function _r(t){return e=>Fi.createElement(g3,vp({attr:wp({},t.attr)},e),PC(t.child))}function g3(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=h3(t,c3),l=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Fi.createElement("svg",vp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:u,style:wp(wp({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Fi.createElement("title",null,s),t.children)};return xT!==void 0?Fi.createElement(xT.Consumer,null,n=>e(n)):e(IC)}function _3(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function y3(t){return _r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function v3(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function w3(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function x3(t){return _r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function E3(t){return _r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function T3(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function S3(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function b3(t){return _r({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function k3(t){return _r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const I3=()=>{const t=dh(),e=jv(),[n,i]=K.useState(null),{userSectors:r,loadingSectors:s,errorSectors:o}=Dw();K.useEffect(()=>{const d=ap().onAuthStateChanged(m=>{i(m)});return()=>d()},[]);const l=async()=>{try{await sF(ap()),e("/auth")}catch(h){console.error("Logout error:",h)}},u=h=>t.pathname===h?"active":"";return V.jsx("nav",{className:"bg-gray-800 shadow-md py-4",children:V.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4",children:[V.jsxs(Va,{to:"/",className:"text-2xl font-bold text-white hover:text-blue-300 transition duration-200",children:["JDC SAP ",V.jsx("span",{className:"emoticon",children:""})]}),V.jsxs("ul",{className:"flex space-x-6",children:[V.jsx("li",{children:V.jsxs(Va,{to:"/dashboard",className:`btn btn-ghost ${u("/dashboard")}`,children:[V.jsx(v3,{className:"icon"})," Dashboard"]})}),V.jsx("li",{children:V.jsxs(Va,{to:"/envois",className:`btn btn-ghost ${u("/envois")}`,children:[V.jsx(_3,{className:"icon"})," Envois"]})}),V.jsx("li",{children:V.jsxs(Va,{to:"/sap",className:`btn btn-ghost ${u("/sap")}`,children:[V.jsx(b3,{className:"icon"})," SAP"]})}),n&&V.jsx("li",{children:V.jsxs(Va,{to:"/admin",className:`btn btn-ghost ${u("/admin")}`,children:[V.jsx(k3,{className:"icon"})," Admin"]})}),n?V.jsx("li",{children:V.jsxs("button",{className:"btn btn-ghost",onClick:l,children:[V.jsx(S3,{className:"icon"})," Logout"]})}):V.jsx("li",{children:V.jsxs(Va,{to:"/auth",className:`btn btn-ghost ${u("/auth")}`,children:[V.jsx(T3,{className:"icon"})," Login"]})})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ih(t){return t+.5|0}const As=(t,e,n)=>Math.max(Math.min(t,n),e);function ec(t){return As(Ih(t*2.55),0,255)}function Ws(t){return As(Ih(t*255),0,255)}function Fr(t){return As(Ih(t/2.55)/100,0,1)}function TT(t){return As(Ih(t*100),0,100)}const di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wy=[..."0123456789ABCDEF"],P3=t=>wy[t&15],C3=t=>wy[(t&240)>>4]+wy[t&15],Od=t=>(t&240)>>4===(t&15),A3=t=>Od(t.r)&&Od(t.g)&&Od(t.b)&&Od(t.a);function R3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&di[t[1]]*17,g:255&di[t[2]]*17,b:255&di[t[3]]*17,a:e===5?di[t[4]]*17:255}:(e===7||e===9)&&(n={r:di[t[1]]<<4|di[t[2]],g:di[t[3]]<<4|di[t[4]],b:di[t[5]]<<4|di[t[6]],a:e===9?di[t[7]]<<4|di[t[8]]:255})),n}const L3=(t,e)=>t<255?e(t):"";function O3(t){var e=A3(t)?P3:C3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+L3(t.a,e):void 0}const M3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function CC(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function N3(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function D3(t,e,n){const i=CC(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function F3(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Fw(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),l=(s+o)/2;let u,h,d;return s!==o&&(d=s-o,h=l>.5?d/(2-s-o):d/(s+o),u=F3(n,i,r,d,s),u=u*60+.5),[u|0,h||0,l]}function Vw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ws)}function zw(t,e,n){return Vw(CC,t,e,n)}function V3(t,e,n){return Vw(D3,t,e,n)}function z3(t,e,n){return Vw(N3,t,e,n)}function AC(t){return(t%360+360)%360}function B3(t){const e=M3.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ec(+e[5]):Ws(+e[5]));const r=AC(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=V3(r,s,o):e[1]==="hsv"?i=z3(r,s,o):i=zw(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function j3(t,e){var n=Fw(t);n[0]=AC(n[0]+e),n=zw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function U3(t){if(!t)return;const e=Fw(t),n=e[0],i=TT(e[1]),r=TT(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Fr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const ST={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function H3(){const t={},e=Object.keys(bT),n=Object.keys(ST);let i,r,s,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,ST[s]);s=parseInt(bT[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Md;function $3(t){Md||(Md=H3(),Md.transparent=[0,0,0,0]);const e=Md[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const W3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function q3(t){const e=W3.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ec(o):As(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ec(i):As(i,0,255)),r=255&(e[4]?ec(r):As(r,0,255)),s=255&(e[6]?ec(s):As(s,0,255)),{r:i,g:r,b:s,a:n}}}function K3(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,za=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function G3(t,e,n){const i=za(Fr(t.r)),r=za(Fr(t.g)),s=za(Fr(t.b));return{r:Ws(bg(i+n*(za(Fr(e.r))-i))),g:Ws(bg(r+n*(za(Fr(e.g))-r))),b:Ws(bg(s+n*(za(Fr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Nd(t,e,n){if(t){let i=Fw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=zw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function RC(t,e){return t&&Object.assign(e||{},t)}function kT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ws(t[3]))):(e=RC(t,{r:0,g:0,b:0,a:1}),e.a=Ws(e.a)),e}function Z3(t){return t.charAt(0)==="r"?q3(t):B3(t)}class Jc{constructor(e){if(e instanceof Jc)return e;const n=typeof e;let i;n==="object"?i=kT(e):n==="string"&&(i=R3(e)||$3(e)||Z3(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RC(this._rgb);return e&&(e.a=Fr(e.a)),e}set rgb(e){this._rgb=kT(e)}rgbString(){return this._valid?K3(this._rgb):void 0}hexString(){return this._valid?O3(this._rgb):void 0}hslString(){return this._valid?U3(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,l=2*o-1,u=i.a-r.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-h,i.r=255&h*i.r+s*r.r+.5,i.g=255&h*i.g+s*r.g+.5,i.b=255&h*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=G3(this._rgb,e._rgb,n)),this}clone(){return new Jc(this.rgb)}alpha(e){return this._rgb.a=Ws(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ih(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nd(this._rgb,2,e),this}darken(e){return Nd(this._rgb,2,-e),this}saturate(e){return Nd(this._rgb,1,e),this}desaturate(e){return Nd(this._rgb,1,-e),this}rotate(e){return j3(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Lr(){}const Q3=(()=>{let t=0;return()=>t++})();function it(t){return t==null}function Ft(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zi(t,e){return xi(t)?t:e}function Ye(t,e){return typeof t>"u"?e:t}const Y3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ut(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Qe(t,e,n,i){let r,s,o;if(Ft(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Ke(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function xp(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Ep(t){if(Ft(t))return t.map(Ep);if(Ke(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Ep(t[n[r]]);return e}return t}function LC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function X3(t,e,n,i){if(!LC(t))return;const r=e[t],s=n[t];Ke(r)&&Ke(s)?eh(r,s,i):e[t]=Ep(s)}function eh(t,e,n){const i=Ft(e)?e:[e],r=i.length;if(!Ke(t))return t;n=n||{};const s=n.merger||X3;let o;for(let l=0;l<r;++l){if(o=i[l],!Ke(o))continue;const u=Object.keys(o);for(let h=0,d=u.length;h<d;++h)s(u[h],t,o,n)}return t}function _c(t,e){return eh(t,e,{merger:J3})}function J3(t,e,n){if(!LC(t))return;const i=e[t],r=n[t];Ke(i)&&Ke(r)?_c(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ep(r))}const IT={"":t=>t,x:t=>t.x,y:t=>t.y};function ej(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function tj(t){const e=ej(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ol(t,e){return(IT[e]||(IT[e]=tj(e)))(t)}function Bw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const th=t=>typeof t<"u",eo=t=>typeof t=="function",PT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function nj(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const dn=Math.PI,qs=2*dn,Tp=Number.POSITIVE_INFINITY,ij=dn/180,Ni=dn/2,Eo=dn/4,CT=dn*2/3,OC=Math.log10,Ks=Math.sign;function yf(t,e,n){return Math.abs(t-e)<n}function AT(t){const e=Math.round(t);t=yf(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(OC(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function rj(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function sj(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sp(t){return!sj(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function oj(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function aj(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Do(t){return t*(dn/180)}function lj(t){return t*(180/dn)}function RT(t){if(!xi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function uj(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*dn&&(s+=qs),{angle:s,distance:r}}function cj(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function To(t){return(t%qs+qs)%qs}function hj(t,e,n,i){const r=To(t),s=To(e),o=To(n),l=To(s-r),u=To(o-r),h=To(r-s),d=To(r-o);return r===s||r===o||i||l>u&&h<d}function Di(t,e,n){return Math.max(e,Math.min(n,t))}function dj(t){return Di(t,-32768,32767)}function il(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function jw(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const xy=(t,e,n,i)=>jw(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),fj=(t,e,n)=>jw(t,n,i=>t[i][e]>=n);function pj(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const MC=["push","pop","shift","splice","unshift"];function mj(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),MC.forEach(n=>{const i="_onData"+Bw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function LT(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(MC.forEach(s=>{delete t[s]}),delete t._chartjs)}function NC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const DC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function FC(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,DC.call(window,()=>{i=!1,t.apply(e,n)}))}}function gj(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Uw=t=>t==="start"?"left":t==="end"?"right":"center",on=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_j=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Dd=t=>t===0||t===1,OT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*qs/n)),MT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*qs/n)+1,yc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ni)+1,easeOutSine:t=>Math.sin(t*Ni),easeInOutSine:t=>-.5*(Math.cos(dn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dd(t)?t:OT(t,.075,.3),easeOutElastic:t=>Dd(t)?t:MT(t,.075,.3),easeInOutElastic(t){return Dd(t)?t:t<.5?.5*OT(t*2,.1125,.45):.5+.5*MT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-yc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?yc.easeInBounce(t*2)*.5:yc.easeOutBounce(t*2-1)*.5+.5};function VC(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function NT(t){return VC(t)?t:new Jc(t)}function kg(t){return VC(t)?t:new Jc(t).saturate(.5).darken(.1).hexString()}const yj=["x","y","borderWidth","radius","tension"],vj=["color","borderColor","backgroundColor"];function wj(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vj},numbers:{type:"number",properties:yj}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xj(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const DT=new Map;function Ej(t,e){e=e||{};const n=t+JSON.stringify(e);let i=DT.get(n);return i||(i=new Intl.NumberFormat(t,e),DT.set(n,i)),i}function zC(t,e,n){return Ej(e,n).format(t)}const Tj={values(t){return Ft(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=Sj(t,n)}const o=OC(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),zC(t,i,u)}};function Sj(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var BC={formatters:Tj};function bj(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ea=Object.create(null),Ey=Object.create(null);function vc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Ig(t,e,n){return typeof e=="string"?eh(vc(t,e),n):eh(vc(t,""),e)}class kj{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>kg(r.backgroundColor),this.hoverBorderColor=(i,r)=>kg(r.borderColor),this.hoverColor=(i,r)=>kg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ig(this,e,n)}get(e){return vc(this,e)}describe(e,n){return Ig(Ey,e,n)}override(e,n){return Ig(ea,e,n)}route(e,n,i,r){const s=vc(this,e),o=vc(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=o[r];return Ke(u)?Object.assign({},h,u):Ye(u,h)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var kt=new kj({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wj,xj,bj]);function Ij(t){return!t||it(t.size)||it(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function FT(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function So(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function VT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function zT(t,e,n,i){jC(t,e,n,i,null)}function jC(t,e,n,i,r){let s,o,l,u,h,d,m,g;const y=e.pointStyle,x=e.rotation,E=e.radius;let b=(x||0)*ij;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),y){default:r?t.ellipse(n,i,r/2,E,0,0,qs):t.arc(n,i,E,0,qs),t.closePath();break;case"triangle":d=r?r/2:E,t.moveTo(n+Math.sin(b)*d,i-Math.cos(b)*E),b+=CT,t.lineTo(n+Math.sin(b)*d,i-Math.cos(b)*E),b+=CT,t.lineTo(n+Math.sin(b)*d,i-Math.cos(b)*E),t.closePath();break;case"rectRounded":h=E*.516,u=E-h,o=Math.cos(b+Eo)*u,m=Math.cos(b+Eo)*(r?r/2-h:u),l=Math.sin(b+Eo)*u,g=Math.sin(b+Eo)*(r?r/2-h:u),t.arc(n-m,i-l,h,b-dn,b-Ni),t.arc(n+g,i-o,h,b-Ni,b),t.arc(n+m,i+l,h,b,b+Ni),t.arc(n-g,i+o,h,b+Ni,b+dn),t.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*E,d=r?r/2:u,t.rect(n-d,i-u,2*d,2*u);break}b+=Eo;case"rectRot":m=Math.cos(b)*(r?r/2:E),o=Math.cos(b)*E,l=Math.sin(b)*E,g=Math.sin(b)*(r?r/2:E),t.moveTo(n-m,i-l),t.lineTo(n+g,i-o),t.lineTo(n+m,i+l),t.lineTo(n-g,i+o),t.closePath();break;case"crossRot":b+=Eo;case"cross":m=Math.cos(b)*(r?r/2:E),o=Math.cos(b)*E,l=Math.sin(b)*E,g=Math.sin(b)*(r?r/2:E),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o);break;case"star":m=Math.cos(b)*(r?r/2:E),o=Math.cos(b)*E,l=Math.sin(b)*E,g=Math.sin(b)*(r?r/2:E),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o),b+=Eo,m=Math.cos(b)*(r?r/2:E),o=Math.cos(b)*E,l=Math.sin(b)*E,g=Math.sin(b)*(r?r/2:E),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+g,i-o),t.lineTo(n-g,i+o);break;case"line":o=r?r/2:Math.cos(b)*E,l=Math.sin(b)*E,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:E),i+Math.sin(b)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function UC(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Hw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $w(t){t.restore()}function Pj(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),it(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Cj(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,d=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(l,d),t.stroke()}}function Aj(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function nh(t,e,n,i,r,s={}){const o=Ft(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,Pj(t,s),u=0;u<o.length;++u)h=o[u],s.backdrop&&Aj(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),it(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,i,s.maxWidth)),t.fillText(h,n,i,s.maxWidth),Cj(t,n,i,h,s),i+=Number(r.lineHeight);t.restore()}function bp(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*dn,dn,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,dn,Ni,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ni,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ni,!0),t.lineTo(n+o.topLeft,i)}const Rj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Oj(t,e){const n=(""+t).match(Rj);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Mj=t=>+t||0;function HC(t,e){const n={},i=Ke(e),r=i?Object.keys(e):e,s=Ke(t)?i?o=>Ye(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=Mj(s(o));return n}function $C(t){return HC(t,{top:"y",right:"x",bottom:"y",left:"x"})}function pl(t){return HC(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ei(t){const e=$C(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hn(t,e){t=t||{},e=e||kt.font;let n=Ye(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ye(t.style,e.style);i&&!(""+i).match(Lj)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ye(t.family,e.family),lineHeight:Oj(Ye(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ye(t.weight,e.weight),string:""};return r.string=Ij(r),r}function Fd(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function Nj(t,e,n){const{min:i,max:r}=t,s=Y3(e,(r-i)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Wl(t,e){return Object.assign(Object.create(t),e)}function Ww(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=GC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>Ww([l,...t],e,s,i)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return qC(l,u,()=>Hj(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return jT(l).includes(u)},ownKeys(l){return jT(l)},set(l,u,h){const d=l._storage||(l._storage=r());return l[u]=d[u]=h,delete l._keys,!0}})}function Ml(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:WC(t,i),setContext:s=>Ml(t,s,n,i),override:s=>Ml(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return qC(s,o,()=>Fj(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function WC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:eo(n)?n:()=>n,isIndexable:eo(i)?i:()=>i}}const Dj=(t,e)=>t?t+Bw(e):e,qw=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Fj(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let l=i[e];return eo(l)&&o.isScriptable(e)&&(l=Vj(e,l,t,n)),Ft(l)&&l.length&&(l=zj(e,l,t,o.isIndexable)),qw(e,l)&&(l=Ml(l,r,s&&s[e],o)),l}function Vj(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,o||i);return l.delete(t),qw(t,u)&&(u=Kw(r._scopes,r,t,u)),u}function zj(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Ke(e[0])){const u=e,h=r._scopes.filter(d=>d!==u);e=[];for(const d of u){const m=Kw(h,r,t,d);e.push(Ml(m,s,o&&o[t],l))}}return e}function KC(t,e,n){return eo(t)?t(e,n):t}const Bj=(t,e)=>t===!0?e:typeof t=="string"?Ol(e,t):void 0;function jj(t,e,n,i,r){for(const s of e){const o=Bj(n,s);if(o){t.add(o);const l=KC(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Kw(t,e,n,i){const r=e._rootScopes,s=KC(e._fallback,n,i),o=[...t,...r],l=new Set;l.add(i);let u=BT(l,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=BT(l,o,s,u,i),u===null)?!1:Ww(Array.from(l),[""],r,s,()=>Uj(e,n,i))}function BT(t,e,n,i,r){for(;n;)n=jj(t,e,n,i,r);return n}function Uj(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ft(r)&&Ke(n)?n:r||{}}function Hj(t,e,n,i){let r;for(const s of e)if(r=GC(Dj(s,t),n),typeof r<"u")return qw(t,r)?Kw(n,i,t,r):r}function GC(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function jT(t){let e=t._keys;return e||(e=t._keys=$j(t._scopes)),e}function $j(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Gw(){return typeof window<"u"&&typeof document<"u"}function Zw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kp(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const vm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Wj(t,e){return vm(t).getPropertyValue(e)}const qj=["top","right","bottom","left"];function jo(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=qj[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Kj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Gj(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,l,u;if(Kj(r,s,t.target))l=r,u=s;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,o=!0}return{x:l,y:u,box:o}}function Ao(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=vm(n),s=r.boxSizing==="border-box",o=jo(r,"padding"),l=jo(r,"border","width"),{x:u,y:h,box:d}=Gj(t,n),m=o.left+(d&&l.left),g=o.top+(d&&l.top);let{width:y,height:x}=e;return s&&(y-=o.width+l.width,x-=o.height+l.height),{x:Math.round((u-m)/y*n.width/i),y:Math.round((h-g)/x*n.height/i)}}function Zj(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Zw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),l=vm(s),u=jo(l,"border","width"),h=jo(l,"padding");e=o.width-h.width-u.width,n=o.height-h.height-u.height,i=kp(l.maxWidth,s,"clientWidth"),r=kp(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Tp,maxHeight:r||Tp}}const Vd=t=>Math.round(t*10)/10;function Qj(t,e,n,i){const r=vm(t),s=jo(r,"margin"),o=kp(r.maxWidth,t,"clientWidth")||Tp,l=kp(r.maxHeight,t,"clientHeight")||Tp,u=Zj(t,e,n);let{width:h,height:d}=u;if(r.boxSizing==="content-box"){const g=jo(r,"border","width"),y=jo(r,"padding");h-=y.width+g.width,d-=y.height+g.height}return h=Math.max(0,h-s.width),d=Math.max(0,i?h/i:d-s.height),h=Vd(Math.min(h,o,u.maxWidth)),d=Vd(Math.min(d,l,u.maxHeight)),h&&!d&&(d=Vd(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&d>u.height&&(d=u.height,h=Vd(Math.floor(d*i))),{width:h,height:d}}function UT(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Yj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Gw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function HT(t,e){const n=Wj(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Xj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Jj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ml(t,e,n){return t?Xj(e,n):Jj()}function ZC(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function QC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class eU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=DC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Or=new eU;const $T="transparent",tU={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=NT(t||$T),r=i.valid&&NT(e||$T);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nU{constructor(e,n,i,r){const s=n[i];r=Fd([e.to,r,s,e.from]);const o=Fd([e.from,s,r]);this._active=!0,this._fn=e.fn||tU[e.type||typeof o],this._easing=yc[e.easing]||yc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Fd([e.to,n,r,e.from]),this._from=Fd([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class YC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ke(e))return;const n=Object.keys(kt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ke(s))return;const o={};for(const l of n)o[l]=s[l];(Ft(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,r=rU(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&iU(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[h];let m=s[h];const g=i.get(h);if(m)if(g&&m.active()){m.update(g,d,l);continue}else m.cancel();if(!g||!g.duration){e[h]=d;continue}s[h]=m=new nU(g,e,h,d),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Or.add(this._chart,i),!0}}function iU(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function rU(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function WT(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function sU(t,e,n){if(n===!1)return!1;const i=WT(t,n),r=WT(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oU(t){let e,n,i,r;return Ke(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function XC(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function qT(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,l,u,h;if(e===null)return;let d=!1;for(o=0,l=r.length;o<l;++o){if(u=+r[o],u===n){if(d=!0,i.all)continue;break}h=t.values[u],xi(h)&&(s||e===0||Ks(e)===Ks(h))&&(e+=h)}return!d&&!i.all?0:e}function aU(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,h,d;for(u=0,h=o.length;u<h;++u)d=o[u],l[u]={[r]:d,[s]:t[d]};return l}function Pg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function lU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uU(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function cU(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function KT(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function GT(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=i,u=s.axis,h=o.axis,d=lU(s,o,i),m=e.length;let g;for(let y=0;y<m;++y){const x=e[y],{[u]:E,[h]:b}=x,S=x._stacks||(x._stacks={});g=S[h]=cU(r,d,E),g[l]=b,g._top=KT(g,o,!0,i.type),g._bottom=KT(g,o,!1,i.type);const k=g._visualValues||(g._visualValues={});k[l]=b}}function Cg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function hU(t,e){return Wl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dU(t,e,n){return Wl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Du(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Ag=t=>t==="reset"||t==="none",ZT=(t,e)=>e?t:Object.assign({},t),fU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:XC(n,!0),values:null};class wc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Du(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(m,g,y,x)=>m==="x"?g:m==="r"?x:y,s=n.xAxisID=Ye(i.xAxisID,Cg(e,"x")),o=n.yAxisID=Ye(i.yAxisID,Cg(e,"y")),l=n.rAxisID=Ye(i.rAxisID,Cg(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,s,o,l),d=n.vAxisID=r(u,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&LT(this._data,this),e._stacked&&Du(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ke(n)){const r=this._cachedMeta;this._data=aU(n,r)}else if(i!==n){if(i){LT(i,this);const r=this._cachedMeta;Du(r),r._parsed=[]}n&&Object.isExtensible(n)&&mj(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Pg(n.vScale,n),n.stack!==i.stack&&(r=!0,Du(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(GT(this,n._parsed),n._stacked=Pg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],d,m,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{Ft(r[e])?g=this.parseArrayData(i,r,e,n):Ke(r[e])?g=this.parseObjectData(i,r,e,n):g=this.parsePrimitiveData(i,r,e,n);const y=()=>m[l]===null||h&&m[l]<h[l];for(d=0;d<n;++d)i._parsed[d+e]=m=g[d],u&&(y()&&(u=!1),h=m);i._sorted=u}o&&GT(this,g)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,h=s.getLabels(),d=s===o,m=new Array(r);let g,y,x;for(g=0,y=r;g<y;++g)x=g+i,m[g]={[l]:d||s.parse(h[x],x),[u]:o.parse(n[x],x)};return m}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,l=new Array(r);let u,h,d,m;for(u=0,h=r;u<h;++u)d=u+i,m=n[d],l[u]={x:s.parse(m[0],d),y:o.parse(m[1],d)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let d,m,g,y;for(d=0,m=r;d<m;++d)g=d+i,y=n[g],h[d]={x:s.parse(Ol(y,l),g),y:o.parse(Ol(y,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],l={keys:XC(r,!0),values:n._stacks[e.axis]._visualValues};return qT(l,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,o=qT(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,l=this._getOtherScale(e),u=fU(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:m}=uU(l);let g,y;function x(){y=r[g];const E=y[l.axis];return!xi(y[e.axis])||d>E||m<E}for(g=0;g<o&&!(!x()&&(this.updateRangeFromParsed(h,e,y,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(h,e,y,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],xi(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=oU(Ye(this.options.clip,sU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||r.length-l,h=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,l,u),d=l;d<l+u;++d){const m=r[d];m.hidden||(m.active&&h?o.push(m):m.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=dU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=hU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,l=s[o],u=this.enableOptionSharing&&th(i);if(l)return ZT(l,u);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),d),y=Object.keys(kt.elements[e]),x=()=>this.getContext(i,r,n),E=h.resolveNamedOptions(g,y,x,m);return E.$shared&&(E.$shared=u,s[o]=Object.freeze(ZT(E,u))),E}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let u;if(r.options.animation!==!1){const d=this.chart.config,m=d.datasetAnimationScopeKeys(this._type,n),g=d.getOptionScopes(this.getDataset(),m);u=d.createResolver(g,this.getContext(e,i,n))}const h=new YC(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ag(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Ag(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Ag(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=o;l--)h[l]=h[l-n]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Du(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$e(wc,"defaults",{}),$e(wc,"datasetElementType",null),$e(wc,"dataElementType",null);function pU(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=NC(i.sort((r,s)=>r-s))}return t._cache.$bar}function mU(t){const e=t.iScale,n=pU(e,t.type);let i=e._length,r,s,o,l;const u=()=>{o===32767||o===-32768||(th(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),u();for(l=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),u();return i}function gU(t,e,n,i){const r=n.barThickness;let s,o;return it(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function _U(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-o);const h=s-(s-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/i,ratio:n.barPercentage,start:h}}function yU(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),l=Math.max(r,s);let u=o,h=l;Math.abs(o)>Math.abs(l)&&(u=l,h=o),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:s,min:o,max:l}}function JC(t,e,n,i){return Ft(t)?yU(t,e,n,i):e[n.axis]=n.parse(t,i),e}function QT(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),l=r===s,u=[];let h,d,m,g;for(h=n,d=n+i;h<d;++h)g=e[h],m={},m[r.axis]=l||r.parse(o[h],h),u.push(JC(g,m,s,h));return u}function Rg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function vU(t,e,n){return t!==0?Ks(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function wU(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function xU(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:h,bottom:d}=wU(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=d:(s[YT(d,o,l,u)]=!0,r=h)),s[YT(r,o,l,u)]=!0,t.borderSkipped=s}function YT(t,e,n,i){return i?(t=EU(t,e,n),t=XT(t,n,e)):t=XT(t,e,n),t}function EU(t,e,n){return t===e?n:t===n?e:t}function XT(t,e,n){return t==="start"?e:t==="end"?n:t}function TU(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class vf extends wc{parsePrimitiveData(e,n,i,r){return QT(e,n,i,r)}parseArrayData(e,n,i,r){return QT(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=s.axis==="x"?l:u,d=o.axis==="x"?l:u,m=[];let g,y,x,E;for(g=i,y=i+r;g<y;++g)E=n[g],x={},x[s.axis]=s.parse(Ol(E,h),g),m.push(JC(Ol(E,d),x,o,g));return m}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,l=Rg(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),h=l.isHorizontal(),d=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,r);for(let y=n;y<n+i;y++){const x=this.getParsed(y),E=s||it(x[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),b=this._calculateBarIndexPixels(y,d),S=(x._stacks||{})[l.axis],k={horizontal:h,base:E.base,enableBorderRadius:!S||Rg(x._custom)||o===S._top||o===S._bottom,x:h?E.head:b.center,y:h?b.center:E.head,height:h?b.size:Math.abs(E.size),width:h?Math.abs(E.size):b.size};g&&(k.options=m||this.resolveDataElementOptions(y,e[y].active?"active":r));const I=k.options||e[y].options;xU(k,I,S,o),TU(k,I,d.ratio),this.updateElement(e[y],y,k,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],h=d=>{const m=d._parsed.find(y=>y[i.axis]===u),g=m&&m[d.vScale.axis];if(it(g)||isNaN(g))return!0};for(const d of r)if(!(n!==void 0&&h(d))&&((s===!1||o.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=e.barThickness;return{min:l||mU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,l=s||0,u=this.getParsed(e),h=u._custom,d=Rg(h);let m=u[n.axis],g=0,y=i?this.applyStack(n,u,i):m,x,E;y!==m&&(g=y-m,y=m),d&&(m=h.barStart,y=h.barEnd-h.barStart,m!==0&&Ks(m)!==Ks(h.barEnd)&&(g=0),g+=m);const b=!it(s)&&!d?s:g;let S=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(g+y):x=S,E=x-S,Math.abs(E)<o){E=vU(E,n,l)*o,m===l&&(S-=E/2);const k=n.getPixelForDecimal(0),I=n.getPixelForDecimal(1),B=Math.min(k,I),$=Math.max(k,I);S=Math.max(Math.min(S,$),B),x=S+E,i&&!d&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(x)-n.getValueForPixel(S))}if(S===n.getPixelForValue(l)){const k=Ks(E)*n.getLineWidthForValue(l)/2;S+=k,E-=k}return{size:E,base:S,head:x,center:x+E/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Ye(r.maxBarThickness,1/0);let l,u;if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?_U(e,n,r,h):gU(e,n,r,h),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*m+d.chunk/2,u=Math.min(o,d.chunk*d.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}$e(vf,"id","bar"),$e(vf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$e(vf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qw{constructor(e){$e(this,"options");this.options=e||{}}static override(e){Object.assign(Qw.prototype,e)}init(){}formats(){return bo()}parse(){return bo()}format(){return bo()}add(){return bo()}diff(){return bo()}startOf(){return bo()}endOf(){return bo()}}var SU={_date:Qw};function bU(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,l=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const h=l._reversePixels?fj:xy;if(i){if(r._sharedOptions){const d=s[0],m=typeof d.getRange=="function"&&d.getRange(e);if(m){const g=h(s,e,n-m),y=h(s,e,n+m);return{lo:g.lo,hi:y.hi}}}}else{const d=h(s,e,n);if(u){const{vScale:m}=r._cachedMeta,{_parsed:g}=t,y=g.slice(0,d.lo+1).reverse().findIndex(E=>!it(E[m.axis]));d.lo-=Math.max(0,y);const x=g.slice(d.hi).findIndex(E=>!it(E[m.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:s.length-1}}function wm(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=s.length;l<u;++l){const{index:h,data:d}=s[l],{lo:m,hi:g}=bU(s[l],e,o,r);for(let y=m;y<=g;++y){const x=d[y];x.skip||i(x,h,y)}}}function kU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Lg(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||wm(t,n,e,function(l,u,h){!r&&!UC(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:h})},!0),s}function IU(t,e,n,i){let r=[];function s(o,l,u){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:m}=uj(o,{x:e.x,y:e.y});hj(m,h,d)&&r.push({element:o,datasetIndex:l,index:u})}return wm(t,n,e,s),r}function PU(t,e,n,i,r,s){let o=[];const l=kU(n);let u=Number.POSITIVE_INFINITY;function h(d,m,g){const y=d.inRange(e.x,e.y,r);if(i&&!y)return;const x=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(x))&&!y)return;const b=l(e,x);b<u?(o=[{element:d,datasetIndex:m,index:g}],u=b):b===u&&o.push({element:d,datasetIndex:m,index:g})}return wm(t,n,e,h),o}function Og(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?IU(t,e,n,r):PU(t,e,n,i,r,s)}function JT(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return wm(t,n,e,(u,h,d)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:h,index:d}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var CU={modes:{index(t,e,n,i){const r=Ao(e,t),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Lg(t,r,s,i,o):Og(t,r,s,!1,i,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,m=h.data[d];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:d})}),u):[]},dataset(t,e,n,i){const r=Ao(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Lg(t,r,s,i,o):Og(t,r,s,!1,i,o);if(l.length>0){const u=l[0].datasetIndex,h=t.getDatasetMeta(u).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:u,index:d})}return l},point(t,e,n,i){const r=Ao(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Lg(t,r,s,i,o)},nearest(t,e,n,i){const r=Ao(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Og(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Ao(e,t);return JT(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Ao(e,t);return JT(t,r,"y",n.intersect,i)}}};const eA=["left","top","right","bottom"];function Fu(t,e){return t.filter(n=>n.pos===e)}function eS(t,e){return t.filter(n=>eA.indexOf(n.pos)===-1&&n.box.axis===e)}function Vu(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function AU(t){const e=[];let n,i,r,s,o,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return e}function RU(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!eA.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function LU(t,e){const n=RU(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];const{fullSize:u}=l.box,h=n[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=d?d*r:u&&e.availableHeight)}return n}function OU(t){const e=AU(t),n=Vu(e.filter(h=>h.box.fullSize),!0),i=Vu(Fu(e,"left"),!0),r=Vu(Fu(e,"right")),s=Vu(Fu(e,"top"),!0),o=Vu(Fu(e,"bottom")),l=eS(e,"x"),u=eS(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(l),chartArea:Fu(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(l)}}function tS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function tA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function MU(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Ke(r)){n.size&&(t[r]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[r]+=n.size}s.getPadding&&tA(o,s.getPadding());const l=Math.max(0,e.outerWidth-tS(o,t,"left","right")),u=Math.max(0,e.outerHeight-tS(o,t,"top","bottom")),h=l!==t.w,d=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:h,other:d}:{same:d,other:h}}function NU(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function DU(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function tc(t,e,n,i){const r=[];let s,o,l,u,h,d;for(s=0,o=t.length,h=0;s<o;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,DU(l.horizontal,e));const{same:m,other:g}=MU(e,n,l,i);h|=m&&r.length,d=d||g,u.fullSize||r.push(l)}return h&&tc(r,e,n,i)||d}function zd(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function nS(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const l of t){const u=l.box,h=i[l.stack]||{placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const m=e.w*d,g=h.size||u.height;th(h.start)&&(o=h.start),u.fullSize?zd(u,r.left,o,n.outerWidth-r.right-r.left,g):zd(u,e.left+h.placed,o,m,g),h.start=o,h.placed+=m,o=u.bottom}else{const m=e.h*d,g=h.size||u.width;th(h.start)&&(s=h.start),u.fullSize?zd(u,s,r.top,g,n.outerHeight-r.bottom-r.top):zd(u,s,e.top+h.placed,g,m),h.start=s,h.placed+=m,s=u.right}}e.x=s,e.y=o}var _i={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Ei(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=OU(t.boxes),u=l.vertical,h=l.horizontal;Qe(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const d=u.reduce((E,b)=>b.box.options&&b.box.options.display===!1?E:E+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),g=Object.assign({},r);tA(g,Ei(i));const y=Object.assign({maxPadding:g,w:s,h:o,x:r.left,y:r.top},r),x=LU(u.concat(h),m);tc(l.fullSize,y,m,x),tc(u,y,m,x),tc(h,y,m,x)&&tc(u,y,m,x),NU(y),nS(l.leftAndTop,y,m,x),y.x+=y.w,y.y+=y.h,nS(l.rightAndBottom,y,m,x),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Qe(l.chartArea,E=>{const b=E.box;Object.assign(b,t.chartArea),b.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class nA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class FU extends nA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wf="$chartjs",VU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iS=t=>t===null||t==="";function zU(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[wf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",iS(r)){const s=HT(t,"width");s!==void 0&&(t.width=s)}if(iS(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=HT(t,"height");s!==void 0&&(t.height=s)}return t}const iA=Yj?{passive:!0}:!1;function BU(t,e,n){t&&t.addEventListener(e,n,iA)}function jU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,iA)}function UU(t,e){const n=VU[t.type]||t.type,{x:i,y:r}=Ao(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ip(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function HU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ip(l.addedNodes,i),o=o&&!Ip(l.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function $U(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ip(l.removedNodes,i),o=o&&!Ip(l.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const ih=new Map;let rS=0;function rA(){const t=window.devicePixelRatio;t!==rS&&(rS=t,ih.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function WU(t,e){ih.size||window.addEventListener("resize",rA),ih.set(t,e)}function qU(t){ih.delete(t),ih.size||window.removeEventListener("resize",rA)}function KU(t,e,n){const i=t.canvas,r=i&&Zw(i);if(!r)return;const s=FC((l,u)=>{const h=r.clientWidth;n(l,u),h<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,d=u.contentRect.height;h===0&&d===0||s(h,d)});return o.observe(r),WU(t,s),o}function Mg(t,e,n){n&&n.disconnect(),e==="resize"&&qU(t)}function GU(t,e,n){const i=t.canvas,r=FC(s=>{t.ctx!==null&&n(UU(s,t))},t);return BU(i,e,r),r}class ZU extends nA{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(zU(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[wf])return!1;const i=n[wf].initial;["height","width"].forEach(s=>{const o=i[s];it(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[wf],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:HU,detach:$U,resize:KU}[n]||GU;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Mg,detach:Mg,resize:Mg}[n]||jU)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return Qj(e,n,i,r)}isAttached(e){const n=e&&Zw(e);return!!(n&&n.isConnected)}}function QU(t){return!Gw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?FU:ZU}var Zd;let ql=(Zd=class{constructor(){$e(this,"x");$e(this,"y");$e(this,"active",!1);$e(this,"options");$e(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Sp(this.x)&&Sp(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},$e(Zd,"defaults",{}),$e(Zd,"defaultRoutes"),Zd);function YU(t,e){const n=t.options.ticks,i=XU(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?e6(e):[],o=s.length,l=s[0],u=s[o-1],h=[];if(o>r)return t6(e,h,s,o/r),h;const d=JU(s,e,r);if(o>0){let m,g;const y=o>1?Math.round((u-l)/(o-1)):null;for(Bd(e,h,d,it(y)?0:l-y,l),m=0,g=o-1;m<g;m++)Bd(e,h,d,s[m],s[m+1]);return Bd(e,h,d,u,it(y)?e.length:u+y),h}return Bd(e,h,d),h}function XU(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function JU(t,e,n){const i=n6(t),r=e.length/n;if(!i)return Math.max(r,1);const s=rj(i);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function e6(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function t6(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Bd(t,e,n,i,r){const s=Ye(i,0),o=Math.min(Ye(r,t.length),t.length);let l=0,u,h,d;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),d=s;d<0;)l++,d=Math.round(s+l*n);for(h=Math.max(s,0);h<o;h++)h===d&&(e.push(t[h]),l++,d=Math.round(s+l*n))}function n6(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const i6=t=>t==="left"?"right":t==="right"?"left":t,sS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,oS=(t,e)=>Math.min(e||t,t);function aS(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function r6(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(i===1?h=Math.max(u-s,o-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<s-l||u>o+l)))return u}function s6(t,e){Qe(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function zu(t){return t.drawTicks?t.tickLength:0}function lS(t,e){if(!t.display)return 0;const n=hn(t.font,e),i=Ei(t.padding);return(Ft(t.text)?t.text.length:1)*n.lineHeight+i.height}function o6(t,e){return Wl(t,{scale:e,type:"scale"})}function a6(t,e,n){return Wl(t,{tick:n,index:e,type:"tick"})}function l6(t,e,n){let i=Uw(t);return(n&&e!=="right"||!n&&e==="right")&&(i=i6(i)),i}function u6(t,e,n,i){const{top:r,left:s,bottom:o,right:l,chart:u}=t,{chartArea:h,scales:d}=u;let m=0,g,y,x;const E=o-r,b=l-s;if(t.isHorizontal()){if(y=on(i,s,l),Ke(n)){const S=Object.keys(n)[0],k=n[S];x=d[S].getPixelForValue(k)+E-e}else n==="center"?x=(h.bottom+h.top)/2+E-e:x=sS(t,n,e);g=l-s}else{if(Ke(n)){const S=Object.keys(n)[0],k=n[S];y=d[S].getPixelForValue(k)-b+e}else n==="center"?y=(h.left+h.right)/2-b+e:y=sS(t,n,e);x=on(i,o,r),m=n==="left"?-Ni:Ni}return{titleX:y,titleY:x,maxWidth:g,rotation:m}}class Kl extends ql{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Zi(e,Number.POSITIVE_INFINITY),n=Zi(n,Number.NEGATIVE_INFINITY),i=Zi(i,Number.POSITIVE_INFINITY),r=Zi(r,Number.NEGATIVE_INFINITY),{min:Zi(e,i),max:Zi(n,r),minDefined:xi(e),maxDefined:xi(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)o=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Zi(n,Zi(i,n)),max:Zi(i,Zi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ut(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Nj(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?aS(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=YU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ut(this.options.afterUpdate,[this])}beforeSetDimensions(){ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ut(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ut(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ut(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=oS(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,l,u,h;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),m=d.widest.width,g=d.highest.height,y=Di(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/i:y/(i-1),m+6>l&&(l=y/(i-(e.offset?.5:1)),u=this.maxHeight-zu(e.grid)-n.padding-lS(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),o=lj(Math.min(Math.asin(Di((d.highest.height+6)/l,-1,1)),Math.asin(Di(u/h,-1,1))-Math.asin(Di(g/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ut(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=lS(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=zu(s)+u):(e.height=this.maxHeight,e.width=zu(s)+u),i.display&&this.ticks.length){const{first:h,last:d,widest:m,highest:g}=this._getLabelSizes(),y=i.padding*2,x=Do(this.labelRotation),E=Math.cos(x),b=Math.sin(x);if(l){const S=i.mirror?0:b*m.width+E*g.height;e.height=Math.min(this.maxHeight,e.height+S+y)}else{const S=i.mirror?0:E*m.width+b*g.height;e.width=Math.min(this.maxWidth,e.width+S+y)}this._calculatePadding(h,d,b,E)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?h?(g=r*e.width,y=i*n.height):(g=i*e.height,y=r*n.width):s==="start"?y=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,y=n.width/2),this.paddingLeft=Math.max((g-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((y-m+o)*this.width/(this.width-m),0)}else{let d=n.height/2,m=e.height/2;s==="start"?(d=0,m=e.height):s==="end"&&(d=n.height,m=0),this.paddingTop=d+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ut(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)it(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=aS(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(n/oS(n,i));let h=0,d=0,m,g,y,x,E,b,S,k,I,B,$;for(m=0;m<n;m+=u){if(x=e[m].label,E=this._resolveTickFontOptions(m),r.font=b=E.string,S=s[b]=s[b]||{data:{},gc:[]},k=E.lineHeight,I=B=0,!it(x)&&!Ft(x))I=FT(r,S.data,S.gc,I,x),B=k;else if(Ft(x))for(g=0,y=x.length;g<y;++g)$=x[g],!it($)&&!Ft($)&&(I=FT(r,S.data,S.gc,I,$),B+=k);o.push(I),l.push(B),h=Math.max(I,h),d=Math.max(B,d)}s6(s,n);const U=o.indexOf(h),A=l.indexOf(d),P=O=>({width:o[O]||0,height:l[O]||0});return{first:P(0),last:P(n-1),widest:P(U),highest:P(A),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return dj(this._alignToPixels?So(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=a6(this.getContext(),e,i))}return this.$context||(this.$context=o6(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Do(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,u=s.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=zu(s),y=[],x=l.setContext(this.getContext()),E=x.display?x.width:0,b=E/2,S=function(_e){return So(i,_e,E)};let k,I,B,$,U,A,P,O,F,N,z,D;if(o==="top")k=S(this.bottom),A=this.bottom-g,O=k-b,N=S(e.top)+b,D=e.bottom;else if(o==="bottom")k=S(this.top),N=e.top,D=S(e.bottom)-b,A=k+b,O=this.top+g;else if(o==="left")k=S(this.right),U=this.right-g,P=k-b,F=S(e.left)+b,z=e.right;else if(o==="right")k=S(this.left),F=e.left,z=S(e.right)-b,U=k+b,P=this.left+g;else if(n==="x"){if(o==="center")k=S((e.top+e.bottom)/2+.5);else if(Ke(o)){const _e=Object.keys(o)[0],ke=o[_e];k=S(this.chart.scales[_e].getPixelForValue(ke))}N=e.top,D=e.bottom,A=k+b,O=A+g}else if(n==="y"){if(o==="center")k=S((e.left+e.right)/2);else if(Ke(o)){const _e=Object.keys(o)[0],ke=o[_e];k=S(this.chart.scales[_e].getPixelForValue(ke))}U=k-b,P=U-g,F=e.left,z=e.right}const pe=Ye(r.ticks.maxTicksLimit,m),ue=Math.max(1,Math.ceil(m/pe));for(I=0;I<m;I+=ue){const _e=this.getContext(I),ke=s.setContext(_e),X=l.setContext(_e),de=ke.lineWidth,M=ke.color,ce=X.dash||[],me=X.dashOffset,j=ke.tickWidth,xe=ke.tickColor,ve=ke.tickBorderDash||[],oe=ke.tickBorderDashOffset;B=r6(this,I,u),B!==void 0&&($=So(i,B,de),h?U=P=F=z=$:A=O=N=D=$,y.push({tx1:U,ty1:A,tx2:P,ty2:O,x1:F,y1:N,x2:z,y2:D,width:de,color:M,borderDash:ce,borderDashOffset:me,tickWidth:j,tickColor:xe,tickBorderDash:ve,tickBorderDashOffset:oe}))}return this._ticksLength=m,this._borderValue=k,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:d,mirror:m}=s,g=zu(i.grid),y=g+d,x=m?-d:y,E=-Do(this.labelRotation),b=[];let S,k,I,B,$,U,A,P,O,F,N,z,D="middle";if(r==="top")U=this.bottom-x,A=this._getXAxisLabelAlignment();else if(r==="bottom")U=this.top+x,A=this._getXAxisLabelAlignment();else if(r==="left"){const ue=this._getYAxisLabelAlignment(g);A=ue.textAlign,$=ue.x}else if(r==="right"){const ue=this._getYAxisLabelAlignment(g);A=ue.textAlign,$=ue.x}else if(n==="x"){if(r==="center")U=(e.top+e.bottom)/2+y;else if(Ke(r)){const ue=Object.keys(r)[0],_e=r[ue];U=this.chart.scales[ue].getPixelForValue(_e)+y}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")$=(e.left+e.right)/2-y;else if(Ke(r)){const ue=Object.keys(r)[0],_e=r[ue];$=this.chart.scales[ue].getPixelForValue(_e)}A=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?D="top":u==="end"&&(D="bottom"));const pe=this._getLabelSizes();for(S=0,k=l.length;S<k;++S){I=l[S],B=I.label;const ue=s.setContext(this.getContext(S));P=this.getPixelForTick(S)+s.labelOffset,O=this._resolveTickFontOptions(S),F=O.lineHeight,N=Ft(B)?B.length:1;const _e=N/2,ke=ue.color,X=ue.textStrokeColor,de=ue.textStrokeWidth;let M=A;o?($=P,A==="inner"&&(S===k-1?M=this.options.reverse?"left":"right":S===0?M=this.options.reverse?"right":"left":M="center"),r==="top"?h==="near"||E!==0?z=-N*F+F/2:h==="center"?z=-pe.highest.height/2-_e*F+F:z=-pe.highest.height+F/2:h==="near"||E!==0?z=F/2:h==="center"?z=pe.highest.height/2-_e*F:z=pe.highest.height-N*F,m&&(z*=-1),E!==0&&!ue.showLabelBackdrop&&($+=F/2*Math.sin(E))):(U=P,z=(1-N)*F/2);let ce;if(ue.showLabelBackdrop){const me=Ei(ue.backdropPadding),j=pe.heights[S],xe=pe.widths[S];let ve=z-me.top,oe=0-me.left;switch(D){case"middle":ve-=j/2;break;case"bottom":ve-=j;break}switch(A){case"center":oe-=xe/2;break;case"right":oe-=xe;break;case"inner":S===k-1?oe-=xe:S>0&&(oe-=xe/2);break}ce={left:oe,top:ve,width:xe+me.width,height:j+me.height,color:ue.backdropColor}}b.push({label:B,font:O,textOffset:z,options:{rotation:E,color:ke,strokeColor:X,strokeWidth:de,textAlign:M,textBaseline:D,translation:[$,U],backdrop:ce}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Do(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let h,d;return n==="left"?r?(d=this.right+s,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d+=u)):(d=this.right-l,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d-=u)):(d=this.left+l,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,h,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,d,m,g;this.isHorizontal()?(h=So(e,this.left,o)-o/2,d=So(e,this.right,l)+l/2,m=g=u):(m=So(e,this.top,o)-o/2,g=So(e,this.bottom,l)+l/2,h=d=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(h,m),n.lineTo(d,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Hw(i,r);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,h=o.label,d=o.textOffset;nh(i,h,0,d,u,l)}r&&$w(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=hn(i.font),o=Ei(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ke(n)?(u+=o.bottom,Ft(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:h,titleY:d,maxWidth:m,rotation:g}=u6(this,u,n,l);nh(e,i.text,0,0,s,{color:i.color,maxWidth:m,rotation:g,textAlign:l6(l,n,r),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ye(e.grid&&e.grid.z,-1),r=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return hn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jd{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;d6(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,c6(e,o,i),this.override&&kt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in kt[r]&&(delete kt[r][i],this.override&&delete ea[i])}}function c6(t,e,n){const i=eh(Object.create(null),[n?kt.get(n):{},kt.get(e),t.defaults]);kt.set(e,i),t.defaultRoutes&&h6(e,t.defaultRoutes),t.descriptors&&kt.describe(e,t.descriptors)}function h6(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");kt.route(s,r,u,l)})}function d6(t){return"id"in t&&"defaults"in t}class f6{constructor(){this.controllers=new jd(wc,"datasets",!0),this.elements=new jd(ql,"elements"),this.plugins=new jd(Object,"plugins"),this.scales=new jd(Kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Qe(r,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const r=Bw(e);ut(i["before"+r],[],i),n[e](i),ut(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ji=new f6;class p6{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,l=o[i],u=[n,r,s.options];if(ut(l,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ye(i.options&&i.options.plugins,{}),s=m6(i);return r===!1&&!n?[]:_6(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function m6(t){const e={},n=[],i=Object.keys(Ji.plugins.items);for(let s=0;s<i.length;s++)n.push(Ji.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function g6(t,e){return!e&&t===!1?null:t===!0?{}:t}function _6(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const l of e){const u=l.id,h=g6(i[u],r);h!==null&&s.push({plugin:l,options:y6(t.config,{plugin:l,local:n[u]},h,o)})}return s}function y6(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ty(t,e){const n=kt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function v6(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function w6(t,e){return t===e?"_index_":"_value_"}function uS(t){if(t==="x"||t==="y"||t==="r")return t}function x6(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Sy(t,...e){if(uS(t))return t;for(const n of e){const i=n.axis||x6(n.position)||t.length>1&&uS(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function E6(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return cS(t,"x",n[0])||cS(t,"y",n[0])}return{}}function T6(t,e){const n=ea[t.type]||{scales:{}},i=e.scales||{},r=Ty(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!Ke(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Sy(o,l,E6(o,t),kt.scales[l.type]),h=w6(u,r),d=n.scales||{};s[o]=_c(Object.create(null),[{axis:u},l,d[u],d[h]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||Ty(l,e),d=(ea[l]||{}).scales||{};Object.keys(d).forEach(m=>{const g=v6(m,u),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),_c(s[y],[{axis:g},i[y],d[m]])})}),Object.keys(s).forEach(o=>{const l=s[o];_c(l,[kt.scales[l.type],kt.scale])}),s}function sA(t){const e=t.options||(t.options={});e.plugins=Ye(e.plugins,{}),e.scales=T6(t,e)}function oA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S6(t){return t=t||{},t.data=oA(t.data),sA(t),t}const hS=new Map,aA=new Set;function Ud(t,e){let n=hS.get(t);return n||(n=e(),hS.set(t,n),aA.add(n)),n}const Bu=(t,e,n)=>{const i=Ol(e,n);i!==void 0&&t.add(i)};class b6{constructor(e){this._config=S6(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=oA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ud(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ud(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ud(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Ud(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const u=new Set;n.forEach(d=>{e&&(u.add(e),d.forEach(m=>Bu(u,e,m))),d.forEach(m=>Bu(u,r,m)),d.forEach(m=>Bu(u,ea[s]||{},m)),d.forEach(m=>Bu(u,kt,m)),d.forEach(m=>Bu(u,Ey,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),aA.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,ea[n]||{},kt.datasets[n]||{},{type:n},kt,Ey]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=dS(this._resolverCache,e,r);let u=o;if(I6(o,n)){s.$shared=!1,i=eo(i)?i():i;const h=this.createResolver(e,i,l);u=Ml(o,i,h)}for(const h of n)s[h]=u[h];return s}createResolver(e,n,i=[""],r){const{resolver:s}=dS(this._resolverCache,e,i);return Ke(n)?Ml(s,n,void 0,r):s}}function dS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Ww(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const k6=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>eo(t[e]));function I6(t,e){const{isScriptable:n,isIndexable:i}=WC(t);for(const r of e){const s=n(r),o=i(r),l=(o||s)&&t[r];if(s&&(eo(l)||k6(l))||o&&Ft(l))return!0}return!1}var P6="4.4.8";const C6=["top","bottom","left","right","chartArea"];function fS(t,e){return t==="top"||t==="bottom"||C6.indexOf(t)===-1&&e==="x"}function pS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function mS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ut(n&&n.onComplete,[t],e)}function A6(t){const e=t.chart,n=e.options.animation;ut(n&&n.onProgress,[t],e)}function lA(t){return Gw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xf={},gS=t=>{const e=lA(t);return Object.values(xf).filter(n=>n.canvas===e).pop()};function R6(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function L6(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Hd(t,e,n){return t.options.clip?t[n]:e[n]}function O6(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Hd(n,e,"left"),right:Hd(n,e,"right"),top:Hd(i,e,"top"),bottom:Hd(i,e,"bottom")}:e}var _s;let xm=(_s=class{static register(...e){Ji.add(...e),_S()}static unregister(...e){Ji.remove(...e),_S()}constructor(e,n){const i=this.config=new b6(n),r=lA(e),s=gS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QU(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,o.aspectRatio),u=l&&l.canvas,h=u&&u.height,d=u&&u.width;if(this.id=Q3(),this.ctx=l,this.canvas=u,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gj(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],xf[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Or.listen(this,"complete",mS),Or.listen(this,"progress",A6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return it(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():UT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VT(this.canvas,this.ctx),this}stop(){return Or.stop(this),this}resize(e,n){Or.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,UT(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ut(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Qe(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],u=Sy(o,l),h=u==="r",d=u==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),Qe(s,o=>{const l=o.options,u=l.id,h=Sy(u,l),d=Ye(l.type,o.dtype);(l.position===void 0||fS(l.position,h)!==fS(o.dposition))&&(l.position=o.dposition),r[u]=!0;let m=null;if(u in i&&i[u].type===d)m=i[u];else{const g=Ji.getScale(d);m=new g({id:u,type:d,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(l,e)}),Qe(r,(o,l)=>{o||delete i[l]}),Qe(i,o=>{_i.configure(this,o,o.options),_i.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(pS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||Ty(l,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Ji.getController(l),{datasetElementType:h,dataElementType:d}=kt.datasets[l];Object.assign(u,{dataElementType:Ji.getElement(d),datasetElementType:h&&Ji.getElement(h)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:m}=this.getDatasetMeta(h),g=!r&&s.indexOf(m)===-1;m.buildOrUpdateElements(g),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Qe(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pS("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Qe(this.scales,e=>{_i.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!PT(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;R6(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!PT(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_i.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Qe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,eo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Or.has(this)?this.attached&&!Or.running(this)&&Or.start(this):(this.draw(),mS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=O6(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Hw(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&$w(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return UC(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=CU.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Wl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);th(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Or.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),VT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Qe(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!xp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,h)=>u.filter(d=>!h.some(m=>d.datasetIndex===m.datasetIndex&&d.index===m.index)),o=s(n,e),l=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,l=this._getActiveElements(e,r,i,o),u=nj(e),h=L6(e,this._lastEvent,i,u);i&&(this._lastEvent=null,ut(s.onHover,[e,l,this],this),u&&ut(s.onClick,[e,l,this],this));const d=!xp(l,r);return(d||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=h,d}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},$e(_s,"defaults",kt),$e(_s,"instances",xf),$e(_s,"overrides",ea),$e(_s,"registry",Ji),$e(_s,"version",P6),$e(_s,"getChart",gS),_s);function _S(){return Qe(xm.instances,t=>t._plugins.invalidate())}function uA(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,h,d,m;return t.horizontal?(m=o/2,l=Math.min(n,r),u=Math.max(n,r),h=i-m,d=i+m):(m=s/2,l=n-m,u=n+m,h=Math.min(i,r),d=Math.max(i,r)),{left:l,top:h,right:u,bottom:d}}function Rs(t,e,n,i){return t?0:Di(e,n,i)}function M6(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=$C(i);return{t:Rs(r.top,s.top,0,n),r:Rs(r.right,s.right,0,e),b:Rs(r.bottom,s.bottom,0,n),l:Rs(r.left,s.left,0,e)}}function N6(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=pl(r),o=Math.min(e,n),l=t.borderSkipped,u=i||Ke(r);return{topLeft:Rs(!u||l.top||l.left,s.topLeft,0,o),topRight:Rs(!u||l.top||l.right,s.topRight,0,o),bottomLeft:Rs(!u||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Rs(!u||l.bottom||l.right,s.bottomRight,0,o)}}function D6(t){const e=uA(t),n=e.right-e.left,i=e.bottom-e.top,r=M6(t,n/2,i/2),s=N6(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Ng(t,e,n,i){const r=e===null,s=n===null,l=t&&!(r&&s)&&uA(t,i);return l&&(r||il(e,l.left,l.right))&&(s||il(n,l.top,l.bottom))}function F6(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function V6(t,e){t.rect(e.x,e.y,e.w,e.h)}function Dg(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Ef extends ql{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=D6(this),l=F6(o.radius)?bp:V6;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,Dg(o,n,s)),e.clip(),l(e,Dg(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Dg(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Ng(this,e,n,i)}inXRange(e,n){return Ng(this,e,null,n)}inYRange(e,n){return Ng(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$e(Ef,"id","bar"),$e(Ef,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$e(Ef,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const yS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},z6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class vS extends ql{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ut(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=hn(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=yS(i,s);let h,d;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,s,l,u)+10):(d=this.maxHeight,h=this._fitCols(o,r,l,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],d=r+l;let m=e;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-d;return this.legendItems.forEach((x,E)=>{const b=i+n/2+s.measureText(x.text).width;(E===0||h[h.length-1]+b+2*l>o)&&(m+=d,h[h.length-(E>0?0:1)]=0,y+=d,g++),u[E]={left:0,top:y,row:g,width:b,height:r},h[h.length-1]+=b+l}),m}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-e;let m=l,g=0,y=0,x=0,E=0;return this.legendItems.forEach((b,S)=>{const{itemWidth:k,itemHeight:I}=B6(i,n,s,b,r);S>0&&y+I+2*l>d&&(m+=g+l,h.push({width:g,height:y}),x+=g+l,E++,g=y=0),u[S]={left:x,top:y,col:E,width:k,height:I},g=Math.max(g,k),y+=I+l}),m+=g,h.push({width:g,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ml(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=on(i,this.left+r,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=on(i,this.left+r,this.right-this.lineWidths[l])),h.top+=this.top+e+r,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+r}else{let l=0,u=on(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=on(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Hw(e,this),this._draw(),$w(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,l=kt.color,u=ml(e.rtl,this.left,this.width),h=hn(o.font),{padding:d}=o,m=h.size,g=m/2;let y;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:x,boxHeight:E,itemHeight:b}=yS(o,m),S=function(U,A,P){if(isNaN(x)||x<=0||isNaN(E)||E<0)return;r.save();const O=Ye(P.lineWidth,1);if(r.fillStyle=Ye(P.fillStyle,l),r.lineCap=Ye(P.lineCap,"butt"),r.lineDashOffset=Ye(P.lineDashOffset,0),r.lineJoin=Ye(P.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Ye(P.strokeStyle,l),r.setLineDash(Ye(P.lineDash,[])),o.usePointStyle){const F={radius:E*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:O},N=u.xPlus(U,x/2),z=A+g;jC(r,F,N,z,o.pointStyleWidth&&x)}else{const F=A+Math.max((m-E)/2,0),N=u.leftForLtr(U,x),z=pl(P.borderRadius);r.beginPath(),Object.values(z).some(D=>D!==0)?bp(r,{x:N,y:F,w:x,h:E,radius:z}):r.rect(N,F,x,E),r.fill(),O!==0&&r.stroke()}r.restore()},k=function(U,A,P){nh(r,P.text,U,A+b/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},I=this.isHorizontal(),B=this._computeTitleHeight();I?y={x:on(s,this.left+d,this.right-i[0]),y:this.top+d+B,line:0}:y={x:this.left+d,y:on(s,this.top+B+d,this.bottom-n[0].height),line:0},ZC(this.ctx,e.textDirection);const $=b+d;this.legendItems.forEach((U,A)=>{r.strokeStyle=U.fontColor,r.fillStyle=U.fontColor;const P=r.measureText(U.text).width,O=u.textAlign(U.textAlign||(U.textAlign=o.textAlign)),F=x+g+P;let N=y.x,z=y.y;u.setWidth(this.width),I?A>0&&N+F+d>this.right&&(z=y.y+=$,y.line++,N=y.x=on(s,this.left+d,this.right-i[y.line])):A>0&&z+$>this.bottom&&(N=y.x=N+n[y.line].width+d,y.line++,z=y.y=on(s,this.top+B+d,this.bottom-n[y.line].height));const D=u.x(N);if(S(D,z,U),N=_j(O,N+x+g,I?N+F:this.right,e.rtl),k(u.x(N),z,U),I)y.x+=F+d;else if(typeof U.text!="string"){const pe=h.lineHeight;y.y+=cA(U,pe)+d}else y.y+=$}),QC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=hn(n.font),r=Ei(n.padding);if(!n.display)return;const s=ml(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=i.size/2,h=r.top+u;let d,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+h,m=on(e.align,m,this.right-g);else{const x=this.columnSizes.reduce((E,b)=>Math.max(E,b.height),0);d=h+on(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const y=on(l,m,m+g);o.textAlign=s.textAlign(Uw(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,nh(o,n.text,y,d,i)}_computeTitleHeight(){const e=this.options.title,n=hn(e.font),i=Ei(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(il(e,this.left,this.right)&&il(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],il(e,r.left,r.left+r.width)&&il(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!H6(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=z6(r,i);r&&!s&&ut(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ut(n.onHover,[e,i,this],this)}else i&&ut(n.onClick,[e,i,this],this)}}function B6(t,e,n,i,r){const s=j6(i,t,e,n),o=U6(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function j6(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function U6(t,e,n){let i=t;return typeof e.text!="string"&&(i=cA(e,n)),i}function cA(t,e){const n=t.text?t.text.length:0;return e*n}function H6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var $6={id:"legend",_element:vS,start(t,e,n){const i=t.legend=new vS({ctx:t.ctx,options:n,chart:t});_i.configure(t,i,n),_i.addBox(t,i)},stop(t){_i.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;_i.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),d=Ei(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class hA extends ql{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ft(i.text)?i.text.length:1;this._padding=Ei(i.padding);const s=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,l=o.align;let u=0,h,d,m;return this.isHorizontal()?(d=on(l,i,s),m=n+e,h=s-i):(o.position==="left"?(d=i+e,m=on(l,r,n),u=dn*-.5):(d=s-e,m=on(l,n,r),u=dn*.5),h=r-n),{titleX:d,titleY:m,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=hn(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(s);nh(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Uw(n.align),textBaseline:"middle",translation:[o,l]})}}function W6(t,e){const n=new hA({ctx:t.ctx,options:e,chart:t});_i.configure(t,n,e),_i.addBox(t,n),t.titleBlock=n}var q6={id:"title",_element:hA,start(t,e,n){W6(t,n)},stop(t){const e=t.titleBlock;_i.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;_i.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),d=cj(e,h);d<r&&(r=d,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Yi(t,e){return e&&(Ft(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Mr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function K6(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function wS(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:l}=e,u=hn(e.bodyFont),h=hn(e.titleFont),d=hn(e.footerFont),m=s.length,g=r.length,y=i.length,x=Ei(e.padding);let E=x.height,b=0,S=i.reduce((B,$)=>B+$.before.length+$.lines.length+$.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,m&&(E+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),S){const B=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;E+=y*B+(S-y)*u.lineHeight+(S-1)*e.bodySpacing}g&&(E+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let k=0;const I=function(B){b=Math.max(b,n.measureText(B).width+k)};return n.save(),n.font=h.string,Qe(t.title,I),n.font=u.string,Qe(t.beforeBody.concat(t.afterBody),I),k=e.displayColors?o+2+e.boxPadding:0,Qe(i,B=>{Qe(B.before,I),Qe(B.lines,I),Qe(B.after,I)}),k=0,n.font=d.string,Qe(t.footer,I),n.restore(),b+=x.width,{width:b,height:E}}function G6(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Z6(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function Q6(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:l,right:u}}=t;let h="center";return i==="center"?h=r<=(l+u)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),Z6(h,t,e,n)&&(h="center"),h}function xS(t,e,n){const i=n.yAlign||e.yAlign||G6(t,n);return{xAlign:n.xAlign||e.xAlign||Q6(t,e,n,i),yAlign:i}}function Y6(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function X6(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function ES(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,h=r+s,{topLeft:d,topRight:m,bottomLeft:g,bottomRight:y}=pl(o);let x=Y6(e,l);const E=X6(e,u,h);return u==="center"?l==="left"?x+=h:l==="right"&&(x-=h):l==="left"?x-=Math.max(d,g)+r:l==="right"&&(x+=Math.max(m,y)+r),{x:Di(x,0,i.width-e.width),y:Di(E,0,i.height-e.height)}}function $d(t,e,n){const i=Ei(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function TS(t){return Yi([],Mr(t))}function J6(t,e,n){return Wl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function SS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const dA={beforeTitle:Lr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Lr,beforeBody:Lr,beforeLabel:Lr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return it(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Lr,afterBody:Lr,beforeFooter:Lr,footer:Lr,afterFooter:Lr};function Cn(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?dA[e].call(n,i):r}class by extends ql{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new YC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=J6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Cn(i,"beforeTitle",this,e),s=Cn(i,"title",this,e),o=Cn(i,"afterTitle",this,e);let l=[];return l=Yi(l,Mr(r)),l=Yi(l,Mr(s)),l=Yi(l,Mr(o)),l}getBeforeBody(e,n){return TS(Cn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Qe(e,s=>{const o={before:[],lines:[],after:[]},l=SS(i,s);Yi(o.before,Mr(Cn(l,"beforeLabel",this,s))),Yi(o.lines,Cn(l,"label",this,s)),Yi(o.after,Mr(Cn(l,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return TS(Cn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Cn(i,"beforeFooter",this,e),s=Cn(i,"footer",this,e),o=Cn(i,"afterFooter",this,e);let l=[];return l=Yi(l,Mr(r)),l=Yi(l,Mr(s)),l=Yi(l,Mr(o)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(K6(this.chart,n[u]));return e.filter&&(l=l.filter((d,m,g)=>e.filter(d,m,g,i))),e.itemSort&&(l=l.sort((d,m)=>e.itemSort(d,m,i))),Qe(l,d=>{const m=SS(e.callbacks,d);r.push(Cn(m,"labelColor",this,d)),s.push(Cn(m,"labelPointStyle",this,d)),o.push(Cn(m,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=nc[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=wS(this,i),h=Object.assign({},l,u),d=xS(this.chart,i,h),m=ES(i,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:m}=pl(l),{x:g,y}=e,{width:x,height:E}=n;let b,S,k,I,B,$;return s==="center"?(B=y+E/2,r==="left"?(b=g,S=b-o,I=B+o,$=B-o):(b=g+x,S=b+o,I=B-o,$=B+o),k=b):(r==="left"?S=g+Math.max(u,d)+o:r==="right"?S=g+x-Math.max(h,m)-o:S=this.caretX,s==="top"?(I=y,B=I-o,b=S-o,k=S+o):(I=y+E,B=I+o,b=S+o,k=S-o),$=I),{x1:b,x2:S,x3:k,y1:I,y2:B,y3:$}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,l,u;if(s){const h=ml(i.rtl,this.x,this.width);for(e.x=$d(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",o=hn(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=s,d=hn(s.bodyFont),m=$d(this,"left",s),g=r.x(m),y=u<d.lineHeight?(d.lineHeight-u)/2:0,x=n.y+y;if(s.usePointStyle){const E={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=r.leftForLtr(g,h)+h/2,S=x+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,zT(e,E,b,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,zT(e,E,b,S)}else{e.lineWidth=Ke(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const E=r.leftForLtr(g,h),b=r.leftForLtr(r.xPlus(g,1),h-2),S=pl(o.borderRadius);Object.values(S).some(k=>k!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,bp(e,{x:E,y:x,w:h,h:u,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),bp(e,{x:b,y:x+1,w:h-2,h:u-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(E,x,h,u),e.strokeRect(E,x,h,u),e.fillStyle=o.backgroundColor,e.fillRect(b,x+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:d}=i,m=hn(i.bodyFont);let g=m.lineHeight,y=0;const x=ml(i.rtl,this.x,this.width),E=function(P){n.fillText(P,x.x(e.x+y),e.y+g/2),e.y+=g+s},b=x.textAlign(o);let S,k,I,B,$,U,A;for(n.textAlign=o,n.textBaseline="middle",n.font=m.string,e.x=$d(this,b,i),n.fillStyle=i.bodyColor,Qe(this.beforeBody,E),y=l&&b!=="right"?o==="center"?h/2+d:h+2+d:0,B=0,U=r.length;B<U;++B){for(S=r[B],k=this.labelTextColors[B],n.fillStyle=k,Qe(S.before,E),I=S.lines,l&&I.length&&(this._drawColorBox(n,e,B,x,i),g=Math.max(m.lineHeight,u)),$=0,A=I.length;$<A;++$)E(I[$]),g=m.lineHeight;Qe(S.after,E)}y=0,g=m.lineHeight,Qe(this.afterBody,E),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,l;if(s){const u=ml(i.rtl,this.x,this.width);for(e.x=$d(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=hn(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:h,height:d}=i,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:x}=pl(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+m,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+h-g,u),n.quadraticCurveTo(l+h,u,l+h,u+g),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+h,u+d-x),n.quadraticCurveTo(l+h,u+d,l+h-x,u+d),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+y,u+d),n.quadraticCurveTo(l,u+d,l,u+d-y),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=nc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=wS(this,e),u=Object.assign({},o,this._size),h=xS(n,e,u),d=ES(e,u,h,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ei(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),ZC(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),QC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),s=!xp(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),l=this._positionChanged(o,e),u=n||!xp(o,s)||l;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=nc[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}$e(by,"positioners",nc);var e5={id:"tooltip",_element:by,positioners:nc,afterInit(t,e,n){n&&(t.tooltip=new by({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const t5=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function n5(t,e,n,i){const r=t.indexOf(e);if(r===-1)return t5(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const i5=(t,e)=>t===null?null:Di(Math.round(t),0,e);function bS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ky extends Kl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(it(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:n5(i,e,Ye(n,e),this._addedLabels),i5(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return bS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$e(ky,"id","category"),$e(ky,"defaults",{ticks:{callback:bS}});function r5(t,e){const n=[],{bounds:r,step:s,min:o,max:l,precision:u,count:h,maxTicks:d,maxDigits:m,includeBounds:g}=t,y=s||1,x=d-1,{min:E,max:b}=e,S=!it(o),k=!it(l),I=!it(h),B=(b-E)/(m+1);let $=AT((b-E)/x/y)*y,U,A,P,O;if($<1e-14&&!S&&!k)return[{value:E},{value:b}];O=Math.ceil(b/$)-Math.floor(E/$),O>x&&($=AT(O*$/x/y)*y),it(u)||(U=Math.pow(10,u),$=Math.ceil($*U)/U),r==="ticks"?(A=Math.floor(E/$)*$,P=Math.ceil(b/$)*$):(A=E,P=b),S&&k&&s&&oj((l-o)/s,$/1e3)?(O=Math.round(Math.min((l-o)/$,d)),$=(l-o)/O,A=o,P=l):I?(A=S?o:A,P=k?l:P,O=h-1,$=(P-A)/O):(O=(P-A)/$,yf(O,Math.round(O),$/1e3)?O=Math.round(O):O=Math.ceil(O));const F=Math.max(RT($),RT(A));U=Math.pow(10,it(u)?F:u),A=Math.round(A*U)/U,P=Math.round(P*U)/U;let N=0;for(S&&(g&&A!==o?(n.push({value:o}),A<o&&N++,yf(Math.round((A+N*$)*U)/U,o,kS(o,B,t))&&N++):A<o&&N++);N<O;++N){const z=Math.round((A+N*$)*U)/U;if(k&&z>l)break;n.push({value:z})}return k&&g&&P!==l?n.length&&yf(n[n.length-1].value,l,kS(l,B,t))?n[n.length-1].value=l:n.push({value:l}):(!k||P===l)&&n.push({value:P}),n}function kS(t,e,{horizontal:n,minRotation:i}){const r=Do(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class s5 extends Kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return it(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=Ks(r),h=Ks(s);u<0&&h<0?l(0):u>0&&h>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=r5(r,s);return e.bounds==="ticks"&&aj(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return zC(e,this.chart.options.locale,this.options.ticks.format)}}class Iy extends s5{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xi(e)?e:0,this.max=xi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Do(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$e(Iy,"id","linear"),$e(Iy,"defaults",{ticks:{callback:BC.formatters.numeric}});const Em={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(Em);function IS(t,e){return t-e}function PS(t,e){if(it(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),xi(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Sp(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function CS(t,e,n,i){const r=On.length;for(let s=On.indexOf(t);s<r-1;++s){const o=Em[On[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return On[s]}return On[r-1]}function o5(t,e,n,i,r){for(let s=On.length-1;s>=On.indexOf(n);s--){const o=On[s];if(Em[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return On[n?On.indexOf(n):0]}function a5(t){for(let e=On.indexOf(t)+1,n=On.length;e<n;++e)if(Em[On[e]].common)return On[e]}function AS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=jw(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function l5(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function RS(t,e,n){const i=[],r={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],r[l]=o,i.push({value:l,major:!1});return s===0||!n?i:l5(t,i,r,n)}class Pp extends Kl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new SU._date(e.adapters.date);r.init(n),_c(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:PS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=xi(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=xi(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,l=pj(r,s,o);return this._unit=n.unit||(i.autoSkip?CS(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):o5(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:a5(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),RS(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Di(n,0,o),i=Di(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||CS(s.minUnit,n,i,this._getLabelCapacity(n)),l=Ye(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,h=Sp(u)||u===!0,d={};let m=n,g,y;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(g=m,y=0;g<i;g=+e.add(g,l,o),y++)AS(d,g,x);return(g===i||r.bounds==="ticks"||y===1)&&AS(d,g,x),Object.keys(d).sort(IS).map(E=>+E)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return ut(o,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,h=this._majorUnit,d=u&&l[u],m=h&&l[h],g=i[n],y=h&&m&&g&&g.major;return this._adapter.format(e,r||(y?m:d))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Do(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,RS(this,[e],this._majorUnit),r),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(PS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NC(e.sort(IS))}}$e(Pp,"id","time"),$e(Pp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wd(t,e,n){let i=0,r=t.length-1,s,o,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=xy(t,"pos",e)),{pos:s,time:l}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=xy(t,"time",e)),{time:s,pos:l}=t[i],{time:o,pos:u}=t[r]);const h=o-s;return h?l+(u-l)*(e-s)/h:l}class LS extends Pp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Wd(n,this.min),this._tableRange=Wd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,l,u,h,d;for(o=0,l=e.length;o<l;++o)h=e[o],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)d=r[o+1],u=r[o-1],h=r[o],Math.round((d+u)/2)!==h&&s.push({time:h,pos:o/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Wd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Wd(this._table,i*this._tableRange+this._minPos,!0)}}$e(LS,"id","timeseries"),$e(LS,"defaults",Pp.defaults);const fA="label";function OS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function u5(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function pA(t,e){t.labels=e}function mA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fA;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function c5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fA;const n={labels:[],datasets:[]};return pA(n,t.labels),mA(n,t.datasets,e),n}function h5(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:l,options:u,plugins:h=[],fallbackContent:d,updateMode:m,...g}=t,y=K.useRef(null),x=K.useRef(null),E=()=>{y.current&&(x.current=new xm(y.current,{type:o,data:c5(l,s),options:u&&{...u},plugins:h}),OS(e,x.current))},b=()=>{OS(e,null),x.current&&(x.current.destroy(),x.current=null)};return K.useEffect(()=>{!r&&x.current&&u&&u5(x.current,u)},[r,u]),K.useEffect(()=>{!r&&x.current&&pA(x.current.config.data,l.labels)},[r,l.labels]),K.useEffect(()=>{!r&&x.current&&l.datasets&&mA(x.current.config.data,l.datasets,s)},[r,l.datasets]),K.useEffect(()=>{x.current&&(r?(b(),setTimeout(E)):x.current.update(m))},[r,u,l.labels,l.datasets,m]),K.useEffect(()=>{x.current&&(b(),setTimeout(E))},[o]),K.useEffect(()=>(E(),()=>b()),[]),Fi.createElement("canvas",{ref:y,role:"img",height:n,width:i,...g},d)}const d5=K.forwardRef(h5);function f5(t,e){return xm.register(e),K.forwardRef((n,i)=>Fi.createElement(d5,{...n,ref:i,type:t}))}const p5=f5("bar",vf);xm.register(ky,Iy,Ef,q6,e5,$6);const m5=({sectorName:t,enCoursTickets:e,aCloturerTickets:n,totalTickets:i})=>{const r={labels:["Tickets"],datasets:[{label:"En cours",data:[e],backgroundColor:"#f56565",hoverBackgroundColor:"#ed8936"},{label:" clturer",data:[n],backgroundColor:"#63b3ed",hoverBackgroundColor:"#4299e1"}]},s={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1,text:`Tickets par statut pour ${t}`}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}};return V.jsx("div",{className:"dashboard-tile",children:V.jsxs("div",{className:"card-body p-6",children:[V.jsxs("h2",{className:"card-title text-xl font-semibold text-white mb-2",children:[V.jsx(y3,{className:"icon"})," ",t]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx("div",{children:V.jsxs("p",{className:"text-white",children:["En cours: ",V.jsx("span",{className:"font-medium",children:e})]})}),V.jsx("div",{children:V.jsxs("p",{className:"text-white",children:[" clturer: ",V.jsx("span",{className:"font-medium",children:n})]})}),V.jsx("div",{children:V.jsxs("p",{className:"text-white",children:["Total: ",V.jsx("span",{className:"font-medium",children:i})]})})]}),V.jsx("div",{className:"mt-4",children:V.jsx(p5,{data:r,options:s})})]})})};var Py={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Sc,function(n){var i="1.9.4";function r(a){var c,p,_,w;for(p=1,_=arguments.length;p<_;p++){w=arguments[p];for(c in w)a[c]=w[c]}return a}var s=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function o(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var _=p.call(arguments,2);return function(){return a.apply(c,_.length?_.concat(p.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,c,p){var _,w,C,H;return H=function(){_=!1,w&&(C.apply(p,w),w=!1)},C=function(){_?w=arguments:(a.apply(p,arguments),setTimeout(H,c),_=!0)},C}function d(a,c,p){var _=c[1],w=c[0],C=_-w;return a===_&&p?a:((a-w)%C+C)%C+w}function m(){return!1}function g(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function x(a){return y(a).split(/\s+/)}function E(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function b(a,c,p){var _=[];for(var w in a)_.push(encodeURIComponent(p?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!c||c.indexOf("?")===-1?"?":"&")+_.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function k(a,c){return a.replace(S,function(p,_){var w=c[_];if(w===void 0)throw new Error("No value provided for variable "+p);return typeof w=="function"&&(w=w(c)),w})}var I=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function B(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var A=0;function P(a){var c=+new Date,p=Math.max(0,16-(c-A));return A=c+p,window.setTimeout(a,p)}var O=window.requestAnimationFrame||U("RequestAnimationFrame")||P,F=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function N(a,c,p){if(p&&O===P)a.call(c);else return O.call(window,o(a,c))}function z(a){a&&F.call(window,a)}var D={__proto__:null,extend:r,create:s,bind:o,get lastId(){return l},stamp:u,throttle:h,wrapNum:d,falseFn:m,formatNum:g,trim:y,splitWords:x,setOptions:E,getParamString:b,template:k,isArray:I,indexOf:B,emptyImageUrl:$,requestFn:O,cancelFn:F,requestAnimFrame:N,cancelAnimFrame:z};function pe(){}pe.extend=function(a){var c=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,_=s(p);_.constructor=c,c.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return a.statics&&r(c,a.statics),a.includes&&(ue(a.includes),r.apply(null,[_].concat(a.includes))),r(_,a),delete _.statics,delete _.includes,_.options&&(_.options=p.options?s(p.options):{},r(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,H=_._initHooks.length;C<H;C++)_._initHooks[C].call(this)}},c},pe.include=function(a){var c=this.prototype.options;return r(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},pe.mergeOptions=function(a){return r(this.prototype.options,a),this},pe.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function ue(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=I(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(a,c,p){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c);else{a=x(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],c);else{a=x(a);for(var w=arguments.length===1,C=0,H=a.length;C<H;C++)w?this._off(a[C]):this._off(a[C],c,p)}return this},_on:function(a,c,p,_){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var w={fn:c,ctx:p};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,c,p){var _,w,C;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,C=_.length;w<C;w++)_[w].fn=m;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var H=this._listens(a,c,p);if(H!==!1){var q=_[H];this._firingCount&&(q.fn=m,this._events[a]=_=_.slice()),_.splice(H,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var _=r({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var C=0,H=w.length;C<H;C++){var q=w[C],G=q.fn;q.once&&this.off(a,G,q.ctx),G.call(q.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(a,c,p,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(_=!!c,w=void 0,p=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,w,p)!==!1)return!0;if(_){for(var H in this._eventParents)if(this._eventParents[H].listens(a,c,p,_))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var _=this._events[a]||[];if(!c)return!!_.length;p===this&&(p=void 0);for(var w=0,C=_.length;w<C;w++)if(_[w].fn===c&&_[w].ctx===p)return w;return!1},once:function(a,c,p){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c,!0);else{a=x(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,r({layer:a.target,propagatedFrom:a.target},a),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var ke=pe.extend(_e);function X(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var de=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(a){return this.clone()._add(M(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(M(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new X(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new X(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(a){a=M(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=M(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=M(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function M(a,c,p){return a instanceof X?a:I(a)?new X(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new X(a.x,a.y):new X(a,c,p)}function ce(a,c){if(a)for(var p=c?[a,c]:a,_=0,w=p.length;_<w;_++)this.extend(p[_])}ce.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof X||typeof a[0]=="number"||"x"in a)c=p=M(a);else if(a=me(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof X?a=M(a):a=me(a),a instanceof ce?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=me(a);var c=this.min,p=this.max,_=a.min,w=a.max,C=w.x>=c.x&&_.x<=p.x,H=w.y>=c.y&&_.y<=p.y;return C&&H},overlaps:function(a){a=me(a);var c=this.min,p=this.max,_=a.min,w=a.max,C=w.x>c.x&&_.x<p.x,H=w.y>c.y&&_.y<p.y;return C&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,_=Math.abs(c.x-p.x)*a,w=Math.abs(c.y-p.y)*a;return me(M(c.x-_,c.y-w),M(p.x+_,p.y+w))},equals:function(a){return a?(a=me(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function me(a,c){return!a||a instanceof ce?a:new ce(a,c)}function j(a,c){if(a)for(var p=c?[a,c]:a,_=0,w=p.length;_<w;_++)this.extend(p[_])}j.prototype={extend:function(a){var c=this._southWest,p=this._northEast,_,w;if(a instanceof ve)_=a,w=a;else if(a instanceof j){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(oe(a)||xe(a)):this;return!c&&!p?(this._southWest=new ve(_.lat,_.lng),this._northEast=new ve(w.lat,w.lng)):(c.lat=Math.min(_.lat,c.lat),c.lng=Math.min(_.lng,c.lng),p.lat=Math.max(w.lat,p.lat),p.lng=Math.max(w.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,_=Math.abs(c.lat-p.lat)*a,w=Math.abs(c.lng-p.lng)*a;return new j(new ve(c.lat-_,c.lng-w),new ve(p.lat+_,p.lng+w))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ve||"lat"in a?a=oe(a):a=xe(a);var c=this._southWest,p=this._northEast,_,w;return a instanceof j?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=c.lat&&w.lat<=p.lat&&_.lng>=c.lng&&w.lng<=p.lng},intersects:function(a){a=xe(a);var c=this._southWest,p=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>=c.lat&&_.lat<=p.lat,H=w.lng>=c.lng&&_.lng<=p.lng;return C&&H},overlaps:function(a){a=xe(a);var c=this._southWest,p=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>c.lat&&_.lat<p.lat,H=w.lng>c.lng&&_.lng<p.lng;return C&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=xe(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(a,c){return a instanceof j?a:new j(a,c)}function ve(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}ve.prototype={equals:function(a,c){if(!a)return!1;a=oe(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+g(this.lat,a)+", "+g(this.lng,a)+")"},distanceTo:function(a){return Nt.distance(this,oe(a))},wrap:function(){return Nt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return xe([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function oe(a,c,p){return a instanceof ve?a:I(a)&&typeof a[0]!="object"?a.length===3?new ve(a[0],a[1],a[2]):a.length===2?new ve(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new ve(a,c,p)}var at={latLngToPoint:function(a,c){var p=this.projection.project(a),_=this.scale(c);return this.transformation._transform(p,_)},pointToLatLng:function(a,c){var p=this.scale(c),_=this.transformation.untransform(a,p);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),_=this.transformation.transform(c.min,p),w=this.transformation.transform(c.max,p);return new ce(_,w)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?d(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?d(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new ve(p,c,_)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),_=c.lat-p.lat,w=c.lng-p.lng;if(_===0&&w===0)return a;var C=a.getSouthWest(),H=a.getNorthEast(),q=new ve(C.lat-_,C.lng-w),G=new ve(H.lat-_,H.lng-w);return new j(q,G)}},Nt=r({},at,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,_=a.lat*p,w=c.lat*p,C=Math.sin((c.lat-a.lat)*p/2),H=Math.sin((c.lng-a.lng)*p/2),q=C*C+Math.cos(_)*Math.cos(w)*H*H,G=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*G}}),Ti=6378137,gn={R:Ti,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,a.lat),-p),w=Math.sin(_*c);return new X(this.R*a.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var c=180/Math.PI;return new ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Ti*Math.PI;return new ce([-a,-a],[a,a])}()};function jn(a,c,p,_){if(I(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=_}jn.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new X((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Si(a,c,p,_){return new jn(a,c,p,_)}var yr=r({},Nt,{code:"EPSG:3857",projection:gn,transformation:function(){var a=.5/(Math.PI*gn.R);return Si(a,.5,-a,.5)}()}),lo=r({},yr,{code:"EPSG:900913"});function vr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function es(a,c){var p="",_,w,C,H,q,G;for(_=0,C=a.length;_<C;_++){for(q=a[_],w=0,H=q.length;w<H;w++)G=q[w],p+=(w?"L":"M")+G.x+" "+G.y;p+=c?ge.svg?"z":"x":""}return p||"M0 0"}var ts=document.documentElement.style,ns="ActiveXObject"in window,uo=ns&&!document.addEventListener,wr="msLaunchUri"in navigator&&!("documentMode"in document),is=ri("webkit"),ha=ri("android"),rs=ri("android 2")||ri("android 3"),co=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),da=ha&&ri("Google")&&co<537&&!("AudioNode"in window),Q=!!window.opera,ne=!wr&&ri("chrome"),we=ri("gecko")&&!is&&!Q&&!ns,Me=!ne&&ri("safari"),He=ri("phantom"),tn="OTransition"in ts,_n=navigator.platform.indexOf("Win")===0,yn=ns&&"transition"in ts,ni="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rs,ii="MozPerspective"in ts,qt=!window.L_DISABLE_3D&&(yn||ni||ii)&&!tn&&!He,kn=typeof orientation<"u"||ri("mobile"),vn=kn&&is,Lh=kn&&ni,Xl=!window.PointerEvent&&window.MSPointerEvent,ss=!!(window.PointerEvent||Xl),fa="ontouchstart"in window||!!window.TouchEvent,Jl=!window.L_NO_TOUCH&&(fa||ss),xr=kn&&Q,Oh=kn&&we,pa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mh=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",m,c),window.removeEventListener("testPassiveEventSupport",m,c)}catch{}return a}(),ho=function(){return!!document.createElement("canvas").getContext}(),ma=!!(document.createElementNS&&vr("svg").createSVGRect),Kt=!!ma&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Nh=!ma&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),fo=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function ri(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ge={ie:ns,ielt9:uo,edge:wr,webkit:is,android:ha,android23:rs,androidStock:da,opera:Q,chrome:ne,gecko:we,safari:Me,phantom:He,opera12:tn,win:_n,ie3d:yn,webkit3d:ni,gecko3d:ii,any3d:qt,mobile:kn,mobileWebkit:vn,mobileWebkit3d:Lh,msPointer:Xl,pointer:ss,touch:Jl,touchNative:fa,mobileOpera:xr,mobileGecko:Oh,retina:pa,passiveEvents:Mh,canvas:ho,svg:ma,vml:Nh,inlineSvg:Kt,mac:fo,linux:po},Er=ge.msPointer?"MSPointerDown":"pointerdown",Dh=ge.msPointer?"MSPointerMove":"pointermove",Fh=ge.msPointer?"MSPointerUp":"pointerup",mo=ge.msPointer?"MSPointerCancel":"pointercancel",ga={touchstart:Er,touchmove:Dh,touchend:Fh,touchcancel:mo},_a={touchstart:va,touchmove:ya,touchend:ya,touchcancel:ya},bi={},ki=!1;function Vh(a,c,p){return c==="touchstart"&&Bh(),_a[c]?(p=_a[c].bind(this,p),a.addEventListener(ga[c],p,!1),p):(console.warn("wrong event specified:",c),m)}function zh(a,c,p){if(!ga[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(ga[c],p,!1)}function eu(a){bi[a.pointerId]=a}function tu(a){bi[a.pointerId]&&(bi[a.pointerId]=a)}function nu(a){delete bi[a.pointerId]}function Bh(){ki||(document.addEventListener(Er,eu,!0),document.addEventListener(Dh,tu,!0),document.addEventListener(Fh,nu,!0),document.addEventListener(mo,nu,!0),ki=!0)}function ya(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in bi)c.touches.push(bi[p]);c.changedTouches=[c],a(c)}}function va(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&mt(c),ya(a,c)}function jh(a){var c={},p,_;for(_ in a)p=a[_],c[_]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var iu=200;function go(a,c){a.addEventListener("dblclick",c);var p=0,_;function w(C){if(C.detail!==1){_=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var H=mu(C);if(!(H.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!H.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var q=Date.now();q-p<=iu?(_++,_===2&&c(jh(C))):_=1,p=q}}}return a.addEventListener("click",w),{dblclick:c,simDblclick:w}}function Tr(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var _o=br(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yo=br(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ru=yo==="webkitTransition"||yo==="OTransition"?yo+"End":"transitionend";function su(a){return typeof a=="string"?document.getElementById(a):a}function os(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);p=_?_[c]:null}return p==="auto"?null:p}function Ve(a,c,p){var _=document.createElement(a);return _.className=c||"",p&&p.appendChild(_),_}function nt(a){var c=a.parentNode;c&&c.removeChild(a)}function vo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Sr(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function as(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function ou(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=si(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Re(a,c){if(a.classList!==void 0)for(var p=x(c),_=0,w=p.length;_<w;_++)a.classList.add(p[_]);else if(!ou(a,c)){var C=si(a);au(a,(C?C+" ":"")+c)}}function dt(a,c){a.classList!==void 0?a.classList.remove(c):au(a,y((" "+si(a)+" ").replace(" "+c+" "," ")))}function au(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function si(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function xt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&wa(a,c)}function wa(a,c){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(_)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+_+"(opacity="+c+")"}function br(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function $i(a,c,p){var _=c||new X(0,0);a.style[_o]=(ge.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Ie(a,c){a._leaflet_pos=c,ge.any3d?$i(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function oi(a){return a._leaflet_pos||new X(0,0)}var Ii,Pi,lu;if("onselectstart"in document)Ii=function(){Ee(window,"selectstart",mt)},Pi=function(){et(window,"selectstart",mt)};else{var ls=br(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(ls){var a=document.documentElement.style;lu=a[ls],a[ls]="none"}},Pi=function(){ls&&(document.documentElement.style[ls]=lu,lu=void 0)}}function uu(){Ee(window,"dragstart",mt)}function cu(){et(window,"dragstart",mt)}var xa,hu;function kr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Un(),xa=a,hu=a.style.outlineStyle,a.style.outlineStyle="none",Ee(window,"keydown",Un))}function Un(){xa&&(xa.style.outlineStyle=hu,xa=void 0,hu=void 0,et(window,"keydown",Un))}function du(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ea(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Uh={__proto__:null,TRANSFORM:_o,TRANSITION:yo,TRANSITION_END:ru,get:su,getStyle:os,create:Ve,remove:nt,empty:vo,toFront:Sr,toBack:as,hasClass:ou,addClass:Re,removeClass:dt,setClass:au,getClass:si,setOpacity:xt,testProp:br,setTransform:$i,setPosition:Ie,getPosition:oi,get disableTextSelection(){return Ii},get enableTextSelection(){return Pi},disableImageDrag:uu,enableImageDrag:cu,preventOutline:kr,restoreOutline:Un,getSizedParentNode:du,getScale:Ea};function Ee(a,c,p,_){if(c&&typeof c=="object")for(var w in c)fu(a,w,c[w],p);else{c=x(c);for(var C=0,H=c.length;C<H;C++)fu(a,c[C],p,_)}return this}var ai="_leaflet_events";function et(a,c,p,_){if(arguments.length===1)Hh(a),delete a[ai];else if(c&&typeof c=="object")for(var w in c)pu(a,w,c[w],p);else if(c=x(c),arguments.length===2)Hh(a,function(q){return B(c,q)!==-1});else for(var C=0,H=c.length;C<H;C++)pu(a,c[C],p,_);return this}function Hh(a,c){for(var p in a[ai]){var _=p.split(/\d/)[0];(!c||c(_))&&pu(a,_,null,null,p)}}var li={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fu(a,c,p,_){var w=c+u(p)+(_?"_"+u(_):"");if(a[ai]&&a[ai][w])return this;var C=function(q){return p.call(_||a,q||window.event)},H=C;!ge.touchNative&&ge.pointer&&c.indexOf("touch")===0?C=Vh(a,c,C):ge.touch&&c==="dblclick"?C=go(a,C):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(li[c]||c,C,ge.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(q){q=q||window.event,gu(a,q)&&H(q)},a.addEventListener(li[c],C,!1)):a.addEventListener(c,H,!1):a.attachEvent("on"+c,C),a[ai]=a[ai]||{},a[ai][w]=C}function pu(a,c,p,_,w){w=w||c+u(p)+(_?"_"+u(_):"");var C=a[ai]&&a[ai][w];if(!C)return this;!ge.touchNative&&ge.pointer&&c.indexOf("touch")===0?zh(a,c,C):ge.touch&&c==="dblclick"?Tr(a,C):"removeEventListener"in a?a.removeEventListener(li[c]||c,C,!1):a.detachEvent("on"+c,C),a[ai][w]=null}function ui(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function us(a){return fu(a,"wheel",ui),this}function cs(a){return Ee(a,"mousedown touchstart dblclick contextmenu",ui),a._leaflet_disable_click=!0,this}function mt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Hn(a){return mt(a),ui(a),this}function mu(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Ta(a,c){if(!c)return new X(a.clientX,a.clientY);var p=Ea(c),_=p.boundingClientRect;return new X((a.clientX-_.left)/p.x-c.clientLeft,(a.clientY-_.top)/p.y-c.clientTop)}var ft=ge.linux&&ge.chrome?window.devicePixelRatio:ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $h(a){return ge.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ft:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function gu(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Wh={__proto__:null,on:Ee,off:et,stopPropagation:ui,disableScrollPropagation:us,disableClickPropagation:cs,preventDefault:mt,stop:Hn,getPropagationPath:mu,getMousePosition:Ta,getWheelDelta:$h,isExternalTarget:gu,addListener:Ee,removeListener:et},_u=ke.extend({run:function(a,c,p,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=oi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ie(this._el,p),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),De=ke.extend({options:{crs:yr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=E(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(oe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yo&&ge.any3d&&!ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,ru,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(oe(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=r({animate:p.animate},p.zoom),p.pan=r({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var _=this.getZoomScale(c),w=this.getSize().divideBy(2),C=a instanceof X?a:this.latLngToContainerPoint(a),H=C.subtract(w).multiplyBy(1-1/_),q=this.containerPointToLatLng(w.add(H));return this.setView(q,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():xe(a);var p=M(c.paddingTopLeft||c.padding||[0,0]),_=M(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(a,!1,p.add(_));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var C=_.subtract(p).divideBy(2),H=this.project(a.getSouthWest(),w),q=this.project(a.getNorthEast(),w),G=this.unproject(H.add(q).divideBy(2).add(C),w);return{center:G,zoom:w}},fitBounds:function(a,c){if(a=xe(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=M(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _u,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Re(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!ge.any3d)return this.setView(a,c,p);this._stop();var _=this.project(this.getCenter()),w=this.project(a),C=this.getSize(),H=this._zoom;a=oe(a),c=c===void 0?H:c;var q=Math.max(C.x,C.y),G=q*this.getZoomScale(H,c),ee=w.distanceTo(_)||1,ae=1.42,Te=ae*ae;function Ne(Ct){var ad=Ct?-1:1,GR=Ct?G:q,ZR=G*G-q*q+ad*Te*Te*ee*ee,QR=2*GR*Te*ee,zm=ZR/QR,D0=Math.sqrt(zm*zm+1)-zm,YR=D0<1e-9?-18:Math.log(D0);return YR}function xn(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function jt(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}function hi(Ct){return xn(Ct)/jt(Ct)}var Pn=Ne(0);function Da(Ct){return q*(jt(Pn)/jt(Pn+ae*Ct))}function $R(Ct){return q*(jt(Pn)*hi(Pn+ae*Ct)-xn(Pn))/Te}function WR(Ct){return 1-Math.pow(1-Ct,1.5)}var qR=Date.now(),M0=(Ne(1)-Pn)/ae,KR=p.duration?1e3*p.duration:1e3*M0*.8;function N0(){var Ct=(Date.now()-qR)/KR,ad=WR(Ct)*M0;Ct<=1?(this._flyToFrame=N(N0,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy($R(ad)/ee)),H),this.getScaleZoom(q/Da(ad),H),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),N0.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=xe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,xe(a));return p.equals(_)||this.panTo(_,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=M(c.paddingTopLeft||c.padding||[0,0]),_=M(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),C=this.project(a),H=this.getPixelBounds(),q=me([H.min.add(p),H.max.subtract(_)]),G=q.getSize();if(!q.contains(C)){this._enforcingBounds=!0;var ee=C.subtract(q.getCenter()),ae=q.extend(C).getSize().subtract(G);w.x+=ee.x<0?-ae.x:ae.x,w.y+=ee.y<0?-ae.y:ae.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=r({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=c.divideBy(2).round(),w=p.divideBy(2).round(),C=_.subtract(w);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=r({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=o(this._handleGeolocationResponse,this),p=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,_=new ve(c,p),w=_.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var H=this.getBoundsZoom(w);this.setView(_,C.maxZoom?Math.min(H,C.maxZoom):H)}var q={latlng:_,bounds:w,timestamp:a.timestamp};for(var G in a.coords)typeof a.coords[G]=="number"&&(q[G]=a.coords[G]);this.fire("locationfound",q)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)nt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Ve("div",p,c||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new j(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=xe(a),p=M(p||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),C=this.getMaxZoom(),H=a.getNorthWest(),q=a.getSouthEast(),G=this.getSize().subtract(p),ee=me(this.project(q,_),this.project(H,_)).getSize(),ae=ge.any3d?this.options.zoomSnap:1,Te=G.x/ee.x,Ne=G.y/ee.y,xn=c?Math.max(Te,Ne):Math.min(Te,Ne);return _=this.getScaleZoom(xn,_),ae&&(_=Math.round(_/(ae/100))*(ae/100),_=c?Math.ceil(_/ae)*ae:Math.floor(_/ae)*ae),Math.max(w,Math.min(C,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new ce(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var _=p.zoom(a*p.scale(c));return isNaN(_)?1/0:_},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(oe(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(M(a),c)},layerPointToLatLng:function(a){var c=M(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(oe(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(oe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(xe(a))},distance:function(a,c){return this.options.crs.distance(oe(a),oe(c))},containerPointToLayerPoint:function(a){return M(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return M(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(M(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(a)))},mouseEventToContainerPoint:function(a){return Ta(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=su(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ge.any3d,Re(a,"leaflet-container"+(ge.touch?" leaflet-touch":"")+(ge.retina?" leaflet-retina":"")+(ge.ielt9?" leaflet-oldie":"")+(ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=os(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(a.markerPane,"leaflet-zoom-hide"),Re(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ie(this._mapPane,new X(0,0));var _=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,p)._move(a,c)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,_){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?p&&p.pinch&&this.fire("zoom",p):((w||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ie(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?et:Ee;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ge.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],_,w=c==="mouseout"||c==="mouseover",C=a.target||a.srcElement,H=!1;C;){if(_=this._targets[u(C)],_&&(c==="click"||c==="preclick")&&this._draggableMoved(_)){H=!0;break}if(_&&_.listens(c,!0)&&(w&&!gu(C,a)||(p.push(_),w))||C===this._container)break;C=C.parentNode}return!p.length&&!H&&!w&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&kr(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var _=r({},a);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var w=this._findEventTargets(a,c);if(p){for(var C=[],H=0;H<p.length;H++)p[H].listens(c,!0)&&C.push(p[H]);w=C.concat(w)}if(w.length){c==="contextmenu"&&mt(a);var q=w[0],G={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ee=q.getLatLng&&(!q._radius||q._radius<=10);G.containerPoint=ee?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(a),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=ee?q.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(H=0;H<w.length;H++)if(w[H].fire(c,G,!0),G.originalEvent._stopped||w[H].options.bubblingMouseEvents===!1&&B(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return oi(this._mapPane)||new X(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var _=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,c,p){var _=this._getNewPixelOrigin(p,c);return me([this.project(a.getSouthWest(),c)._subtract(_),this.project(a.getNorthWest(),c)._subtract(_),this.project(a.getSouthEast(),c)._subtract(_),this.project(a.getNorthEast(),c)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var _=this.project(a,c),w=this.getSize().divideBy(2),C=new ce(_.subtract(w),_.add(w)),H=this._getBoundsOffset(C,p,c);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?a:this.unproject(_.add(H),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),_=new ce(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(_,c))},_getBoundsOffset:function(a,c,p){var _=me(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),w=_.min.subtract(a.min),C=_.max.subtract(a.max),H=this._rebound(w.x,-C.x),q=this._rebound(w.y,-C.y);return new X(H,q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),_=ge.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=_o,_=this._proxy.style[p];$i(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();$i(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(c),w=this._getCenterOffset(a)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(w)?!1:(N(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Sa(a,c){return new De(a,c)}var In=pe.extend({options:{position:"topright"},initialize:function(a){E(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),_=a._controlCorners[p];return Re(c,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(c,_.firstChild):_.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),wn=function(a){return new In(a)};De.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Ve("div",c+"control-container",this._container);function _(w,C){var H=c+w+" "+c+C;a[w+C]=Ve("div",H,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)nt(this._controlCorners[a]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yu=In.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,_){return p<_?-1:_<p?1:0}},initialize:function(a,c,p){E(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in c)this._addLayer(c[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return In.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Ve("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),cs(c),us(c);var _=this._section=Ve("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ee(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Ve("a",a+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),Ee(w,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){mt(C),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Ve("div",a+"-base",_),this._separator=Ve("div",a+"-separator",_),this._overlaysList=Ve("div",a+"-overlays",_),c.appendChild(_)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(o(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vo(this._baseLayersList),vo(this._overlaysList),this._layerControlInputs=[];var a,c,p,_,w=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),c=c||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+u(this),p),this._layerControlInputs.push(_),_.layerId=u(a.layer),Ee(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(_),C.appendChild(w);var H=a.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,_=[],w=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)c=a[C],p=this._getLayer(c.layerId).layer,c.checked?_.push(p):c.checked||w.push(p);for(C=0;C<w.length;C++)this._map.hasLayer(w[C])&&this._map.removeLayer(w[C]);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])||this._map.addLayer(_[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,_=this._map.getZoom(),w=a.length-1;w>=0;w--)c=a[w],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ee(a,"click",mt),this.expand();var c=this;setTimeout(function(){et(a,"click",mt),c._preventClick=!1})}}),Om=function(a,c,p){return new yu(a,c,p)},Ir=In.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Ve("div",c+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,_,w){var C=Ve("a",p,_);return C.innerHTML=a,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),cs(C),Ee(C,"click",Hn),Ee(C,"click",w,this),Ee(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";dt(this._zoomInButton,c),dt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Re(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Re(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});De.mergeOptions({zoomControl:!0}),De.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ir,this.addControl(this.zoomControl))});var qh=function(a){return new Ir(a)},ba=In.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Ve("div",c),_=this.options;return this._addScales(_,c+"-line",p),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Ve("div",c,p)),a.imperial&&(this._iScale=Ve("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,_,w;c>5280?(p=c/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),ka=function(a){return new ba(a)},Kh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hs=In.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ge.inlineSvg?Kh+" ":"")+"Leaflet</a>"},initialize:function(a){E(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),cs(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});De.mergeOptions({attributionControl:!0}),De.addInitHook(function(){this.options.attributionControl&&new hs().addTo(this)});var Mm=function(a){return new hs(a)};In.Layers=yu,In.Zoom=Ir,In.Scale=ba,In.Attribution=hs,wn.layers=Om,wn.zoom=qh,wn.scale=ka,wn.attribution=Mm;var $n=pe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$n.addTo=function(a,c){return a.addHandler(c,this),this};var wo={Events:_e},vu=ge.touch?"touchstart mousedown":"mousedown",Ci=ke.extend({options:{clickTolerance:3},initialize:function(a,c,p,_){E(this,_),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Ee(this._dragStartTarget,vu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),et(this._dragStartTarget,vu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ou(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ci._dragging=this,this._preventOutline&&kr(this._element),uu(),Ii(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=du(this._element);this._startPoint=new X(c.clientX,c.clientY),this._startPos=oi(this._element),this._parentScale=Ea(p);var _=a.type==="mousedown";Ee(document,_?"mousemove":"touchmove",this._onMove,this),Ee(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new X(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,mt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ie(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),et(document,"mousemove touchmove",this._onMove,this),et(document,"mouseup touchend touchcancel",this._onUp,this),cu(),Pi();var c=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ia(a,c,p){var _,w=[1,4,2,8],C,H,q,G,ee,ae,Te,Ne;for(C=0,ae=a.length;C<ae;C++)a[C]._code=Wi(a[C],c);for(q=0;q<4;q++){for(Te=w[q],_=[],C=0,ae=a.length,H=ae-1;C<ae;H=C++)G=a[C],ee=a[H],G._code&Te?ee._code&Te||(Ne=Bt(ee,G,Te,c,p),Ne._code=Wi(Ne,c),_.push(Ne)):(ee._code&Te&&(Ne=Bt(ee,G,Te,c,p),Ne._code=Wi(Ne,c),_.push(Ne)),_.push(G));a=_}return a}function Pa(a,c){var p,_,w,C,H,q,G,ee,ae;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Te=oe([0,0]),Ne=xe(a),xn=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());xn<1700&&(Te=Ca(a));var jt=a.length,hi=[];for(p=0;p<jt;p++){var Pn=oe(a[p]);hi.push(c.project(oe([Pn.lat-Te.lat,Pn.lng-Te.lng])))}for(q=G=ee=0,p=0,_=jt-1;p<jt;_=p++)w=hi[p],C=hi[_],H=w.y*C.x-C.y*w.x,G+=(w.x+C.x)*H,ee+=(w.y+C.y)*H,q+=H*3;q===0?ae=hi[0]:ae=[G/q,ee/q];var Da=c.unproject(M(ae));return oe([Da.lat+Te.lat,Da.lng+Te.lng])}function Ca(a){for(var c=0,p=0,_=0,w=0;w<a.length;w++){var C=oe(a[w]);c+=C.lat,p+=C.lng,_++}return oe([c/_,p/_])}var Aa={__proto__:null,clipPolygon:Ia,polygonCenter:Pa,centroid:Ca};function wu(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Zh(a,p),a=Gh(a,p),a}function xu(a,c,p){return Math.sqrt(ci(a,c,p,!0))}function Pr(a,c,p){return ci(a,c,p)}function Gh(a,c){var p=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(p);w[0]=w[p-1]=1,Ra(a,w,c,0,p-1);var C,H=[];for(C=0;C<p;C++)w[C]&&H.push(a[C]);return H}function Ra(a,c,p,_,w){var C=0,H,q,G;for(q=_+1;q<=w-1;q++)G=ci(a[q],a[_],a[w],!0),G>C&&(H=q,C=G);C>p&&(c[H]=1,Ra(a,c,p,_,H),Ra(a,c,p,H,w))}function Zh(a,c){for(var p=[a[0]],_=1,w=0,C=a.length;_<C;_++)Qh(a[_],a[w])>c&&(p.push(a[_]),w=_);return w<C-1&&p.push(a[C-1]),p}var Eu;function xo(a,c,p,_,w){var C=_?Eu:Wi(a,p),H=Wi(c,p),q,G,ee;for(Eu=H;;){if(!(C|H))return[a,c];if(C&H)return!1;q=C||H,G=Bt(a,c,q,p,w),ee=Wi(G,p),q===C?(a=G,C=ee):(c=G,H=ee)}}function Bt(a,c,p,_,w){var C=c.x-a.x,H=c.y-a.y,q=_.min,G=_.max,ee,ae;return p&8?(ee=a.x+C*(G.y-a.y)/H,ae=G.y):p&4?(ee=a.x+C*(q.y-a.y)/H,ae=q.y):p&2?(ee=G.x,ae=a.y+H*(G.x-a.x)/C):p&1&&(ee=q.x,ae=a.y+H*(q.x-a.x)/C),new X(ee,ae,w)}function Wi(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Qh(a,c){var p=c.x-a.x,_=c.y-a.y;return p*p+_*_}function ci(a,c,p,_){var w=c.x,C=c.y,H=p.x-w,q=p.y-C,G=H*H+q*q,ee;return G>0&&(ee=((a.x-w)*H+(a.y-C)*q)/G,ee>1?(w=p.x,C=p.y):ee>0&&(w+=H*ee,C+=q*ee)),H=a.x-w,q=a.y-C,_?H*H+q*q:new X(w,C)}function f(a){return!I(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function v(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function T(a,c){var p,_,w,C,H,q,G,ee;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ae=oe([0,0]),Te=xe(a),Ne=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());Ne<1700&&(ae=Ca(a));var xn=a.length,jt=[];for(p=0;p<xn;p++){var hi=oe(a[p]);jt.push(c.project(oe([hi.lat-ae.lat,hi.lng-ae.lng])))}for(p=0,_=0;p<xn-1;p++)_+=jt[p].distanceTo(jt[p+1])/2;if(_===0)ee=jt[0];else for(p=0,C=0;p<xn-1;p++)if(H=jt[p],q=jt[p+1],w=H.distanceTo(q),C+=w,C>_){G=(C-_)/w,ee=[q.x-G*(q.x-H.x),q.y-G*(q.y-H.y)];break}var Pn=c.unproject(M(ee));return oe([Pn.lat+ae.lat,Pn.lng+ae.lng])}var R={__proto__:null,simplify:wu,pointToSegmentDistance:xu,closestPointOnSegment:Pr,clipSegment:xo,_getEdgeIntersection:Bt,_getBitCode:Wi,_sqClosestPointOnSegment:ci,isFlat:f,_flat:v,polylineCenter:T},W={project:function(a){return new X(a.lng,a.lat)},unproject:function(a){return new ve(a.y,a.x)},bounds:new ce([-180,-90],[180,90])},Z={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,_=a.lat*c,w=this.R_MINOR/p,C=Math.sqrt(1-w*w),H=C*Math.sin(_),q=Math.tan(Math.PI/4-_/2)/Math.pow((1-H)/(1+H),C/2);return _=-p*Math.log(Math.max(q,1e-10)),new X(a.lng*c*p,_)},unproject:function(a){for(var c=180/Math.PI,p=this.R,_=this.R_MINOR/p,w=Math.sqrt(1-_*_),C=Math.exp(-a.y/p),H=Math.PI/2-2*Math.atan(C),q=0,G=.1,ee;q<15&&Math.abs(G)>1e-7;q++)ee=w*Math.sin(H),ee=Math.pow((1-ee)/(1+ee),w/2),G=Math.PI/2-2*Math.atan(C*ee)-H,H+=G;return new ve(H*c,a.x*c/p)}},se={__proto__:null,LonLat:W,Mercator:Z,SphericalMercator:gn},Ze=r({},Nt,{code:"EPSG:3395",projection:Z,transformation:function(){var a=.5/(Math.PI*Z.R);return Si(a,.5,-a,.5)}()}),Pt=r({},Nt,{code:"EPSG:4326",projection:W,transformation:Si(1/180,1,-1/180,.5)}),je=r({},at,{projection:W,transformation:Si(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,_=c.lat-a.lat;return Math.sqrt(p*p+_*_)},infinite:!0});at.Earth=Nt,at.EPSG3395=Ze,at.EPSG3857=yr,at.EPSG900913=lo,at.EPSG4326=Pt,at.Simple=je;var tt=ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});De.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?I(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gt=tt.extend({initialize:function(a,c){E(this,c),this._layers={};var p,_;if(a)for(p=0,_=a.length;p<_;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[a]&&_[a].apply(_,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),ds=function(a,c){return new gt(a,c)},Tt=gt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),gt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),gt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new j;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),La=function(a,c){return new Tt(a,c)},qi=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){E(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,c){var p=this.options,_=p[c+"Size"];typeof _=="number"&&(_=[_,_]);var w=M(_),C=M(c==="shadow"&&p.shadowAnchor||p.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return ge.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function bR(a){return new qi(a)}var Tu=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Tu.imagePath!="string"&&(Tu.imagePath=this._detectIconPath()),(this.options.imagePath||Tu.imagePath)+qi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,_,w){var C=_.exec(p);return C&&C[w]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ve("div","leaflet-default-icon-path",document.body),c=os(a,"background-image")||os(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),m0=$n.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ci(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,C=oi(c._icon),H=p.getPixelBounds(),q=p.getPixelOrigin(),G=me(H.min._subtract(q).add(w),H.max._subtract(q).subtract(w));if(!G.contains(C)){var ee=M((Math.max(G.max.x,C.x)-G.max.x)/(H.max.x-G.max.x)-(Math.min(G.min.x,C.x)-G.min.x)/(H.min.x-G.min.x),(Math.max(G.max.y,C.y)-G.max.y)/(H.max.y-G.max.y)-(Math.min(G.min.y,C.y)-G.min.y)/(H.min.y-G.min.y)).multiplyBy(_);p.panBy(ee,{animate:!1}),this._draggable._newPos._add(ee),this._draggable._startPos._add(ee),Ie(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=N(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,_=oi(c._icon),w=c._map.layerPointToLatLng(_);p&&Ie(p,_),c._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Yh=tt.extend({options:{icon:new Tu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){E(this,c),this._latlng=oe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=oe(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Re(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(p,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),C=!1;w!==this._shadow&&(this._removeShadow(),C=!0),w&&(Re(w,c),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ie(this._icon,a),this._shadow&&Ie(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),m0)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new m0(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&xt(this._icon,a),this._shadow&&xt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?M(c.iconSize):M(0,0),_=c.iconAnchor?M(c.iconAnchor):M(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function kR(a,c){return new Yh(a,c)}var fs=tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return E(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xh=fs.extend({options:{fill:!0,radius:10},initialize:function(a,c){E(this,c),this._latlng=oe(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=oe(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return fs.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),_=[a+p,c+p];this._pxBounds=new ce(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function IR(a,c){return new Xh(a,c)}var Nm=Xh.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=r({},p,{radius:c})),E(this,c),this._latlng=oe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:fs.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===Nt.distance){var w=Math.PI/180,C=this._mRadius/Nt.R/w,H=p.project([c+C,a]),q=p.project([c-C,a]),G=H.add(q).divideBy(2),ee=p.unproject(G).lat,ae=Math.acos((Math.cos(C*w)-Math.sin(c*w)*Math.sin(ee*w))/(Math.cos(c*w)*Math.cos(ee*w)))/w;(isNaN(ae)||ae===0)&&(ae=C/Math.cos(Math.PI/180*c)),this._point=G.subtract(p.getPixelOrigin()),this._radius=isNaN(ae)?0:G.x-p.project([ee,a-ae]).x,this._radiusY=G.y-H.y}else{var Te=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Te).x}this._updateBounds()}});function PR(a,c,p){return new Nm(a,c,p)}var Cr=fs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){E(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,_=ci,w,C,H=0,q=this._parts.length;H<q;H++)for(var G=this._parts[H],ee=1,ae=G.length;ee<ae;ee++){w=G[ee-1],C=G[ee];var Te=_(a,w,C,!0);Te<c&&(c=Te,p=_(a,w,C))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return T(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=oe(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new j,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=f(a),_=0,w=a.length;_<w;_++)p?(c[_]=oe(a[_]),this._bounds.extend(c[_])):c[_]=this._convertLatLngs(a[_]);return c},_project:function(){var a=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new X(a,a);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var _=a[0]instanceof ve,w=a.length,C,H;if(_){for(H=[],C=0;C<w;C++)H[C]=this._map.latLngToLayerPoint(a[C]),p.extend(H[C]);c.push(H)}else for(C=0;C<w;C++)this._projectLatlngs(a[C],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,_,w,C,H,q,G;for(p=0,w=0,C=this._rings.length;p<C;p++)for(G=this._rings[p],_=0,H=G.length;_<H-1;_++)q=xo(G[_],G[_+1],a,_,!0),q&&(c[w]=c[w]||[],c[w].push(q[0]),(q[1]!==G[_+1]||_===H-2)&&(c[w].push(q[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,_=a.length;p<_;p++)a[p]=wu(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,_,w,C,H,q,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,C=this._parts.length;p<C;p++)for(q=this._parts[p],_=0,H=q.length,w=H-1;_<H;w=_++)if(!(!c&&_===0)&&xu(a,q[w],q[_])<=G)return!0;return!1}});function CR(a,c){return new Cr(a,c)}Cr._flat=v;var Oa=Cr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Cr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof ve&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Cr.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new X(c,c);if(a=new ce(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,C;_<w;_++)C=Ia(this._rings[_],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,_,w,C,H,q,G,ee;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,G=this._parts.length;C<G;C++)for(p=this._parts[C],H=0,ee=p.length,q=ee-1;H<ee;q=H++)_=p[H],w=p[q],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(c=!c);return c||Cr.prototype._containsPoint.call(this,a,!0)}});function AR(a,c){return new Oa(a,c)}var Ar=Tt.extend({initialize:function(a,c){E(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=I(a)?a:a.features,p,_,w;if(c){for(p=0,_=c.length;p<_;p++)w=c[p],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var H=Jh(a,C);return H?(H.feature=nd(a),H.defaultOptions=H.options,this.resetStyle(H),C.onEachFeature&&C.onEachFeature(a,H),this.addLayer(H)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=r({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Jh(a,c){var p=a.type==="Feature"?a.geometry:a,_=p?p.coordinates:null,w=[],C=c&&c.pointToLayer,H=c&&c.coordsToLatLng||Dm,q,G,ee,ae;if(!_&&!p)return null;switch(p.type){case"Point":return q=H(_),g0(C,a,q,c);case"MultiPoint":for(ee=0,ae=_.length;ee<ae;ee++)q=H(_[ee]),w.push(g0(C,a,q,c));return new Tt(w);case"LineString":case"MultiLineString":return G=ed(_,p.type==="LineString"?0:1,H),new Cr(G,c);case"Polygon":case"MultiPolygon":return G=ed(_,p.type==="Polygon"?1:2,H),new Oa(G,c);case"GeometryCollection":for(ee=0,ae=p.geometries.length;ee<ae;ee++){var Te=Jh({geometry:p.geometries[ee],type:"Feature",properties:a.properties},c);Te&&w.push(Te)}return new Tt(w);case"FeatureCollection":for(ee=0,ae=p.features.length;ee<ae;ee++){var Ne=Jh(p.features[ee],c);Ne&&w.push(Ne)}return new Tt(w);default:throw new Error("Invalid GeoJSON object.")}}function g0(a,c,p,_){return a?a(c,p):new Yh(p,_&&_.markersInheritOptions&&_)}function Dm(a){return new ve(a[1],a[0],a[2])}function ed(a,c,p){for(var _=[],w=0,C=a.length,H;w<C;w++)H=c?ed(a[w],c-1,p):(p||Dm)(a[w]),_.push(H);return _}function Fm(a,c){return a=oe(a),a.alt!==void 0?[g(a.lng,c),g(a.lat,c),g(a.alt,c)]:[g(a.lng,c),g(a.lat,c)]}function td(a,c,p,_){for(var w=[],C=0,H=a.length;C<H;C++)w.push(c?td(a[C],f(a[C])?0:c-1,p,_):Fm(a[C],_));return!c&&p&&w.length>0&&w.push(w[0].slice()),w}function Ma(a,c){return a.feature?r({},a.feature,{geometry:c}):nd(c)}function nd(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Vm={toGeoJSON:function(a){return Ma(this,{type:"Point",coordinates:Fm(this.getLatLng(),a)})}};Yh.include(Vm),Nm.include(Vm),Xh.include(Vm),Cr.include({toGeoJSON:function(a){var c=!f(this._latlngs),p=td(this._latlngs,c?1:0,!1,a);return Ma(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Oa.include({toGeoJSON:function(a){var c=!f(this._latlngs),p=c&&!f(this._latlngs[0]),_=td(this._latlngs,p?2:c?1:0,!0,a);return c||(_=[_]),Ma(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),gt.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Ma(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var C=w.toGeoJSON(a);if(p)_.push(C.geometry);else{var H=nd(C);H.type==="FeatureCollection"?_.push.apply(_,H.features):_.push(H)}}}),p?Ma(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function _0(a,c){return new Ar(a,c)}var RR=_0,id=tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=xe(c),E(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Sr(this._image),this},bringToBack:function(){return this._map&&as(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=xe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Ve("img");if(Re(c,"leaflet-image-layer"),this._zoomAnimated&&Re(c,"leaflet-zoom-animated"),this.options.className&&Re(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onload=o(this.fire,this,"load"),c.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;$i(this._image,p,c)},_reset:function(){var a=this._image,c=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ie(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),LR=function(a,c,p){return new id(a,c,p)},y0=id.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Ve("video");if(Re(c,"leaflet-image-layer"),this._zoomAnimated&&Re(c,"leaflet-zoom-animated"),this.options.className&&Re(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onloadeddata=o(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),_=[],w=0;w<p.length;w++)_.push(p[w].src);this._url=p.length>0?_:[c.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var H=Ve("source");H.src=this._url[C],c.appendChild(H)}}});function OR(a,c,p){return new y0(a,c,p)}var v0=id.extend({_initImage:function(){var a=this._image=this._url;Re(a,"leaflet-image-layer"),this._zoomAnimated&&Re(a,"leaflet-zoom-animated"),this.options.className&&Re(a,this.options.className),a.onselectstart=m,a.onmousemove=m}});function MR(a,c,p){return new v0(a,c,p)}var Ki=tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof ve||I(a))?(this._latlng=oe(a),E(this,c)):(E(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(o(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=oe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Sr(this._container),this},bringToBack:function(){return this._map&&as(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Tt){c=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){c=p[_];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=M(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ie(this._container,a.add(p)):c=c.add(a).add(p);var _=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});De.include({_initOverlay:function(a,c,p,_){var w=c;return w instanceof a||(w=new a(_).setContent(c)),p&&w.setLatLng(p),w}}),tt.include({_initOverlay:function(a,c,p,_){var w=p;return w instanceof a?(E(w,_),w._source=this):(w=c&&!_?c:new a(_,this),w.setContent(p)),w}});var rd=Ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ki.prototype.openOn.call(this,a)},onAdd:function(a){Ki.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fs||this._source.on("preclick",ui))},onRemove:function(a){Ki.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fs||this._source.off("preclick",ui))},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Ve("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ve("div",a+"-content-wrapper",c);if(this._contentNode=Ve("div",a+"-content",p),cs(c),us(this._contentNode),Ee(c,"contextmenu",ui),this._tipContainer=Ve("div",a+"-tip-container",c),this._tip=Ve("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ve("a",a+"-close-button",c);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(_,"click",function(w){mt(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var _=a.offsetHeight,w=this.options.maxHeight,C="leaflet-popup-scrolled";w&&_>w?(c.height=w+"px",Re(a,C)):dt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ie(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(os(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,_=this._containerWidth,w=new X(this._containerLeft,-p-this._containerBottom);w._add(oi(this._container));var C=a.layerPointToContainerPoint(w),H=M(this.options.autoPanPadding),q=M(this.options.autoPanPaddingTopLeft||H),G=M(this.options.autoPanPaddingBottomRight||H),ee=a.getSize(),ae=0,Te=0;C.x+_+G.x>ee.x&&(ae=C.x+_-ee.x+G.x),C.x-ae-q.x<0&&(ae=C.x-q.x),C.y+p+G.y>ee.y&&(Te=C.y+p-ee.y+G.y),C.y-Te-q.y<0&&(Te=C.y-q.y),(ae||Te)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ae,Te]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),NR=function(a,c){return new rd(a,c)};De.mergeOptions({closePopupOnClick:!0}),De.include({openPopup:function(a,c,p){return this._initOverlay(rd,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),tt.include({bindPopup:function(a,c){return this._popup=this._initOverlay(rd,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Tt||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Hn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof fs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var sd=Ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ki.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ki.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,_=this._map,w=this._container,C=_.latLngToContainerPoint(_.getCenter()),H=_.layerPointToContainerPoint(a),q=this.options.direction,G=w.offsetWidth,ee=w.offsetHeight,ae=M(this.options.offset),Te=this._getAnchor();q==="top"?(c=G/2,p=ee):q==="bottom"?(c=G/2,p=0):q==="center"?(c=G/2,p=ee/2):q==="right"?(c=0,p=ee/2):q==="left"?(c=G,p=ee/2):H.x<C.x?(q="right",c=0,p=ee/2):(q="left",c=G+(ae.x+Te.x)*2,p=ee/2),a=a.subtract(M(c,p,!0)).add(ae).add(Te),dt(w,"leaflet-tooltip-right"),dt(w,"leaflet-tooltip-left"),dt(w,"leaflet-tooltip-top"),dt(w,"leaflet-tooltip-bottom"),Re(w,"leaflet-tooltip-"+q),Ie(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&xt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),DR=function(a,c){return new sd(a,c)};De.include({openTooltip:function(a,c,p){return this._initOverlay(sd,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),tt.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sd,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Tt||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ee(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ee(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,_;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(c)}});var w0=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(vo(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=M(p.bgPos);c.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function FR(a){return new w0(a)}qi.Default=Tu;var Su=tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){E(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),nt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Sr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof X?a:new X(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),_=0,w=c.length,C;_<w;_++)C=c[_].style.zIndex,c[_]!==this._container&&C&&(p=a(p,+C));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ge.ielt9){xt(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var C=Math.min(1,(a-w.loaded)/200);xt(w.el,C),C<1?c=!0:(w.active?p=!0:this._onOpaqueTile(w),w.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(z(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(nt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=c,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),m(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var _=c.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)nt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,_){var w=Math.floor(a/2),C=Math.floor(c/2),H=p-1,q=new X(+w,+C);q.z=+H;var G=this._tileCoordsToKey(q),ee=this._tiles[G];return ee&&ee.active?(ee.retain=!0,!0):(ee&&ee.loaded&&(ee.retain=!0),H>_?this._retainParent(w,C,H,_):!1)},_retainChildren:function(a,c,p,_){for(var w=2*a;w<2*a+2;w++)for(var C=2*c;C<2*c+2;C++){var H=new X(w,C);H.z=p+1;var q=this._tileCoordsToKey(H),G=this._tiles[q];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);p+1<_&&this._retainChildren(w,C,p+1,_)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,_){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var C=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||C)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var _=this._map.getZoomScale(p,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(c,p)).round();ge.any3d?$i(a.el,w,_):Ie(a.el,w)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],_).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],_).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],_).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),_=c.getZoomScale(p,this._tileZoom),w=c.project(a,this._tileZoom).floor(),C=c.getSize().divideBy(_*2);return new ce(w.subtract(C),w.add(C))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),C=w.getCenter(),H=[],q=this.options.keepBuffer,G=new ce(w.getBottomLeft().subtract([q,-q]),w.getTopRight().add([q,-q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ee in this._tiles){var ae=this._tiles[ee].coords;(ae.z!==this._tileZoom||!G.contains(new X(ae.x,ae.y)))&&(this._tiles[ee].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Te=w.min.y;Te<=w.max.y;Te++)for(var Ne=w.min.x;Ne<=w.max.x;Ne++){var xn=new X(Ne,Te);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var jt=this._tiles[this._tileCoordsToKey(xn)];jt?jt.current=!0:H.push(xn)}}if(H.sort(function(Pn,Da){return Pn.distanceTo(C)-Da.distanceTo(C)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hi=document.createDocumentFragment();for(Ne=0;Ne<H.length;Ne++)this._addTile(H[Ne],hi);this._level.el.appendChild(hi)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return xe(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),_=a.scaleBy(p),w=_.add(p),C=c.unproject(_,a.z),H=c.unproject(w,a.z);return[C,H]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new j(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new X(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(nt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Re(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=m,a.onmousemove=m,ge.ielt9&&this.options.opacity<1&&xt(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&N(o(this._tileReady,this,a,null,w)),Ie(w,p),this._tiles[_]={el:w,coords:a,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var _=this._tileCoordsToKey(a);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(xt(p.el,0),z(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Re(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ge.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new X(this._wrapX?d(a.x,this._wrapX):a.x,this._wrapY?d(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ce(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function VR(a){return new Su(a)}var Na=Su.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=E(this,c),c.detectRetina&&ge.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Ee(p,"load",o(this._tileOnLoad,this,c,p)),Ee(p,"error",o(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:ge.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return k(this._url,r(c,this.options))},_tileOnLoad:function(a,c){ge.ielt9?setTimeout(o(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var _=this.options.errorTileUrl;_&&c.getAttribute("src")!==_&&(c.src=_),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(a=c-a),a+_},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=m,c.onerror=m,!c.complete)){c.src=$;var p=this._tiles[a].coords;nt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",$),Su.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===$))return Su.prototype._tileReady.call(this,a,c,p)}});function x0(a,c){return new Na(a,c)}var E0=Na.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=r({},this.defaultWmsParams);for(var _ in c)_ in this.options||(p[_]=c[_]);c=E(this,c);var w=c.detectRetina&&ge.retina?2:1,C=this.getTileSize();p.width=C.x*w,p.height=C.y*w,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Na.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,_=me(p.project(c[0]),p.project(c[1])),w=_.min,C=_.max,H=(this._wmsVersion>=1.3&&this._crs===Pt?[w.y,w.x,C.y,C.x]:[w.x,w.y,C.x,C.y]).join(","),q=Na.prototype.getTileUrl.call(this,a);return q+b(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(a,c){return r(this.wmsParams,a),c||this.redraw(),this}});function zR(a,c){return new E0(a,c)}Na.WMS=E0,x0.wms=zR;var Rr=tt.extend({options:{padding:.1},initialize:function(a){E(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),C=_.multiplyBy(-p).add(w).subtract(this._map._getNewPixelOrigin(a,c));ge.any3d?$i(this._container,C,p):Ie(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ce(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),T0=Rr.extend({options:{tolerance:0},getEvents:function(){var a=Rr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ee(a,"mousemove",this._onMouseMove,this),Ee(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,nt(this._container),et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),_=ge.retina?2:1;Ie(c,a.min),c.width=_*p.x,c.height=_*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Rr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,_=c.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],_,w;for(w=0;w<c.length;w++){if(_=Number(c[w]),isNaN(_))return;p.push(_)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,_,w,C,H=a._parts,q=H.length,G=this._ctx;if(q){for(G.beginPath(),p=0;p<q;p++){for(_=0,w=H[p].length;_<w;_++)C=H[p][_],G[_?"lineTo":"moveTo"](C.x,C.y);c&&G.closePath()}this._fillStroke(G,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(p.save(),p.scale(1,w)),p.beginPath(),p.arc(c.x,c.y/w,_,0,Math.PI*2,!1),w!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,_,w=this._drawFirst;w;w=w.next)p=w.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(dt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,_,w=this._drawFirst;w;w=w.next)p=w.layer,p.options.interactive&&p._containsPoint(c)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Re(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,_=c.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,_=c.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function S0(a){return ge.canvas?new T0(a):null}var bu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),BR={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=bu("shape");Re(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=bu("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;nt(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(c||(c=a._stroke=bu("stroke")),w.appendChild(c),c.weight=_.weight+"px",c.color=_.color,c.opacity=_.opacity,_.dashArray?c.dashStyle=I(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=_.lineCap.replace("butt","flat"),c.joinstyle=_.lineJoin):c&&(w.removeChild(c),a._stroke=null),_.fill?(p||(p=a._fill=bu("fill")),w.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(w.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),_=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Sr(a._container)},_bringToBack:function(a){as(a._container)}},od=ge.vml?bu:vr,ku=Rr.extend({_initContainer:function(){this._container=od("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=od("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ie(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=od("path");a.options.className&&Re(c,a.options.className),a.options.interactive&&Re(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){nt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,es(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||p,w="a"+p+","+_+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+w+p*2+",0 "+w+-p*2+",0 ";this._setPath(a,C)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Sr(a._path)},_bringToBack:function(a){as(a._path)}});ge.vml&&ku.include(BR);function b0(a){return ge.svg||ge.vml?new ku(a):null}De.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&S0(a)||b0(a)}});var k0=Oa.extend({initialize:function(a,c){Oa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=xe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function jR(a,c){return new k0(a,c)}ku.create=od,ku.pointsToPath=es,Ar.geometryToLayer=Jh,Ar.coordsToLatLng=Dm,Ar.coordsToLatLngs=ed,Ar.latLngToCoords=Fm,Ar.latLngsToCoords=td,Ar.getFeature=Ma,Ar.asFeature=nd,De.mergeOptions({boxZoom:!0});var I0=$n.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),uu(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ee(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ce(this._point,this._startPoint),p=c.getSize();Ie(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(nt(this._box),dt(this._container,"leaflet-crosshair")),Pi(),cu(),et(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var c=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});De.addInitHook("addHandler","boxZoom",I0),De.mergeOptions({doubleClickZoom:!0});var P0=$n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),_=c.options.zoomDelta,w=a.originalEvent.shiftKey?p-_:p+_;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(a.containerPoint,w)}});De.addInitHook("addHandler","doubleClickZoom",P0),De.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var C0=$n.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ci(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=xe(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-c+p)%a+c-p,C=(_+c+p)%a-c-p,H=Math.abs(w+p)<Math.abs(C+p)?w:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(a){var c=this._map,p=c.options,_=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),_)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,H=p.easeLinearity,q=w.multiplyBy(H/C),G=q.distanceTo([0,0]),ee=Math.min(p.inertiaMaxSpeed,G),ae=q.multiplyBy(ee/G),Te=ee/(p.inertiaDeceleration*H),Ne=ae.multiplyBy(-Te/2).round();!Ne.x&&!Ne.y?c.fire("moveend"):(Ne=c._limitOffset(Ne,c.options.maxBounds),N(function(){c.panBy(Ne,{duration:Te,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});De.addInitHook("addHandler","dragging",C0),De.mergeOptions({keyboard:!0,keyboardPanDelta:80});var A0=$n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ee(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,_=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,_,w;for(_=0,w=p.left.length;_<w;_++)c[p.left[_]]=[-1*a,0];for(_=0,w=p.right.length;_<w;_++)c[p.right[_]]=[a,0];for(_=0,w=p.down.length;_<w;_++)c[p.down[_]]=[0,a];for(_=0,w=p.up.length;_<w;_++)c[p.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,_,w;for(_=0,w=p.zoomIn.length;_<w;_++)c[p.zoomIn[_]]=a;for(_=0,w=p.zoomOut.length;_<w;_++)c[p.zoomOut[_]]=-a},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,_;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[c],a.shiftKey&&(_=M(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(M(_),p.options.maxBounds)),p.options.worldCopyJump){var w=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(w)}else p.panBy(_)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Hn(a)}}});De.addInitHook("addHandler","keyboard",A0),De.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var R0=$n.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=$h(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),_),Hn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,C=p?Math.ceil(w/p)*p:w,H=a._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,H&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+H):a.setZoomAround(this._lastMousePos,c+H))}});De.addInitHook("addHandler","scrollWheelZoom",R0);var UR=600;De.mergeOptions({tapHold:ge.touchNative&&ge.safari&&ge.mobile,tapTolerance:15});var L0=$n.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new X(c.clientX,c.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",mt),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),UR),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){et(document,"touchend",mt),et(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new X(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});De.addInitHook("addHandler","tapHold",L0),De.mergeOptions({touchZoom:ge.touch,bounceAtZoomLimits:!0});var O0=$n.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),mt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]),w=p.distanceTo(_)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var C=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var H=o(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(H,this,!0),mt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});De.addInitHook("addHandler","touchZoom",O0),De.BoxZoom=I0,De.DoubleClickZoom=P0,De.Drag=C0,De.Keyboard=A0,De.ScrollWheelZoom=R0,De.TapHold=L0,De.TouchZoom=O0,n.Bounds=ce,n.Browser=ge,n.CRS=at,n.Canvas=T0,n.Circle=Nm,n.CircleMarker=Xh,n.Class=pe,n.Control=In,n.DivIcon=w0,n.DivOverlay=Ki,n.DomEvent=Wh,n.DomUtil=Uh,n.Draggable=Ci,n.Evented=ke,n.FeatureGroup=Tt,n.GeoJSON=Ar,n.GridLayer=Su,n.Handler=$n,n.Icon=qi,n.ImageOverlay=id,n.LatLng=ve,n.LatLngBounds=j,n.Layer=tt,n.LayerGroup=gt,n.LineUtil=R,n.Map=De,n.Marker=Yh,n.Mixin=wo,n.Path=fs,n.Point=X,n.PolyUtil=Aa,n.Polygon=Oa,n.Polyline=Cr,n.Popup=rd,n.PosAnimation=_u,n.Projection=se,n.Rectangle=k0,n.Renderer=Rr,n.SVG=ku,n.SVGOverlay=v0,n.TileLayer=Na,n.Tooltip=sd,n.Transformation=jn,n.Util=D,n.VideoOverlay=y0,n.bind=o,n.bounds=me,n.canvas=S0,n.circle=PR,n.circleMarker=IR,n.control=wn,n.divIcon=FR,n.extend=r,n.featureGroup=La,n.geoJSON=_0,n.geoJson=RR,n.gridLayer=VR,n.icon=bR,n.imageOverlay=LR,n.latLng=oe,n.latLngBounds=xe,n.layerGroup=ds,n.map=Sa,n.marker=kR,n.point=M,n.polygon=AR,n.polyline=CR,n.popup=NR,n.rectangle=jR,n.setOptions=E,n.stamp=u,n.svg=b0,n.svgOverlay=MR,n.tileLayer=x0,n.tooltip=DR,n.transformation=Si,n.version=i,n.videoOverlay=OR;var HR=window.L;n.noConflict=function(){return window.L=HR,this},window.L=n})})(Py,Py.exports);var g5=Py.exports;const ju=Op(g5);function gA(t,e){return function(){return t.apply(e,arguments)}}const{toString:_5}=Object.prototype,{getPrototypeOf:Yw}=Object,Tm=(t=>e=>{const n=_5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hi=t=>(t=t.toLowerCase(),e=>Tm(e)===t),Sm=t=>e=>typeof e===t,{isArray:Gl}=Array,rh=Sm("undefined");function y5(t){return t!==null&&!rh(t)&&t.constructor!==null&&!rh(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _A=Hi("ArrayBuffer");function v5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_A(t.buffer),e}const w5=Sm("string"),Xn=Sm("function"),yA=Sm("number"),bm=t=>t!==null&&typeof t=="object",x5=t=>t===!0||t===!1,Tf=t=>{if(Tm(t)!=="object")return!1;const e=Yw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},E5=Hi("Date"),T5=Hi("File"),S5=Hi("Blob"),b5=Hi("FileList"),k5=t=>bm(t)&&Xn(t.pipe),I5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((e=Tm(t))==="formdata"||e==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},P5=Hi("URLSearchParams"),[C5,A5,R5,L5]=["ReadableStream","Request","Response","Headers"].map(Hi),O5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ph(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Gl(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(i=0;i<o;i++)l=s[i],e.call(null,t[l],l,t)}}function vA(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wA=t=>!rh(t)&&t!==Fo;function Cy(){const{caseless:t}=wA(this)&&this||{},e={},n=(i,r)=>{const s=t&&vA(e,r)||r;Tf(e[s])&&Tf(i)?e[s]=Cy(e[s],i):Tf(i)?e[s]=Cy({},i):Gl(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ph(arguments[i],n);return e}const M5=(t,e,n,{allOwnKeys:i}={})=>(Ph(e,(r,s)=>{n&&Xn(r)?t[s]=gA(r,n):t[s]=r},{allOwnKeys:i}),t),N5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),D5=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},F5=(t,e,n,i)=>{let r,s,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Yw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},V5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},z5=t=>{if(!t)return null;if(Gl(t))return t;let e=t.length;if(!yA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},B5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yw(Uint8Array)),j5=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},U5=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},H5=Hi("HTMLFormElement"),$5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),MS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),W5=Hi("RegExp"),xA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ph(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},q5=t=>{xA(t,(e,n)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Xn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},K5=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Gl(t)?i(t):i(String(t).split(e)),n},G5=()=>{},Z5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Q5(t){return!!(t&&Xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Y5=t=>{const e=new Array(10),n=(i,r)=>{if(bm(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Gl(i)?[]:{};return Ph(i,(o,l)=>{const u=n(o,r+1);!rh(u)&&(s[l]=u)}),e[r]=void 0,s}}return i};return n(t,0)},X5=Hi("AsyncFunction"),J5=t=>t&&(bm(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),EA=((t,e)=>t?setImmediate:e?((n,i)=>(Fo.addEventListener("message",({source:r,data:s})=>{r===Fo&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Fo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xn(Fo.postMessage)),e9=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||EA,Y={isArray:Gl,isArrayBuffer:_A,isBuffer:y5,isFormData:I5,isArrayBufferView:v5,isString:w5,isNumber:yA,isBoolean:x5,isObject:bm,isPlainObject:Tf,isReadableStream:C5,isRequest:A5,isResponse:R5,isHeaders:L5,isUndefined:rh,isDate:E5,isFile:T5,isBlob:S5,isRegExp:W5,isFunction:Xn,isStream:k5,isURLSearchParams:P5,isTypedArray:B5,isFileList:b5,forEach:Ph,merge:Cy,extend:M5,trim:O5,stripBOM:N5,inherits:D5,toFlatObject:F5,kindOf:Tm,kindOfTest:Hi,endsWith:V5,toArray:z5,forEachEntry:j5,matchAll:U5,isHTMLForm:H5,hasOwnProperty:MS,hasOwnProp:MS,reduceDescriptors:xA,freezeMethods:q5,toObjectSet:K5,toCamelCase:$5,noop:G5,toFiniteNumber:Z5,findKey:vA,global:Fo,isContextDefined:wA,isSpecCompliantForm:Q5,toJSONObject:Y5,isAsyncFn:X5,isThenable:J5,setImmediate:EA,asap:e9};function Oe(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Y.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const TA=Oe.prototype,SA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{SA[t]={value:t}});Object.defineProperties(Oe,SA);Object.defineProperty(TA,"isAxiosError",{value:!0});Oe.from=(t,e,n,i,r,s)=>{const o=Object.create(TA);return Y.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Oe.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const t9=null;function Ay(t){return Y.isPlainObject(t)||Y.isArray(t)}function bA(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function NS(t,e,n){return t?t.concat(e).map(function(r,s){return r=bA(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function n9(t){return Y.isArray(t)&&!t.some(Ay)}const i9=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function km(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,b){return!Y.isUndefined(b[E])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(r))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(Y.isDate(x))return x.toISOString();if(!u&&Y.isBlob(x))throw new Oe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(x)||Y.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,E,b){let S=x;if(x&&!b&&typeof x=="object"){if(Y.endsWith(E,"{}"))E=i?E:E.slice(0,-2),x=JSON.stringify(x);else if(Y.isArray(x)&&n9(x)||(Y.isFileList(x)||Y.endsWith(E,"[]"))&&(S=Y.toArray(x)))return E=bA(E),S.forEach(function(I,B){!(Y.isUndefined(I)||I===null)&&e.append(o===!0?NS([E],B,s):o===null?E:E+"[]",h(I))}),!1}return Ay(x)?!0:(e.append(NS(b,E,s),h(x)),!1)}const m=[],g=Object.assign(i9,{defaultVisitor:d,convertValue:h,isVisitable:Ay});function y(x,E){if(!Y.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(x),Y.forEach(x,function(S,k){(!(Y.isUndefined(S)||S===null)&&r.call(e,S,Y.isString(k)?k.trim():k,E,g))===!0&&y(S,E?E.concat(k):[k])}),m.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return y(t),e}function DS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Xw(t,e){this._pairs=[],t&&km(t,this,e)}const kA=Xw.prototype;kA.append=function(e,n){this._pairs.push([e,n])};kA.toString=function(e){const n=e?function(i){return e.call(this,i,DS)}:DS;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function r9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IA(t,e,n){if(!e)return t;const i=n&&n.encode||r9;Y.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Y.isURLSearchParams(e)?e.toString():new Xw(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class FS{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(i){i!==null&&e(i)})}}const PA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},s9=typeof URLSearchParams<"u"?URLSearchParams:Xw,o9=typeof FormData<"u"?FormData:null,a9=typeof Blob<"u"?Blob:null,l9={isBrowser:!0,classes:{URLSearchParams:s9,FormData:o9,Blob:a9},protocols:["http","https","file","blob","url","data"]},Jw=typeof window<"u"&&typeof document<"u",Ry=typeof navigator=="object"&&navigator||void 0,u9=Jw&&(!Ry||["ReactNative","NativeScript","NS"].indexOf(Ry.product)<0),c9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h9=Jw&&window.location.href||"http://localhost",d9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jw,hasStandardBrowserEnv:u9,hasStandardBrowserWebWorkerEnv:c9,navigator:Ry,origin:h9},Symbol.toStringTag,{value:"Module"})),cn={...d9,...l9};function f9(t,e){return km(t,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return cn.isNode&&Y.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function p9(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m9(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function CA(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&Y.isArray(r)?r.length:o,u?(Y.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!l):((!r[o]||!Y.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&Y.isArray(r[o])&&(r[o]=m9(r[o])),!l)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(i,r)=>{e(p9(i),r,n,0)}),n}return null}function g9(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ch={transitional:PA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return r?JSON.stringify(CA(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return f9(e,this.formSerializer).toString();if((l=Y.isFileList(e))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return km(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),g9(e)):e}],transformResponse:[function(e){const n=this.transitional||Ch.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Oe.from(l,Oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{Ch.headers[t]={}});const _9=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y9=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&_9[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},VS=Symbol("internals");function Uu(t){return t&&String(t).trim().toLowerCase()}function Sf(t){return t===!1||t==null?t:Y.isArray(t)?t.map(Sf):String(t)}function v9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const w9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fg(t,e,n,i,r){if(Y.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Y.isString(e)){if(Y.isString(i))return e.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(e)}}function x9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function E9(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Vn=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(l,u,h){const d=Uu(u);if(!d)throw new Error("header name must be a non-empty string");const m=Y.findKey(r,d);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||u]=Sf(l))}const o=(l,u)=>Y.forEach(l,(h,d)=>s(h,d,u));if(Y.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Y.isString(e)&&(e=e.trim())&&!w9(e))o(y9(e),n);else if(Y.isHeaders(e))for(const[l,u]of e.entries())s(u,l,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Uu(e),e){const i=Y.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return v9(r);if(Y.isFunction(n))return n.call(this,r,i);if(Y.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Uu(e),e){const i=Y.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Fg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Uu(o),o){const l=Y.findKey(i,o);l&&(!n||Fg(i,i[l],l,n))&&(delete i[l],r=!0)}}return Y.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Fg(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Y.forEach(this,(r,s)=>{const o=Y.findKey(i,s);if(o){n[o]=Sf(r),delete n[s];return}const l=e?x9(s):String(s).trim();l!==s&&delete n[s],n[l]=Sf(r),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Y.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[VS]=this[VS]={accessors:{}}).accessors,r=this.prototype;function s(o){const l=Uu(o);i[l]||(E9(r,o),i[l]=!0)}return Y.isArray(e)?e.forEach(s):s(e),this}};Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Y.freezeMethods(Vn);function Vg(t,e){const n=this||Ch,i=e||n,r=Vn.from(i.headers);let s=i.data;return Y.forEach(t,function(l){s=l.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function AA(t){return!!(t&&t.__CANCEL__)}function Zl(t,e,n){Oe.call(this,t??"canceled",Oe.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Zl,Oe,{__CANCEL__:!0});function RA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function T9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function S9(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),d=i[s];o||(o=h),n[r]=u,i[r]=h;let m=s,g=0;for(;m!==r;)g+=n[m++],m=m%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),h-o<e)return;const y=d&&h-d;return y?Math.round(g*1e3/y):void 0}}function b9(t,e){let n=0,i=1e3/e,r,s;const o=(h,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,h)};return[(...h)=>{const d=Date.now(),m=d-n;m>=i?o(h,d):(r=h,s||(s=setTimeout(()=>{s=null,o(r)},i-m)))},()=>r&&o(r)]}const Cp=(t,e,n=3)=>{let i=0;const r=S9(50,250);return b9(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-i,h=r(u),d=o<=l;i=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},zS=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},BS=t=>(...e)=>Y.asap(()=>t(...e)),k9=cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,I9=cn.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Y.isString(i)&&o.push("path="+i),Y.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function P9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function C9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function LA(t,e,n){let i=!P9(e);return t&&(i||n==!1)?C9(t,e):e}const jS=t=>t instanceof Vn?{...t}:t;function ta(t,e){e=e||{};const n={};function i(h,d,m,g){return Y.isPlainObject(h)&&Y.isPlainObject(d)?Y.merge.call({caseless:g},h,d):Y.isPlainObject(d)?Y.merge({},d):Y.isArray(d)?d.slice():d}function r(h,d,m,g){if(Y.isUndefined(d)){if(!Y.isUndefined(h))return i(void 0,h,m,g)}else return i(h,d,m,g)}function s(h,d){if(!Y.isUndefined(d))return i(void 0,d)}function o(h,d){if(Y.isUndefined(d)){if(!Y.isUndefined(h))return i(void 0,h)}else return i(void 0,d)}function l(h,d,m){if(m in e)return i(h,d);if(m in t)return i(void 0,h)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,m)=>r(jS(h),jS(d),m,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(d){const m=u[d]||r,g=m(t[d],e[d],d);Y.isUndefined(g)&&m!==l||(n[d]=g)}),n}const OA=t=>{const e=ta({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Vn.from(o),e.url=IA(LA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Y.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[h,...d]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...d].join("; "))}}if(cn.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(e)),i||i!==!1&&k9(e.url))){const h=r&&s&&I9.read(s);h&&o.set(r,h)}return e},A9=typeof XMLHttpRequest<"u",R9=A9&&function(t){return new Promise(function(n,i){const r=OA(t);let s=r.data;const o=Vn.from(r.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=r,d,m,g,y,x;function E(){y&&y(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function S(){if(!b)return;const I=Vn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),$={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:I,config:t,request:b};RA(function(A){n(A),E()},function(A){i(A),E()},$),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(i(new Oe("Request aborted",Oe.ECONNABORTED,t,b)),b=null)},b.onerror=function(){i(new Oe("Network Error",Oe.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let B=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const $=r.transitional||PA;r.timeoutErrorMessage&&(B=r.timeoutErrorMessage),i(new Oe(B,$.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&Y.forEach(o.toJSON(),function(B,$){b.setRequestHeader($,B)}),Y.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),l&&l!=="json"&&(b.responseType=r.responseType),h&&([g,x]=Cp(h,!0),b.addEventListener("progress",g)),u&&b.upload&&([m,y]=Cp(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(d=I=>{b&&(i(!I||I.type?new Zl(null,t,b):I),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const k=T9(r.url);if(k&&cn.protocols.indexOf(k)===-1){i(new Oe("Unsupported protocol "+k+":",Oe.ERR_BAD_REQUEST,t));return}b.send(s||null)})},L9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(h){if(!r){r=!0,l();const d=h instanceof Error?h:this.reason;i.abort(d instanceof Oe?d:new Zl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),t=null)};t.forEach(h=>h.addEventListener("abort",s));const{signal:u}=i;return u.unsubscribe=()=>Y.asap(l),u}},O9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},M9=async function*(t,e){for await(const n of N9(t))yield*O9(n,e)},N9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},US=(t,e,n,i)=>{const r=M9(t,e);let s=0,o,l=u=>{o||(o=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await r.next();if(h){l(),u.close();return}let m=d.byteLength;if(n){let g=s+=m;n(g)}u.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(u){return l(u),r.return()}},{highWaterMark:2})},Im=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",MA=Im&&typeof ReadableStream=="function",D9=Im&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),NA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},F9=MA&&NA(()=>{let t=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),HS=64*1024,Ly=MA&&NA(()=>Y.isReadableStream(new Response("").body)),Ap={stream:Ly&&(t=>t.body)};Im&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ap[e]&&(Ap[e]=Y.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,i)})})})(new Response);const V9=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(cn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await D9(t)).byteLength},z9=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??V9(e)},B9=Im&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:d,withCredentials:m="same-origin",fetchOptions:g}=OA(t);h=h?(h+"").toLowerCase():"text";let y=L9([r,s&&s.toAbortSignal()],o),x;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(u&&F9&&n!=="get"&&n!=="head"&&(b=await z9(d,i))!==0){let $=new Request(e,{method:"POST",body:i,duplex:"half"}),U;if(Y.isFormData(i)&&(U=$.headers.get("content-type"))&&d.setContentType(U),$.body){const[A,P]=zS(b,Cp(BS(u)));i=US($.body,HS,A,P)}}Y.isString(m)||(m=m?"include":"omit");const S="credentials"in Request.prototype;x=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:S?m:void 0});let k=await fetch(x);const I=Ly&&(h==="stream"||h==="response");if(Ly&&(l||I&&E)){const $={};["status","statusText","headers"].forEach(O=>{$[O]=k[O]});const U=Y.toFiniteNumber(k.headers.get("content-length")),[A,P]=l&&zS(U,Cp(BS(l),!0))||[];k=new Response(US(k.body,HS,A,()=>{P&&P(),E&&E()}),$)}h=h||"text";let B=await Ap[Y.findKey(Ap,h)||"text"](k,t);return!I&&E&&E(),await new Promise(($,U)=>{RA($,U,{data:B,headers:Vn.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:x})})}catch(S){throw E&&E(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,t,x),{cause:S.cause||S}):Oe.from(S,S&&S.code,t,x)}}),Oy={http:t9,xhr:R9,fetch:B9};Y.forEach(Oy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $S=t=>`- ${t}`,j9=t=>Y.isFunction(t)||t===null||t===!1,DA={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!j9(n)&&(i=Oy[(o=String(n)).toLowerCase()],i===void 0))throw new Oe(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map($S).join(`
`):" "+$S(s[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Oy};function zg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zl(null,t)}function WS(t){return zg(t),t.headers=Vn.from(t.headers),t.data=Vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),DA.getAdapter(t.adapter||Ch.adapter)(t).then(function(i){return zg(t),i.data=Vg.call(t,t.transformResponse,i),i.headers=Vn.from(i.headers),i},function(i){return AA(i)||(zg(t),i&&i.response&&(i.response.data=Vg.call(t,t.transformResponse,i.response),i.response.headers=Vn.from(i.response.headers))),Promise.reject(i)})}const FA="1.8.4",Pm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const qS={};Pm.transitional=function(e,n,i){function r(s,o){return"[Axios v"+FA+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,l)=>{if(e===!1)throw new Oe(r(o," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!qS[o]&&(qS[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Pm.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function U9(t,e,n){if(typeof t!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new Oe("option "+s+" must be "+u,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+s,Oe.ERR_BAD_OPTION)}}const bf={assertOptions:U9,validators:Pm},Qi=bf.validators;let Uo=class{constructor(e){this.defaults=e,this.interceptors={request:new FS,response:new FS}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ta(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&bf.assertOptions(i,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),r!=null&&(Y.isFunction(r)?n.paramsSerializer={serialize:r}:bf.assertOptions(r,{encode:Qi.function,serialize:Qi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bf.assertOptions(n,{baseUrl:Qi.spelling("baseURL"),withXsrfToken:Qi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Y.merge(s.common,s[n.method]);s&&Y.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=Vn.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(u=u&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let d,m=0,g;if(!u){const x=[WS.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,h),g=x.length,d=Promise.resolve(n);m<g;)d=d.then(x[m++],x[m++]);return d}g=l.length;let y=n;for(m=0;m<g;){const x=l[m++],E=l[m++];try{y=x(y)}catch(b){E.call(this,b);break}}try{d=WS.call(this,y)}catch(x){return Promise.reject(x)}for(m=0,g=h.length;m<g;)d=d.then(h[m++],h[m++]);return d}getUri(e){e=ta(this.defaults,e);const n=LA(e.baseURL,e.url,e.allowAbsoluteUrls);return IA(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(n,i){return this.request(ta(i||{},{method:e,url:n,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,l){return this.request(ta(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Uo.prototype[e]=n(),Uo.prototype[e+"Form"]=n(!0)});let H9=class VA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(l=>{i.subscribe(l),s=l}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,l){i.reason||(i.reason=new Zl(s,o,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new VA(function(r){e=r}),cancel:e}}};function $9(t){return function(n){return t.apply(null,n)}}function W9(t){return Y.isObject(t)&&t.isAxiosError===!0}const My={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(My).forEach(([t,e])=>{My[e]=t});function zA(t){const e=new Uo(t),n=gA(Uo.prototype.request,e);return Y.extend(n,Uo.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return zA(ta(t,r))},n}const It=zA(Ch);It.Axios=Uo;It.CanceledError=Zl;It.CancelToken=H9;It.isCancel=AA;It.VERSION=FA;It.toFormData=km;It.AxiosError=Oe;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=$9;It.isAxiosError=W9;It.mergeConfig=ta;It.AxiosHeaders=Vn;It.formToJSON=t=>CA(Y.isHTMLForm(t)?new FormData(t):t);It.getAdapter=DA.getAdapter;It.HttpStatusCode=My;It.default=It;const{Axios:X7,AxiosError:J7,CanceledError:eq,isCancel:tq,CancelToken:nq,VERSION:iq,all:rq,Cancel:sq,isAxiosError:oq,spread:aq,toFormData:lq,AxiosHeaders:uq,HttpStatusCode:cq,formToJSON:hq,getAdapter:dq,mergeConfig:fq}=It,q9="b93a76ecb4b0439dbfe9e64c3c6aff07",K9="https://api.opencagedata.com/geocode/v1/json",G9=t=>{const[e,n]=K.useState([]),[i,r]=K.useState(!1),[s,o]=K.useState(null),l=K.useRef([]);return K.useEffect(()=>{if(console.log("useGeoCoding useEffect triggered with addresses:",t),!(t.length!==l.current.length||t.some((d,m)=>d!==l.current[m]))){console.log("Addresses not changed, skipping geocoding.");return}if(l.current=t,!t||t.length===0){n([]),console.log("No addresses provided, resetting coordinates.");return}(async()=>{var m;r(!0),o(null);const d=[];for(const g of t)try{console.log(`Checking DB for geocode for address: ${g}`);const y=await a3(g);if(y)console.log(`Geocode found in DB for address: ${g}`,y),d.push({lat:y.latitude,lng:y.longitude});else{console.log(`Geocode not found in DB for address: ${g}, fetching from API`);try{const x=await It.get(K9,{params:{q:g,key:q9}});if(x.data.results&&x.data.results.length>0){const E=x.data.results[0].geometry,b={lat:E.lat,lng:E.lng};d.push(b),await l3(g,b.lat,b.lng),console.log(`Geocode fetched and stored for address: ${g}`,b)}else d.push(null),console.log(`No geocode found for address: ${g} from API`)}catch(x){((m=x.response)==null?void 0:m.status)===402?(o("Erreur de gocodage: Limite d'utilisation de l'API atteinte (402)"),console.error("Geocoding API 402 error:",x.message)):(o("Erreur lors du gocodage"),console.error("Geocoding API error:",x.message,x)),d.push(null)}}}catch(y){o("Erreur lors de la rcupration du gocodage depuis la base de donnes"),d.push(null),console.error("Geocoding DB error:",y.message)}n(d),r(!1),console.log("useGeoCoding useEffect finished, coordinates updated:",d)})()},[t]),{coordinates:e,isLoading:i,error:s}},Z9=({tickets:t})=>{const[e,n]=K.useState(null),i=K.useRef(null),r=K.useRef(null),[s,o]=K.useState([]),l=K.useMemo(()=>t==null?void 0:t.map(h=>h.adresse).filter(Boolean),[t]),{coordinates:u}=G9(l);return K.useEffect(()=>{const h=ju.map("map").setView([46.2276,2.2137],6);return ju.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(h),n(h),i.current=h,r.current=ju.layerGroup().addTo(h),console.log("Map initialized:",i.current),()=>{h.remove()}},[]),K.useEffect(()=>{if(!i.current||!r.current){console.log("Map not initialized yet.");return}console.log("Tickets received in InteractiveMap:",t),console.log("Fetched Coordinates in InteractiveMap:",u),r.current.clearLayers();let h=[];t&&u?t.forEach((d,m)=>{if(d){const g=d.adresse,y=u[m];if(g&&y&&y.lat!=null&&y.lng!=null){const{lat:x,lng:E}=y;console.log(`Adding marker for Ticket ID: ${d.id} at ${x}, ${E}`),console.log("Latitude:",x,"Longitude:",E);try{const b=ju.marker([x,E]).addTo(r.current).bindPopup(`<b>${d.raisonSociale}</b><br>Ticket SAP: ${d.numeroSAP}`);h.push(b)}catch(b){console.error("Error adding marker:",b)}}else console.log(`No address or coordinates for Ticket ID: ${d.id}`)}}):console.log("No tickets or coordinates to display."),o(h)},[t,u]),K.useEffect(()=>{if(i.current&&s.length>0){const h=ju.featureGroup(s);i.current.fitBounds(h.getBounds(),{padding:[50,50]})}},[s]),V.jsx("div",{id:"map",style:{height:"500px",width:"100%"}})},KS=()=>{const[t,e]=K.useState([]),[n,i]=K.useState([]),[r,s]=K.useState(null),[o,l]=K.useState({}),{userSectors:u,loadingSectors:h,errorSectors:d}=Dw(),[m,g]=K.useState([]);K.useEffect(()=>{(async()=>{const b=await ym();i(b)})()},[]),K.useEffect(()=>{if(u){const E=n.filter(b=>u.includes(b.id));g(E)}else g(n)},[n,u]),K.useEffect(()=>{const E=async()=>{let b=[],S={};const k=u?m:n;for(const I of k)try{const B=await Nw(I.id);b=[...b,...B],S[I.id]={enCoursTickets:B.filter($=>$.status==="En cours").length,aCloturerTickets:B.filter($=>$.status===" clturer").length,totalTickets:B.length}}catch(B){console.error(`Error fetching tickets for sector ${I.id}:`,B),S[I.id]={enCoursTickets:0,aCloturerTickets:0,totalTickets:0}}e(b),l(S)};n.length>0&&E()},[n,m,u]);const y=E=>{s(E.target.value)},x=r?t.filter(E=>E.secteur===r):t;return V.jsxs("div",{className:"container mx-auto py-8 fade-in",children:[V.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:[V.jsx(x3,{className:"icon"})," Tableau de bord"]}),V.jsx("div",{className:"mb-6",children:V.jsxs("div",{className:"form-control w-full max-w-xs",children:[V.jsx("label",{className:"label",children:V.jsxs("span",{className:"label-text text-white",children:[V.jsx(w3,{className:"icon"})," Secteur"]})}),V.jsxs("select",{className:"select select-bordered",value:r||"",onChange:y,children:[V.jsx("option",{disabled:!0,value:"",children:"Tous les secteurs"}),m.map(E=>V.jsx("option",{value:E.id,children:E.id},E.id))]})]})}),V.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(E=>{var b,S,k;return V.jsx(m5,{sectorName:E.id,enCoursTickets:((b=o[E.id])==null?void 0:b.enCoursTickets)||0,aCloturerTickets:((S=o[E.id])==null?void 0:S.aCloturerTickets)||0,totalTickets:((k=o[E.id])==null?void 0:k.totalTickets)||0},E.id)})}),V.jsxs("div",{className:"mt-8",children:[V.jsxs("h3",{className:"text-xl font-bold text-white mb-2",children:[V.jsx(E3,{className:"icon"})," Carte des tickets ouverts"]}),V.jsx(Z9,{tickets:x})]})]})},BA=({secteur:t,onTicketSelect:e})=>{const[n,i]=K.useState([]),[r,s]=K.useState(!0),[o,l]=K.useState(null);if(K.useEffect(()=>{(async()=>{if(s(!0),l(null),t)try{const m=await bC(t);i(m),l(null)}catch(m){l(`Erreur lors de la rcupration des tickets: ${m.message}`),i([])}finally{s(!1)}else i([]),s(!1)})()},[t]),r)return V.jsx("span",{className:"loading loading-dots loading-lg"});if(o)return V.jsxs("div",{className:"alert alert-error",children:[V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),V.jsx("span",{children:o})]});const u=d=>{switch(d){case"Ouvert":return"bg-gray-400 text-white";case"En cours":return"bg-orange-500 text-white";case"A Clture":return"bg-red-500 text-white";case"Termine":return"bg-green-500 text-white";default:return"bg-gray-400 text-white"}},h=d=>{switch(d){case"Ouvert":return"Ouvert";case"En cours":return"En cours";case"A Clture":return"A Clture";case"Termine":return"Termine";default:return d}};return V.jsx("div",{children:n.length===0&&t&&!r&&!o?V.jsx("p",{children:"Aucun ticket disponible pour le secteur slectionn."}):V.jsx("div",{children:n.map(d=>V.jsx("div",{onClick:()=>e(d),className:"card w-full bg-base-100 shadow-xl cursor-pointer mb-4",children:V.jsxs("div",{className:"card-body",children:[V.jsx("h2",{className:"card-title",children:d.raisonSociale}),V.jsxs("p",{children:[V.jsx("b",{children:"Numro SAP:"})," ",d.numeroSAP]}),V.jsxs("p",{children:[V.jsx("b",{children:"Code Client:"})," ",d.codeClient]}),V.jsxs("p",{children:[V.jsx("b",{children:"Adresse:"})," ",d.adresse]}),V.jsxs("p",{children:[V.jsx("b",{children:"Tlphone:"})," ",d.telephone]}),V.jsxs("p",{children:[V.jsx("b",{children:"Date:"})," ",d.date]}),V.jsx("div",{className:"card-actions justify-end",children:V.jsx("div",{className:`badge ${u(d.statut)}`,children:h(d.statut)})})]})},d.id))})})},Bg="AIzaSyAZqeCNWSWu1D4iFthrCW7sx9Ky2jlqoUg",GS="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",Q9=t=>{const[e,n]=K.useState(null),[i,r]=K.useState(!1),[s,o]=K.useState(null);return K.useEffect(()=>{if(!t){n(null);return}(async()=>{r(!0),o(null);try{console.log("Text to summarize sent to Gemini:",t),console.log("Gemini API Key:",Bg);const h=`Rsume ce texte: ${t}`,d=JSON.stringify({contents:[{parts:[{text:h}]}]}),m=await fetch(`${GS}?key=${Bg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(!m.ok){const y=await m.json();console.error("Gemini summary error (fetch error):",y),o(`Erreur lors de la requte: ${m.status} - ${m.statusText}`),n(null),r(!1);return}const g=await m.json();if(g.candidates&&g.candidates.length>0){const y=g.candidates[0].content.parts[0].text;n(y),console.log("Gemini summary generated successfully:",y)}else o("Impossible de gnrer un rsum: Rponse inattendue de l'API"),n(null),console.error("Gemini API response unexpected:",g)}catch(h){o(`Erreur lors de la gnration du rsum: ${h.message}`),n(null),console.error("Gemini summary error:",h)}finally{r(!1)}})()},[t]),{summary:e,isLoading:i,error:s,summarizeTicket:async u=>{try{const h=`Utilise la recherche internet pour trouver une solution au problme suivant et rpond en format Markdown: ${u}`,d=JSON.stringify({contents:[{parts:[{text:h}]}]}),m=await fetch(`${GS}?key=${Bg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(!m.ok)return console.error("Gemini solution error (fetch error):",m.status,m.statusText),null;const g=await m.json();return g.candidates&&g.candidates.length>0?g.candidates[0].content.parts[0].text:(console.error("Gemini API response unexpected:",g),null)}catch(h){return console.error("Gemini solution error:",h),null}}}};function Y9(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const X9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,J9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eH={};function ZS(t,e){return(eH.jsx?J9:X9).test(t)}const tH=/[ \t\n\f\r]/g;function nH(t){return typeof t=="object"?t.type==="text"?QS(t.value):!1:QS(t)}function QS(t){return t.replace(tH,"")===""}class Ah{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Ah.prototype.normal={};Ah.prototype.property={};Ah.prototype.space=void 0;function jA(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new Ah(n,i,e)}function Ny(t){return t.toLowerCase()}class Bn{constructor(e,n){this.attribute=n,this.property=e}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let iH=0;const Le=ca(),Rt=ca(),UA=ca(),re=ca(),rt=ca(),gl=ca(),Wn=ca();function ca(){return 2**++iH}const Dy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:Rt,commaOrSpaceSeparated:Wn,commaSeparated:gl,number:re,overloadedBoolean:UA,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),jg=Object.keys(Dy);class e0 extends Bn{constructor(e,n,i,r){let s=-1;if(super(e,n),YS(this,"space",r),typeof i=="number")for(;++s<jg.length;){const o=jg[s];YS(this,jg[s],(i&Dy[o])===Dy[o])}}}e0.prototype.defined=!0;function YS(t,e,n){n&&(t[e]=n)}function Ql(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const s=new e0(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[Ny(i)]=i,n[Ny(s.attribute)]=i}return new Ah(e,n,t.space)}const HA=Ql({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:rt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:re,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:rt,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:Rt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $A(t,e){return e in t?t[e]:e}function WA(t,e){return $A(t,e.toLowerCase())}const rH=Ql({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gl,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:rt,autoFocus:Le,autoPlay:Le,blocking:rt,capture:null,charSet:null,checked:Le,cite:null,className:rt,cols:re,colSpan:null,content:null,contentEditable:Rt,controls:Le,controlsList:rt,coords:re|gl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:UA,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:rt,height:re,hidden:Le,high:re,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:rt,itemRef:rt,itemScope:Le,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:re,pattern:null,ping:rt,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:rt,required:Le,reversed:Le,rows:re,rowSpan:re,sandbox:rt,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:Rt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:WA}),sH=Ql({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gl,g2:gl,glyphName:gl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$A}),qA=Ql({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),KA=Ql({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:WA}),GA=Ql({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),oH={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aH=/[A-Z]/g,XS=/-[a-z]/g,lH=/^data[-\w.:]+$/i;function uH(t,e){const n=Ny(e);let i=e,r=Bn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lH.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(XS,hH);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!XS.test(s)){let o=s.replace(aH,cH);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=e0}return new r(i,e)}function cH(t){return"-"+t.toLowerCase()}function hH(t){return t.charAt(1).toUpperCase()}const dH=jA([HA,rH,qA,KA,GA],"html"),t0=jA([HA,sH,qA,KA,GA],"svg");function fH(t){return t.join(" ").trim()}var n0={},JS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pH=/\n/g,mH=/^\s*/,gH=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_H=/^:\s*/,yH=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vH=/^[;\s]*/,wH=/^\s+|\s+$/g,xH=`
`,eb="/",tb="*",Ro="",EH="comment",TH="declaration",SH=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,i=1;function r(x){var E=x.match(pH);E&&(n+=E.length);var b=x.lastIndexOf(xH);i=~b?x.length-b:i+x.length}function s(){var x={line:n,column:i};return function(E){return E.position=new o(x),h(),E}}function o(x){this.start=x,this.end={line:n,column:i},this.source=e.source}o.prototype.content=t;function l(x){var E=new Error(e.source+":"+n+":"+i+": "+x);if(E.reason=x,E.filename=e.source,E.line=n,E.column=i,E.source=t,!e.silent)throw E}function u(x){var E=x.exec(t);if(E){var b=E[0];return r(b),t=t.slice(b.length),E}}function h(){u(mH)}function d(x){var E;for(x=x||[];E=m();)E!==!1&&x.push(E);return x}function m(){var x=s();if(!(eb!=t.charAt(0)||tb!=t.charAt(1))){for(var E=2;Ro!=t.charAt(E)&&(tb!=t.charAt(E)||eb!=t.charAt(E+1));)++E;if(E+=2,Ro===t.charAt(E-1))return l("End of comment missing");var b=t.slice(2,E-2);return i+=2,r(b),t=t.slice(E),i+=2,x({type:EH,comment:b})}}function g(){var x=s(),E=u(gH);if(E){if(m(),!u(_H))return l("property missing ':'");var b=u(yH),S=x({type:TH,property:nb(E[0].replace(JS,Ro)),value:b?nb(b[0].replace(JS,Ro)):Ro});return u(vH),S}}function y(){var x=[];d(x);for(var E;E=g();)E!==!1&&(x.push(E),d(x));return x}return h(),y()};function nb(t){return t?t.replace(wH,Ro):Ro}var bH=Sc&&Sc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n0,"__esModule",{value:!0});n0.default=IH;var kH=bH(SH);function IH(t,e){var n=null;if(!t||typeof t!="string")return n;var i=(0,kH.default)(t),r=typeof e=="function";return i.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;r?e(o,l,s):l&&(n=n||{},n[o]=l)}}),n}var Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.camelCase=void 0;var PH=/^--[a-zA-Z0-9_-]+$/,CH=/-([a-z])/g,AH=/^[^-]+$/,RH=/^-(webkit|moz|ms|o|khtml)-/,LH=/^-(ms)-/,OH=function(t){return!t||AH.test(t)||PH.test(t)},MH=function(t,e){return e.toUpperCase()},ib=function(t,e){return"".concat(e,"-")},NH=function(t,e){return e===void 0&&(e={}),OH(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(LH,ib):t=t.replace(RH,ib),t.replace(CH,MH))};Cm.camelCase=NH;var DH=Sc&&Sc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},FH=DH(n0),VH=Cm;function Fy(t,e){var n={};return!t||typeof t!="string"||(0,FH.default)(t,function(i,r){i&&r&&(n[(0,VH.camelCase)(i,e)]=r)}),n}Fy.default=Fy;var zH=Fy;const BH=Op(zH),ZA=QA("end"),i0=QA("start");function QA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function jH(t){const e=i0(t),n=ZA(t);if(e&&n)return{start:e,end:n}}function xc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?rb(t.position):"start"in t||"end"in t?rb(t):"line"in t||"column"in t?Vy(t):""}function Vy(t){return sb(t&&t.line)+":"+sb(t&&t.column)}function rb(t){return Vy(t&&t.start)+"-"+Vy(t&&t.end)}function sb(t){return t&&typeof t=="number"?t:1}class mn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?s.ruleId=i:(s.source=i.slice(0,u),s.ruleId=i.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=l?l.line:void 0,this.name=xc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}mn.prototype.file="";mn.prototype.name="";mn.prototype.reason="";mn.prototype.message="";mn.prototype.stack="";mn.prototype.column=void 0;mn.prototype.line=void 0;mn.prototype.ancestors=void 0;mn.prototype.cause=void 0;mn.prototype.fatal=void 0;mn.prototype.place=void 0;mn.prototype.ruleId=void 0;mn.prototype.source=void 0;const r0={}.hasOwnProperty,UH=new Map,HH=/[A-Z]/g,$H=new Set(["table","tbody","thead","tfoot","tr"]),WH=new Set(["td","th"]),YA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qH(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=e8(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=JH(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?t0:dH,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=XA(r,t,void 0);return s&&typeof s!="string"?s:r.create(t,r.Fragment,{children:s||void 0},void 0)}function XA(t,e,n){if(e.type==="element")return KH(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return GH(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return QH(t,e,n);if(e.type==="mdxjsEsm")return ZH(t,e);if(e.type==="root")return YH(t,e,n);if(e.type==="text")return XH(t,e)}function KH(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=t0,t.schema=r),t.ancestors.push(e);const s=eR(t,e.tagName,!1),o=t8(t,e);let l=o0(t,e);return $H.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!nH(u):!0})),JA(t,o,s,e),s0(o,l),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function GH(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}sh(t,e.position)}function ZH(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);sh(t,e.position)}function QH(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=t0,t.schema=r),t.ancestors.push(e);const s=e.name===null?t.Fragment:eR(t,e.name,!0),o=n8(t,e),l=o0(t,e);return JA(t,o,s,e),s0(o,l),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function YH(t,e,n){const i={};return s0(i,o0(t,e)),t.create(e,t.Fragment,i,n)}function XH(t,e){return e.value}function JA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function s0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function JH(t,e,n){return i;function i(r,s,o,l){const h=Array.isArray(o.children)?n:e;return l?h(s,o,l):h(s,o)}}function e8(t,e){return n;function n(i,r,s,o){const l=Array.isArray(s.children),u=i0(i);return e(r,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function t8(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&r0.call(e.properties,r)){const s=i8(t,r,e.properties[r]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&WH.has(e.tagName)?i=l:n[o]=l}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function n8(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else sh(t,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const l=i.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else sh(t,e.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function o0(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:UH;for(;++i<e.children.length;){const s=e.children[i];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const h=r.get(u)||0;o=u+"-"+h,r.set(u,h+1)}}const l=XA(t,s,o);l!==void 0&&n.push(l)}return n}function i8(t,e,n){const i=uH(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Y9(n):fH(n)),i.property==="style"){let r=typeof n=="object"?n:r8(t,String(n));return t.stylePropertyNameCase==="css"&&(r=s8(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?oH[i.property]||i.property:i.attribute,n]}}function r8(t,e){try{return BH(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new mn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=YA+"#cannot-parse-style-attribute",r}}function eR(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const l=ZS(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}i=o}else i=ZS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return r0.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);sh(t)}function sh(t,e){const n=new mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=YA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function s8(t){const e={};let n;for(n in t)r0.call(t,n)&&(e[o8(n)]=t[n]);return e}function o8(t){let e=t.replace(HH,a8);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function a8(t){return"-"+t.toLowerCase()}const Ug={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},l8={};function u8(t,e){const n=l8,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tR(t,i,r)}function tR(t,e,n){if(c8(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ob(t.children,e,n)}return Array.isArray(t)?ob(t,e,n):""}function ob(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=tR(t[r],e,n);return i.join("")}function c8(t){return!!(t&&typeof t=="object")}const ab=document.createElement("i");function a0(t){const e="&"+t+";";ab.innerHTML=e;const n=ab.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function pr(t,e,n,i){const r=t.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function mi(t,e){return t.length>0?(pr(t,t.length,0,e),t):e}const lb={}.hasOwnProperty;function h8(t){const e={};let n=-1;for(;++n<t.length;)d8(e,t[n]);return e}function d8(t,e){let n;for(n in e){const r=(lb.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){lb.call(r,o)||(r[o]=[]);const l=s[o];f8(r[o],Array.isArray(l)?l:l?[l]:[])}}}function f8(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);pr(t,0,0,i)}function nR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _l(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nr=ao(/[A-Za-z]/),Zn=ao(/[\dA-Za-z]/),p8=ao(/[#-'*+\--9=?A-Z^-~]/);function zy(t){return t!==null&&(t<32||t===127)}const By=ao(/\d/),m8=ao(/[\dA-Fa-f]/),g8=ao(/[!-/:-@[-`{-~]/);function be(t){return t!==null&&t<-2}function zn(t){return t!==null&&(t<0||t===32)}function Ge(t){return t===-2||t===-1||t===32}const _8=ao(new RegExp("\\p{P}|\\p{S}","u")),y8=ao(/\s/);function ao(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yl(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Zn(t.charCodeAt(n+1))&&Zn(t.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),r=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function ot(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Ge(u)?(t.enter(n),l(u)):e(u)}function l(u){return Ge(u)&&s++<r?(t.consume(u),l):(t.exit(n),e(u))}}const v8={tokenize:w8};function w8(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ot(t,e,"linePrefix")}function r(l){return t.enter("paragraph"),s(l)}function s(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return be(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const x8={tokenize:E8},ub={tokenize:T8};function E8(t){const e=this,n=[];let i=0,r,s,o;return l;function l(I){if(i<n.length){const B=n[i];return e.containerState=B[1],t.attempt(B[0].continuation,u,h)(I)}return h(I)}function u(I){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&k();const B=e.events.length;let $=B,U;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){U=e.events[$][1].end;break}S(i);let A=B;for(;A<e.events.length;)e.events[A][1].end={...U},A++;return pr(e.events,$+1,0,e.events.slice(B)),e.events.length=A,h(I)}return l(I)}function h(I){if(i===n.length){if(!r)return g(I);if(r.currentConstruct&&r.currentConstruct.concrete)return x(I);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ub,d,m)(I)}function d(I){return r&&k(),S(i),g(I)}function m(I){return e.parser.lazy[e.now().line]=i!==n.length,o=e.now().offset,x(I)}function g(I){return e.containerState={},t.attempt(ub,y,x)(I)}function y(I){return i++,n.push([e.currentConstruct,e.containerState]),g(I)}function x(I){if(I===null){r&&k(),S(0),t.consume(I);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),E(I)}function E(I){if(I===null){b(t.exit("chunkFlow"),!0),S(0),t.consume(I);return}return be(I)?(t.consume(I),b(t.exit("chunkFlow")),i=0,e.interrupt=void 0,l):(t.consume(I),E)}function b(I,B){const $=e.sliceStream(I);if(B&&$.push(null),I.previous=s,s&&(s.next=I),s=I,r.defineSkip(I.start),r.write($),e.parser.lazy[I.start.line]){let U=r.events.length;for(;U--;)if(r.events[U][1].start.offset<o&&(!r.events[U][1].end||r.events[U][1].end.offset>o))return;const A=e.events.length;let P=A,O,F;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(O){F=e.events[P][1].end;break}O=!0}for(S(i),U=A;U<e.events.length;)e.events[U][1].end={...F},U++;pr(e.events,P+1,0,e.events.slice(A)),e.events.length=U}}function S(I){let B=n.length;for(;B-- >I;){const $=n[B];e.containerState=$[1],$[0].exit.call(e,t)}n.length=I}function k(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function T8(t,e,n){return ot(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cb(t){if(t===null||zn(t)||y8(t))return 1;if(_8(t))return 2}function l0(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const s=t[r].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const jy={name:"attention",resolveAll:S8,tokenize:b8};function S8(t,e){let n=-1,i,r,s,o,l,u,h,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[i][1].end},g={...t[n][1].start};hb(m,-u),hb(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...t[i][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[i][1].end={...o.start},t[n][1].start={...l.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=mi(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=mi(h,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),h=mi(h,l0(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=mi(h,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,h=mi(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,pr(t,i-1,n-i+3,h),n=i+h.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function b8(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=cb(i);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;const h=t.exit("attentionSequence"),d=cb(u),m=!d||d===2&&r||n.includes(u),g=!r||r===2&&d||n.includes(i);return h._open=!!(s===42?m:m&&(r||!g)),h._close=!!(s===42?g:g&&(d||!m)),e(u)}}function hb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const k8={name:"autolink",tokenize:I8};function I8(t,e,n){let i=0;return r;function r(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(y){return nr(y)?(t.consume(y),o):y===64?n(y):h(y)}function o(y){return y===43||y===45||y===46||Zn(y)?(i=1,l(y)):h(y)}function l(y){return y===58?(t.consume(y),i=0,u):(y===43||y===45||y===46||Zn(y))&&i++<32?(t.consume(y),l):(i=0,h(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||zy(y)?n(y):(t.consume(y),u)}function h(y){return y===64?(t.consume(y),d):p8(y)?(t.consume(y),h):n(y)}function d(y){return Zn(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),i=0,d):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||Zn(y))&&i++<63){const x=y===45?g:m;return t.consume(y),x}return n(y)}}const Am={partial:!0,tokenize:P8};function P8(t,e,n){return i;function i(s){return Ge(s)?ot(t,r,"linePrefix")(s):r(s)}function r(s){return s===null||be(s)?e(s):n(s)}}const iR={continuation:{tokenize:A8},exit:R8,name:"blockQuote",tokenize:C8};function C8(t,e,n){const i=this;return r;function r(o){if(o===62){const l=i.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ge(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function A8(t,e,n){const i=this;return r;function r(o){return Ge(o)?ot(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(iR,e,n)(o)}}function R8(t){t.exit("blockQuote")}const rR={name:"characterEscape",tokenize:L8};function L8(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),r}function r(s){return g8(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const sR={name:"characterReference",tokenize:O8};function O8(t,e,n){const i=this;let r=0,s,o;return l;function l(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),u}function u(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),s=31,o=Zn,d(m))}function h(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=m8,d):(t.enter("characterReferenceValue"),s=7,o=By,d(m))}function d(m){if(m===59&&r){const g=t.exit("characterReferenceValue");return o===Zn&&!a0(i.sliceSerialize(g))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(m)&&r++<s?(t.consume(m),d):n(m)}}const db={partial:!0,tokenize:N8},fb={concrete:!0,name:"codeFenced",tokenize:M8};function M8(t,e,n){const i=this,r={partial:!0,tokenize:$};let s=0,o=0,l;return u;function u(U){return h(U)}function h(U){const A=i.events[i.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,l=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(U)}function d(U){return U===l?(o++,t.consume(U),d):o<3?n(U):(t.exit("codeFencedFenceSequence"),Ge(U)?ot(t,m,"whitespace")(U):m(U))}function m(U){return U===null||be(U)?(t.exit("codeFencedFence"),i.interrupt?e(U):t.check(db,E,B)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(U))}function g(U){return U===null||be(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(U)):Ge(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ot(t,y,"whitespace")(U)):U===96&&U===l?n(U):(t.consume(U),g)}function y(U){return U===null||be(U)?m(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(U))}function x(U){return U===null||be(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(U)):U===96&&U===l?n(U):(t.consume(U),x)}function E(U){return t.attempt(r,B,b)(U)}function b(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),S}function S(U){return s>0&&Ge(U)?ot(t,k,"linePrefix",s+1)(U):k(U)}function k(U){return U===null||be(U)?t.check(db,E,B)(U):(t.enter("codeFlowValue"),I(U))}function I(U){return U===null||be(U)?(t.exit("codeFlowValue"),k(U)):(t.consume(U),I)}function B(U){return t.exit("codeFenced"),e(U)}function $(U,A,P){let O=0;return F;function F(ue){return U.enter("lineEnding"),U.consume(ue),U.exit("lineEnding"),N}function N(ue){return U.enter("codeFencedFence"),Ge(ue)?ot(U,z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):z(ue)}function z(ue){return ue===l?(U.enter("codeFencedFenceSequence"),D(ue)):P(ue)}function D(ue){return ue===l?(O++,U.consume(ue),D):O>=o?(U.exit("codeFencedFenceSequence"),Ge(ue)?ot(U,pe,"whitespace")(ue):pe(ue)):P(ue)}function pe(ue){return ue===null||be(ue)?(U.exit("codeFencedFence"),A(ue)):P(ue)}}}function N8(t,e,n){const i=this;return r;function r(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}const Hg={name:"codeIndented",tokenize:F8},D8={partial:!0,tokenize:V8};function F8(t,e,n){const i=this;return r;function r(h){return t.enter("codeIndented"),ot(t,s,"linePrefix",5)(h)}function s(h){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?u(h):be(h)?t.attempt(D8,o,u)(h):(t.enter("codeFlowValue"),l(h))}function l(h){return h===null||be(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),l)}function u(h){return t.exit("codeIndented"),e(h)}}function V8(t,e,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):be(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):ot(t,s,"linePrefix",5)(o)}function s(o){const l=i.events[i.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):be(o)?r(o):n(o)}}const z8={name:"codeText",previous:j8,resolve:B8,tokenize:U8};function B8(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function j8(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function U8(t,e,n){let i=0,r,s;return o;function o(m){return t.enter("codeText"),t.enter("codeTextSequence"),l(m)}function l(m){return m===96?(t.consume(m),i++,l):(t.exit("codeTextSequence"),u(m))}function u(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),u):m===96?(s=t.enter("codeTextSequence"),r=0,d(m)):be(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||be(m)?(t.exit("codeTextData"),u(m)):(t.consume(m),h)}function d(m){return m===96?(t.consume(m),r++,d):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(s.type="codeTextData",h(m))}}class H8{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Hu(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Hu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Hu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Hu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Hu(this.left,n.reverse())}}}function Hu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function oR(t){const e={};let n=-1,i,r,s,o,l,u,h;const d=new H8(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,$8(d,n)),n=e[n],h=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},l=d.slice(r,n),l.unshift(i),d.splice(r,n-r+1,l))}}return pr(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!h}function $8(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const s=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],h={};let d,m,g=-1,y=n,x=0,E=0;const b=[E];for(;y;){for(;t.get(++r)[1]!==y;);s.push(r),y._tokenizer||(d=i.sliceStream(y),y.next||d.push(null),m&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(E=g+1,b.push(E),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):b.pop(),g=b.length;g--;){const S=l.slice(b[g],b[g+1]),k=s.pop();u.push([k,k+S.length-1]),t.splice(k,2,S)}for(u.reverse(),g=-1;++g<u.length;)h[x+u[g][0]]=x+u[g][1],x+=u[g][1]-u[g][0]-1;return h}const W8={resolve:K8,tokenize:G8},q8={partial:!0,tokenize:Z8};function K8(t){return oR(t),t}function G8(t,e){let n;return i;function i(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(l)}function r(l){return l===null?s(l):be(l)?t.check(q8,o,s)(l):(t.consume(l),r)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function Z8(t,e,n){const i=this;return r;function r(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ot(t,s,"linePrefix")}function s(o){if(o===null||be(o))return n(o);const l=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(i.parser.constructs.flow,n,e)(o)}}function aR(t,e,n,i,r,s,o,l,u){const h=u||Number.POSITIVE_INFINITY;let d=0;return m;function m(S){return S===60?(t.enter(i),t.enter(r),t.enter(s),t.consume(S),t.exit(s),g):S===null||S===32||S===41||zy(S)?n(S):(t.enter(i),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),E(S))}function g(S){return S===62?(t.enter(s),t.consume(S),t.exit(s),t.exit(r),t.exit(i),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(t.exit("chunkString"),t.exit(l),g(S)):S===null||S===60||be(S)?n(S):(t.consume(S),S===92?x:y)}function x(S){return S===60||S===62||S===92?(t.consume(S),y):y(S)}function E(S){return!d&&(S===null||S===41||zn(S))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(i),e(S)):d<h&&S===40?(t.consume(S),d++,E):S===41?(t.consume(S),d--,E):S===null||S===32||S===40||zy(S)?n(S):(t.consume(S),S===92?b:E)}function b(S){return S===40||S===41||S===92?(t.consume(S),E):E(S)}}function lR(t,e,n,i,r,s){const o=this;let l=0,u;return h;function h(y){return t.enter(i),t.enter(r),t.consume(y),t.exit(r),t.enter(s),d}function d(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(s),t.enter(r),t.consume(y),t.exit(r),t.exit(i),e):be(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||be(y)||l++>999?(t.exit("chunkString"),d(y)):(t.consume(y),u||(u=!Ge(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(t.consume(y),l++,m):m(y)}}function uR(t,e,n,i,r,s){let o;return l;function l(g){return g===34||g===39||g===40?(t.enter(i),t.enter(r),t.consume(g),t.exit(r),o=g===40?41:g,u):n(g)}function u(g){return g===o?(t.enter(r),t.consume(g),t.exit(r),t.exit(i),e):(t.enter(s),h(g))}function h(g){return g===o?(t.exit(s),u(o)):g===null?n(g):be(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),ot(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||be(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?m:d)}function m(g){return g===o||g===92?(t.consume(g),d):d(g)}}function Ec(t,e){let n;return i;function i(r){return be(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):Ge(r)?ot(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const Q8={name:"definition",tokenize:X8},Y8={partial:!0,tokenize:J8};function X8(t,e,n){const i=this;let r;return s;function s(y){return t.enter("definition"),o(y)}function o(y){return lR.call(i,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return r=_l(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return zn(y)?Ec(t,h)(y):h(y)}function h(y){return aR(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return t.attempt(Y8,m,m)(y)}function m(y){return Ge(y)?ot(t,g,"whitespace")(y):g(y)}function g(y){return y===null||be(y)?(t.exit("definition"),i.parser.defined.push(r),e(y)):n(y)}}function J8(t,e,n){return i;function i(l){return zn(l)?Ec(t,r)(l):n(l)}function r(l){return uR(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Ge(l)?ot(t,o,"whitespace")(l):o(l)}function o(l){return l===null||be(l)?e(l):n(l)}}const e$={name:"hardBreakEscape",tokenize:t$};function t$(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),r}function r(s){return be(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const n$={name:"headingAtx",resolve:i$,tokenize:r$};function i$(t,e){let n=t.length-2,i=3,r,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},pr(t,i,n-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),t}function r$(t,e,n){let i=0;return r;function r(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&i++<6?(t.consume(d),o):d===null||zn(d)?(t.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(t.enter("atxHeadingSequence"),u(d)):d===null||be(d)?(t.exit("atxHeading"),e(d)):Ge(d)?ot(t,l,"whitespace")(d):(t.enter("atxHeadingText"),h(d))}function u(d){return d===35?(t.consume(d),u):(t.exit("atxHeadingSequence"),l(d))}function h(d){return d===null||d===35||zn(d)?(t.exit("atxHeadingText"),l(d)):(t.consume(d),h)}}const s$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pb=["pre","script","style","textarea"],o$={concrete:!0,name:"htmlFlow",resolveTo:u$,tokenize:c$},a$={partial:!0,tokenize:d$},l$={partial:!0,tokenize:h$};function u$(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function c$(t,e,n){const i=this;let r,s,o,l,u;return h;function h(j){return d(j)}function d(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),m}function m(j){return j===33?(t.consume(j),g):j===47?(t.consume(j),s=!0,E):j===63?(t.consume(j),r=3,i.interrupt?e:M):nr(j)?(t.consume(j),o=String.fromCharCode(j),b):n(j)}function g(j){return j===45?(t.consume(j),r=2,y):j===91?(t.consume(j),r=5,l=0,x):nr(j)?(t.consume(j),r=4,i.interrupt?e:M):n(j)}function y(j){return j===45?(t.consume(j),i.interrupt?e:M):n(j)}function x(j){const xe="CDATA[";return j===xe.charCodeAt(l++)?(t.consume(j),l===xe.length?i.interrupt?e:z:x):n(j)}function E(j){return nr(j)?(t.consume(j),o=String.fromCharCode(j),b):n(j)}function b(j){if(j===null||j===47||j===62||zn(j)){const xe=j===47,ve=o.toLowerCase();return!xe&&!s&&pb.includes(ve)?(r=1,i.interrupt?e(j):z(j)):s$.includes(o.toLowerCase())?(r=6,xe?(t.consume(j),S):i.interrupt?e(j):z(j)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(j):s?k(j):I(j))}return j===45||Zn(j)?(t.consume(j),o+=String.fromCharCode(j),b):n(j)}function S(j){return j===62?(t.consume(j),i.interrupt?e:z):n(j)}function k(j){return Ge(j)?(t.consume(j),k):F(j)}function I(j){return j===47?(t.consume(j),F):j===58||j===95||nr(j)?(t.consume(j),B):Ge(j)?(t.consume(j),I):F(j)}function B(j){return j===45||j===46||j===58||j===95||Zn(j)?(t.consume(j),B):$(j)}function $(j){return j===61?(t.consume(j),U):Ge(j)?(t.consume(j),$):I(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),u=j,A):Ge(j)?(t.consume(j),U):P(j)}function A(j){return j===u?(t.consume(j),u=null,O):j===null||be(j)?n(j):(t.consume(j),A)}function P(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||zn(j)?$(j):(t.consume(j),P)}function O(j){return j===47||j===62||Ge(j)?I(j):n(j)}function F(j){return j===62?(t.consume(j),N):n(j)}function N(j){return j===null||be(j)?z(j):Ge(j)?(t.consume(j),N):n(j)}function z(j){return j===45&&r===2?(t.consume(j),_e):j===60&&r===1?(t.consume(j),ke):j===62&&r===4?(t.consume(j),ce):j===63&&r===3?(t.consume(j),M):j===93&&r===5?(t.consume(j),de):be(j)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(a$,me,D)(j)):j===null||be(j)?(t.exit("htmlFlowData"),D(j)):(t.consume(j),z)}function D(j){return t.check(l$,pe,me)(j)}function pe(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ue}function ue(j){return j===null||be(j)?D(j):(t.enter("htmlFlowData"),z(j))}function _e(j){return j===45?(t.consume(j),M):z(j)}function ke(j){return j===47?(t.consume(j),o="",X):z(j)}function X(j){if(j===62){const xe=o.toLowerCase();return pb.includes(xe)?(t.consume(j),ce):z(j)}return nr(j)&&o.length<8?(t.consume(j),o+=String.fromCharCode(j),X):z(j)}function de(j){return j===93?(t.consume(j),M):z(j)}function M(j){return j===62?(t.consume(j),ce):j===45&&r===2?(t.consume(j),M):z(j)}function ce(j){return j===null||be(j)?(t.exit("htmlFlowData"),me(j)):(t.consume(j),ce)}function me(j){return t.exit("htmlFlow"),e(j)}}function h$(t,e,n){const i=this;return r;function r(o){return be(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}function d$(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Am,e,n)}}const f$={name:"htmlText",tokenize:p$};function p$(t,e,n){const i=this;let r,s,o;return l;function l(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),u}function u(M){return M===33?(t.consume(M),h):M===47?(t.consume(M),$):M===63?(t.consume(M),I):nr(M)?(t.consume(M),P):n(M)}function h(M){return M===45?(t.consume(M),d):M===91?(t.consume(M),s=0,x):nr(M)?(t.consume(M),k):n(M)}function d(M){return M===45?(t.consume(M),y):n(M)}function m(M){return M===null?n(M):M===45?(t.consume(M),g):be(M)?(o=m,ke(M)):(t.consume(M),m)}function g(M){return M===45?(t.consume(M),y):m(M)}function y(M){return M===62?_e(M):M===45?g(M):m(M)}function x(M){const ce="CDATA[";return M===ce.charCodeAt(s++)?(t.consume(M),s===ce.length?E:x):n(M)}function E(M){return M===null?n(M):M===93?(t.consume(M),b):be(M)?(o=E,ke(M)):(t.consume(M),E)}function b(M){return M===93?(t.consume(M),S):E(M)}function S(M){return M===62?_e(M):M===93?(t.consume(M),S):E(M)}function k(M){return M===null||M===62?_e(M):be(M)?(o=k,ke(M)):(t.consume(M),k)}function I(M){return M===null?n(M):M===63?(t.consume(M),B):be(M)?(o=I,ke(M)):(t.consume(M),I)}function B(M){return M===62?_e(M):I(M)}function $(M){return nr(M)?(t.consume(M),U):n(M)}function U(M){return M===45||Zn(M)?(t.consume(M),U):A(M)}function A(M){return be(M)?(o=A,ke(M)):Ge(M)?(t.consume(M),A):_e(M)}function P(M){return M===45||Zn(M)?(t.consume(M),P):M===47||M===62||zn(M)?O(M):n(M)}function O(M){return M===47?(t.consume(M),_e):M===58||M===95||nr(M)?(t.consume(M),F):be(M)?(o=O,ke(M)):Ge(M)?(t.consume(M),O):_e(M)}function F(M){return M===45||M===46||M===58||M===95||Zn(M)?(t.consume(M),F):N(M)}function N(M){return M===61?(t.consume(M),z):be(M)?(o=N,ke(M)):Ge(M)?(t.consume(M),N):O(M)}function z(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),r=M,D):be(M)?(o=z,ke(M)):Ge(M)?(t.consume(M),z):(t.consume(M),pe)}function D(M){return M===r?(t.consume(M),r=void 0,ue):M===null?n(M):be(M)?(o=D,ke(M)):(t.consume(M),D)}function pe(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||zn(M)?O(M):(t.consume(M),pe)}function ue(M){return M===47||M===62||zn(M)?O(M):n(M)}function _e(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):n(M)}function ke(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),X}function X(M){return Ge(M)?ot(t,de,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):de(M)}function de(M){return t.enter("htmlTextData"),o(M)}}const u0={name:"labelEnd",resolveAll:y$,resolveTo:v$,tokenize:w$},m$={tokenize:x$},g$={tokenize:E$},_$={tokenize:T$};function y$(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&pr(t,0,t.length,n),t}function v$(t,e){let n=t.length,i=0,r,s,o,l;for(;n--;)if(r=t[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",u,e],["enter",h,e]],l=mi(l,t.slice(s+1,s+i+3)),l=mi(l,[["enter",d,e]]),l=mi(l,l0(e.parser.constructs.insideSpan.null,t.slice(s+i+4,o-3),e)),l=mi(l,[["exit",d,e],t[o-2],t[o-1],["exit",h,e]]),l=mi(l,t.slice(o+1)),l=mi(l,[["exit",u,e]]),pr(t,s,t.length,l),t}function w$(t,e,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return l;function l(g){return s?s._inactive?m(g):(o=i.parser.defined.includes(_l(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(m$,d,o?d:m)(g):g===91?t.attempt(g$,d,o?h:m)(g):o?d(g):m(g)}function h(g){return t.attempt(_$,d,m)(g)}function d(g){return e(g)}function m(g){return s._balanced=!0,n(g)}}function x$(t,e,n){return i;function i(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),r}function r(m){return zn(m)?Ec(t,s)(m):s(m)}function s(m){return m===41?d(m):aR(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return zn(m)?Ec(t,u)(m):d(m)}function l(m){return n(m)}function u(m){return m===34||m===39||m===40?uR(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function h(m){return zn(m)?Ec(t,d)(m):d(m)}function d(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function E$(t,e,n){const i=this;return r;function r(l){return lR.call(i,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return i.parser.defined.includes(_l(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function T$(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),r}function r(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const S$={name:"labelStartImage",resolveAll:u0.resolveAll,tokenize:b$};function b$(t,e,n){const i=this;return r;function r(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}const k$={name:"labelStartLink",resolveAll:u0.resolveAll,tokenize:I$};function I$(t,e,n){const i=this;return r;function r(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const $g={name:"lineEnding",tokenize:P$};function P$(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),ot(t,e,"linePrefix")}}const kf={name:"thematicBreak",tokenize:C$};function C$(t,e,n){let i=0,r;return s;function s(h){return t.enter("thematicBreak"),o(h)}function o(h){return r=h,l(h)}function l(h){return h===r?(t.enter("thematicBreakSequence"),u(h)):i>=3&&(h===null||be(h))?(t.exit("thematicBreak"),e(h)):n(h)}function u(h){return h===r?(t.consume(h),i++,u):(t.exit("thematicBreakSequence"),Ge(h)?ot(t,l,"whitespace")(h):l(h))}}const An={continuation:{tokenize:O$},exit:N$,name:"list",tokenize:L$},A$={partial:!0,tokenize:D$},R$={partial:!0,tokenize:M$};function L$(t,e,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return l;function l(y){const x=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:By(y)){if(i.containerState.type||(i.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(kf,n,h)(y):h(y);if(!i.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return By(y)&&++o<10?(t.consume(y),u):(!i.interrupt||o<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),h(y)):n(y)}function h(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,t.check(Am,i.interrupt?n:d,t.attempt(A$,g,m))}function d(y){return i.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return Ge(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function O$(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Am,r,s);function r(l){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ot(t,e,"listItemIndent",i.containerState.size+1)(l)}function s(l){return i.containerState.furtherBlankLines||!Ge(l)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(l)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(R$,e,o)(l))}function o(l){return i.containerState._closeFlow=!0,i.interrupt=void 0,ot(t,t.attempt(An,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function M$(t,e,n){const i=this;return ot(t,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):n(s)}}function N$(t){t.exit(this.containerState.type)}function D$(t,e,n){const i=this;return ot(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!Ge(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const mb={name:"setextUnderline",resolveTo:F$,tokenize:V$};function F$(t,e){let n=t.length,i,r,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",s?(t.splice(r,0,["enter",o,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=o,t.push(["exit",o,e]),t}function V$(t,e,n){const i=this;let r;return s;function s(h){let d=i.events.length,m;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){m=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(t.enter("setextHeadingLine"),r=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),l(h)}function l(h){return h===r?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),Ge(h)?ot(t,u,"lineSuffix")(h):u(h))}function u(h){return h===null||be(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const z$={tokenize:B$};function B$(t){const e=this,n=t.attempt(Am,i,t.attempt(this.parser.constructs.flowInitial,r,ot(t,t.attempt(this.parser.constructs.flow,r,t.attempt(W8,r)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const j$={resolveAll:hR()},U$=cR("string"),H$=cR("text");function cR(t){return{resolveAll:hR(t==="text"?$$:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],s=n.attempt(r,o,l);return o;function o(d){return h(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return h(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function h(d){if(d===null)return!0;const m=r[d];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function hR(t){return e;function e(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return t?t(n,i):n}}function $$(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let s=r.length,o=-1,l=0,u;for(;s--;){const h=r[s];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(h===-2)u=!0,l++;else if(h!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const h={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const W$={42:An,43:An,45:An,48:An,49:An,50:An,51:An,52:An,53:An,54:An,55:An,56:An,57:An,62:iR},q$={91:Q8},K$={[-2]:Hg,[-1]:Hg,32:Hg},G$={35:n$,42:kf,45:[mb,kf],60:o$,61:mb,95:kf,96:fb,126:fb},Z$={38:sR,92:rR},Q$={[-5]:$g,[-4]:$g,[-3]:$g,33:S$,38:sR,42:jy,60:[k8,f$],91:k$,92:[e$,rR],93:u0,95:jy,96:z8},Y$={null:[jy,j$]},X$={null:[42,95]},J$={null:[]},eW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:X$,contentInitial:q$,disable:J$,document:W$,flow:G$,flowInitial:K$,insideSpan:Y$,string:Z$,text:Q$},Symbol.toStringTag,{value:"Module"}));function tW(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let o=[],l=[];const u={attempt:A($),check:A(U),consume:k,enter:I,exit:B,interrupt:A(U,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:t,previous:null,sliceSerialize:g,sliceStream:y,write:m};let d=e.tokenize.call(h,u);return e.resolveAll&&s.push(e),h;function m(N){return o=mi(o,N),b(),o[o.length-1]!==null?[]:(P(e,0),h.events=l0(s,h.events,h),h.events)}function g(N,z){return iW(y(N),z)}function y(N){return nW(o,N)}function x(){const{_bufferIndex:N,_index:z,line:D,column:pe,offset:ue}=i;return{_bufferIndex:N,_index:z,line:D,column:pe,offset:ue}}function E(N){r[N.line]=N.column,F()}function b(){let N;for(;i._index<o.length;){const z=o[i._index];if(typeof z=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<z.length;)S(z.charCodeAt(i._bufferIndex));else S(z)}}function S(N){d=d(N)}function k(N){be(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,F()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=N}function I(N,z){const D=z||{};return D.type=N,D.start=x(),h.events.push(["enter",D,h]),l.push(D),D}function B(N){const z=l.pop();return z.end=x(),h.events.push(["exit",z,h]),z}function $(N,z){P(N,z.from)}function U(N,z){z.restore()}function A(N,z){return D;function D(pe,ue,_e){let ke,X,de,M;return Array.isArray(pe)?me(pe):"tokenize"in pe?me([pe]):ce(pe);function ce(oe){return at;function at(Nt){const Ti=Nt!==null&&oe[Nt],gn=Nt!==null&&oe.null,jn=[...Array.isArray(Ti)?Ti:Ti?[Ti]:[],...Array.isArray(gn)?gn:gn?[gn]:[]];return me(jn)(Nt)}}function me(oe){return ke=oe,X=0,oe.length===0?_e:j(oe[X])}function j(oe){return at;function at(Nt){return M=O(),de=oe,oe.partial||(h.currentConstruct=oe),oe.name&&h.parser.constructs.disable.null.includes(oe.name)?ve():oe.tokenize.call(z?Object.assign(Object.create(h),z):h,u,xe,ve)(Nt)}}function xe(oe){return N(de,M),ue}function ve(oe){return M.restore(),++X<ke.length?j(ke[X]):_e}}}function P(N,z){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&pr(h.events,z,h.events.length-z,N.resolve(h.events.slice(z),h)),N.resolveTo&&(h.events=N.resolveTo(h.events,h))}function O(){const N=x(),z=h.previous,D=h.currentConstruct,pe=h.events.length,ue=Array.from(l);return{from:pe,restore:_e};function _e(){i=N,h.previous=z,h.currentConstruct=D,h.events.length=pe,l=ue,F()}}function F(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function nW(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(n===r)o=[t[n].slice(i,s)];else{if(o=t.slice(n,r),i>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(i):o.shift()}s>0&&o.push(t[r].slice(0,s))}return o}function iW(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function rW(t){const i={constructs:h8([eW,...(t||{}).extensions||[]]),content:r(v8),defined:[],document:r(x8),flow:r(z$),lazy:{},string:r(U$),text:r(H$)};return i;function r(s){return o;function o(l){return tW(i,s,l)}}}function sW(t){for(;!oR(t););return t}const gb=/[\0\t\n\r]/g;function oW(){let t=1,e="",n=!0,i;return r;function r(s,o,l){const u=[];let h,d,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(gb.lastIndex=m,h=gb.exec(s),g=h&&h.index!==void 0?h.index:s.length,y=s.charCodeAt(g),!h){e=s.slice(m);break}if(y===10&&m===g&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),m<g&&(u.push(s.slice(m,g)),t+=g-m),y){case 0:{u.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,u.push(-2);t++<d;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:i=!0,t=1}m=g+1}return l&&(i&&u.push(-5),e&&u.push(e),u.push(null)),u}}const aW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lW(t){return t.replace(aW,uW)}function uW(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return nR(n.slice(s?2:1),s?16:10)}return a0(n)||t}const dR={}.hasOwnProperty;function cW(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hW(n)(sW(rW(n).document().write(oW()(t,e,!0))))}function hW(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(uo),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(vr),blockQuote:s(gn),characterEscape:O,characterReference:O,codeFenced:s(jn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(jn,o),codeText:s(Si,o),codeTextData:O,data:O,codeFlowValue:O,definition:s(yr),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(lo),hardBreakEscape:s(es),hardBreakTrailing:s(es),htmlFlow:s(ts,o),htmlFlowData:O,htmlText:s(ts,o),htmlTextData:O,image:s(ns),label:o,link:s(uo),listItem:s(is),listItemValue:g,listOrdered:s(wr,m),listUnordered:s(wr),paragraph:s(ha),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(vr),strong:s(rs),thematicBreak:s(da)},exit:{atxHeading:u(),atxHeadingSequence:$,autolink:u(),autolinkEmail:Ti,autolinkProtocol:Nt,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:oe,characterReference:at,codeFenced:u(b),codeFencedFence:E,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:F,codeIndented:u(S),codeText:u(ue),codeTextData:F,data:F,definition:u(),definitionDestinationString:B,definitionLabelString:k,definitionTitleString:I,emphasis:u(),hardBreakEscape:u(z),hardBreakTrailing:u(z),htmlFlow:u(D),htmlFlowData:F,htmlText:u(pe),htmlTextData:F,image:u(ke),label:de,labelText:X,lineEnding:N,link:u(_e),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:xe,resourceDestinationString:M,resourceTitleString:ce,resource:me,setextHeading:u(P),setextHeadingLineSequence:A,setextHeadingText:U,strong:u(),thematicBreak:u()}};fR(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(Q){let ne={type:"root",children:[]};const we={stack:[ne],tokenStack:[],config:e,enter:l,exit:h,buffer:o,resume:d,data:n},Me=[];let He=-1;for(;++He<Q.length;)if(Q[He][1].type==="listOrdered"||Q[He][1].type==="listUnordered")if(Q[He][0]==="enter")Me.push(He);else{const tn=Me.pop();He=r(Q,tn,He)}for(He=-1;++He<Q.length;){const tn=e[Q[He][0]];dR.call(tn,Q[He][1].type)&&tn[Q[He][1].type].call(Object.assign({sliceSerialize:Q[He][2].sliceSerialize},we),Q[He][1])}if(we.tokenStack.length>0){const tn=we.tokenStack[we.tokenStack.length-1];(tn[1]||_b).call(we,void 0,tn[0])}for(ne.position={start:gs(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:gs(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)ne=e.transforms[He](ne)||ne;return ne}function r(Q,ne,we){let Me=ne-1,He=-1,tn=!1,_n,yn,ni,ii;for(;++Me<=we;){const qt=Q[Me];switch(qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qt[0]==="enter"?He++:He--,ii=void 0;break}case"lineEndingBlank":{qt[0]==="enter"&&(_n&&!ii&&!He&&!ni&&(ni=Me),ii=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ii=void 0}if(!He&&qt[0]==="enter"&&qt[1].type==="listItemPrefix"||He===-1&&qt[0]==="exit"&&(qt[1].type==="listUnordered"||qt[1].type==="listOrdered")){if(_n){let kn=Me;for(yn=void 0;kn--;){const vn=Q[kn];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;yn&&(Q[yn][1].type="lineEndingBlank",tn=!0),vn[1].type="lineEnding",yn=kn}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}ni&&(!yn||ni<yn)&&(_n._spread=!0),_n.end=Object.assign({},yn?Q[yn][1].start:qt[1].end),Q.splice(yn||Me,0,["exit",_n,qt[2]]),Me++,we++}if(qt[1].type==="listItemPrefix"){const kn={type:"listItem",_spread:!1,start:Object.assign({},qt[1].start),end:void 0};_n=kn,Q.splice(Me,0,["enter",kn,qt[2]]),Me++,we++,ni=void 0,ii=!0}}}return Q[ne][1]._spread=tn,we}function s(Q,ne){return we;function we(Me){l.call(this,Q(Me),Me),ne&&ne.call(this,Me)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Q,ne,we){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([ne,we||void 0]),Q.position={start:gs(ne.start),end:void 0}}function u(Q){return ne;function ne(we){Q&&Q.call(this,we),h.call(this,we)}}function h(Q,ne){const we=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==Q.type&&(ne?ne.call(this,Q,Me[0]):(Me[1]||_b).call(this,Q,Me[0]));else throw new Error("Cannot close `"+Q.type+"` ("+xc({start:Q.start,end:Q.end})+"): its not open");we.position.end=gs(Q.end)}function d(){return u8(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(Q){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=Q}function x(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=Q}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q.replace(/(\r?\n|\r)$/g,"")}function k(Q){const ne=this.resume(),we=this.stack[this.stack.length-1];we.label=ne,we.identifier=_l(this.sliceSerialize(Q)).toLowerCase()}function I(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=Q}function B(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=Q}function $(Q){const ne=this.stack[this.stack.length-1];if(!ne.depth){const we=this.sliceSerialize(Q).length;ne.depth=we}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function A(Q){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function O(Q){const we=this.stack[this.stack.length-1].children;let Me=we[we.length-1];(!Me||Me.type!=="text")&&(Me=co(),Me.position={start:gs(Q.start),end:void 0},we.push(Me)),this.stack.push(Me)}function F(Q){const ne=this.stack.pop();ne.value+=this.sliceSerialize(Q),ne.position.end=gs(Q.end)}function N(Q){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ne.children[ne.children.length-1];we.position.end=gs(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(O.call(this,Q),F.call(this,Q))}function z(){this.data.atHardBreak=!0}function D(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function pe(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function ue(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function _e(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ne,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function ke(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ne,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function X(Q){const ne=this.sliceSerialize(Q),we=this.stack[this.stack.length-2];we.label=lW(ne),we.identifier=_l(ne).toLowerCase()}function de(){const Q=this.stack[this.stack.length-1],ne=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Me=Q.children;we.children=Me}else we.alt=ne}function M(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=Q}function ce(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=Q}function me(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function xe(Q){const ne=this.resume(),we=this.stack[this.stack.length-1];we.label=ne,we.identifier=_l(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function ve(Q){this.data.characterReferenceType=Q.type}function oe(Q){const ne=this.sliceSerialize(Q),we=this.data.characterReferenceType;let Me;we?(Me=nR(ne,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=a0(ne);const He=this.stack[this.stack.length-1];He.value+=Me}function at(Q){const ne=this.stack.pop();ne.position.end=gs(Q.end)}function Nt(Q){F.call(this,Q);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(Q)}function Ti(Q){F.call(this,Q);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(Q)}function gn(){return{type:"blockquote",children:[]}}function jn(){return{type:"code",lang:null,meta:null,value:""}}function Si(){return{type:"inlineCode",value:""}}function yr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lo(){return{type:"emphasis",children:[]}}function vr(){return{type:"heading",depth:0,children:[]}}function es(){return{type:"break"}}function ts(){return{type:"html",value:""}}function ns(){return{type:"image",title:null,url:"",alt:null}}function uo(){return{type:"link",title:null,url:"",children:[]}}function wr(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function is(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function ha(){return{type:"paragraph",children:[]}}function rs(){return{type:"strong",children:[]}}function co(){return{type:"text",value:""}}function da(){return{type:"thematicBreak"}}}function gs(t){return{line:t.line,column:t.column,offset:t.offset}}function fR(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?fR(t,i):dW(t,i)}}function dW(t,e){let n;for(n in e)if(dR.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function _b(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+xc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+xc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xc({start:e.start,end:e.end})+") is still open")}function fW(t){const e=this;e.parser=n;function n(i){return cW(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pW(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mW(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function gW(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function _W(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yW(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vW(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Yl(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let o,l=t.footnoteCounts.get(i);l===void 0?(l=0,t.footnoteOrder.push(i),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(i,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function wW(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xW(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pR(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function EW(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return pR(t,e);const r={src:Yl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,s),t.applyData(e,s)}function TW(t,e){const n={src:Yl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function SW(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function bW(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return pR(t,e);const r={href:Yl(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function kW(t,e){const n={href:Yl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function IW(t,e,n){const i=t.all(e),r=n?PW(n):mR(e),s={},o=[];if(typeof e.checked=="boolean"){const d=i[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<i.length;){const d=i[l];(r||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?o.push(...d.children):o.push(d)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,h),t.applyData(e,h)}function PW(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=mR(n[i])}return e}function mR(t){const e=t.spread;return e??t.children.length>1}function CW(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function AW(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RW(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function LW(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OW(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=i0(e.children[1]),u=ZA(e.children[e.children.length-1]);l&&u&&(o.position={start:l,end:u}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function MW(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let u=-1;const h=[];for(;++u<l;){const m=e.children[u],g={},y=o?o[u]:void 0;y&&(g.align=y);let x={type:"element",tagName:s,properties:g,children:[]};m&&(x.children=t.all(m),t.patch(m,x),x=t.applyData(m,x)),h.push(x)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,d),t.applyData(e,d)}function NW(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const yb=9,vb=32;function DW(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const s=[];for(;i;)s.push(wb(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return s.push(wb(e.slice(r),r>0,!1)),s.join("")}function wb(t,e,n){let i=0,r=t.length;if(e){let s=t.codePointAt(i);for(;s===yb||s===vb;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(r-1);for(;s===yb||s===vb;)r--,s=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function FW(t,e){const n={type:"text",value:DW(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function VW(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const zW={blockquote:pW,break:mW,code:gW,delete:_W,emphasis:yW,footnoteReference:vW,heading:wW,html:xW,imageReference:EW,image:TW,inlineCode:SW,linkReference:bW,link:kW,listItem:IW,list:CW,paragraph:AW,root:RW,strong:LW,table:OW,tableCell:NW,tableRow:MW,text:FW,thematicBreak:VW,toml:qd,yaml:qd,definition:qd,footnoteDefinition:qd};function qd(){}const gR=-1,Rm=0,Tc=1,Rp=2,c0=3,h0=4,d0=5,f0=6,_R=7,yR=8,xb=typeof self=="object"?self:globalThis,BW=(t,e)=>{const n=(r,s)=>(t.set(s,r),r),i=r=>{if(t.has(r))return t.get(r);const[s,o]=e[r];switch(s){case Rm:case gR:return n(o,r);case Tc:{const l=n([],r);for(const u of o)l.push(i(u));return l}case Rp:{const l=n({},r);for(const[u,h]of o)l[i(u)]=i(h);return l}case c0:return n(new Date(o),r);case h0:{const{source:l,flags:u}=o;return n(new RegExp(l,u),r)}case d0:{const l=n(new Map,r);for(const[u,h]of o)l.set(i(u),i(h));return l}case f0:{const l=n(new Set,r);for(const u of o)l.add(i(u));return l}case _R:{const{name:l,message:u}=o;return n(new xb[l](u),r)}case yR:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new xb[s](o),r)};return i},Eb=t=>BW(new Map,t)(0),Ba="",{toString:jW}={},{keys:UW}=Object,$u=t=>{const e=typeof t;if(e!=="object"||!t)return[Rm,e];const n=jW.call(t).slice(8,-1);switch(n){case"Array":return[Tc,Ba];case"Object":return[Rp,Ba];case"Date":return[c0,Ba];case"RegExp":return[h0,Ba];case"Map":return[d0,Ba];case"Set":return[f0,Ba];case"DataView":return[Tc,n]}return n.includes("Array")?[Tc,n]:n.includes("Error")?[_R,n]:[Rp,n]},Kd=([t,e])=>t===Rm&&(e==="function"||e==="symbol"),HW=(t,e,n,i)=>{const r=(o,l)=>{const u=i.push(o)-1;return n.set(l,u),u},s=o=>{if(n.has(o))return n.get(o);let[l,u]=$u(o);switch(l){case Rm:{let d=o;switch(u){case"bigint":l=yR,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return r([gR],o)}return r([l,d],o)}case Tc:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),r([u,[...g]],o)}const d=[],m=r([l,d],o);for(const g of o)d.push(s(g));return m}case Rp:{if(u)switch(u){case"BigInt":return r([u,o.toString()],o);case"Boolean":case"Number":case"String":return r([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],m=r([l,d],o);for(const g of UW(o))(t||!Kd($u(o[g])))&&d.push([s(g),s(o[g])]);return m}case c0:return r([l,o.toISOString()],o);case h0:{const{source:d,flags:m}=o;return r([l,{source:d,flags:m}],o)}case d0:{const d=[],m=r([l,d],o);for(const[g,y]of o)(t||!(Kd($u(g))||Kd($u(y))))&&d.push([s(g),s(y)]);return m}case f0:{const d=[],m=r([l,d],o);for(const g of o)(t||!Kd($u(g)))&&d.push(s(g));return m}}const{message:h}=o;return r([l,{name:u,message:h}],o)};return s},Tb=(t,{json:e,lossy:n}={})=>{const i=[];return HW(!(e||n),!!e,new Map,i)(t),i},Lp=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Eb(Tb(t,e)):structuredClone(t):(t,e)=>Eb(Tb(t,e));function $W(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function WW(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function qW(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||$W,i=t.options.footnoteBackLabel||WW,r=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[u]);if(!h)continue;const d=t.all(h),m=String(h.identifier).toUpperCase(),g=Yl(m.toLowerCase());let y=0;const x=[],E=t.footnoteCounts.get(m);for(;E!==void 0&&++y<=E;){x.length>0&&x.push({type:"text",value:" "});let k=typeof n=="string"?n:n(u,y);typeof k=="string"&&(k={type:"text",value:k}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,y),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const k=b.children[b.children.length-1];k&&k.type==="text"?k.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...x)}else d.push(...x);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(d,!0)};t.patch(h,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Lp(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const vR=function(t){if(t==null)return QW;if(typeof t=="function")return Lm(t);if(typeof t=="object")return Array.isArray(t)?KW(t):GW(t);if(typeof t=="string")return ZW(t);throw new Error("Expected function, string, or object as test")};function KW(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vR(t[n]);return Lm(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function GW(t){const e=t;return Lm(n);function n(i){const r=i;let s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function ZW(t){return Lm(e);function e(n){return n&&n.type===t}}function Lm(t){return e;function e(n,i,r){return!!(YW(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function QW(){return!0}function YW(t){return t!==null&&typeof t=="object"&&"type"in t}const wR=[],XW=!0,Sb=!1,JW="skip";function e7(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const s=vR(r),o=i?-1:1;l(t,void 0,[])();function l(u,h,d){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=wR,x,E,b;if((!e||s(u,h,d[d.length-1]||void 0))&&(y=t7(n(u,d)),y[0]===Sb))return y;if("children"in u&&u.children){const S=u;if(S.children&&y[0]!==JW)for(E=(i?S.children.length:-1)+o,b=d.concat(S);E>-1&&E<S.children.length;){const k=S.children[E];if(x=l(k,E,b)(),x[0]===Sb)return x;E=typeof x[1]=="number"?x[1]:E+o}}return y}}}function t7(t){return Array.isArray(t)?t:typeof t=="number"?[XW,t]:t==null?wR:[t]}function xR(t,e,n,i){let r,s,o;typeof e=="function"?(s=void 0,o=e,r=n):(s=e,o=n,r=i),e7(t,s,l,r);function l(u,h){const d=h[h.length-1],m=d?d.children.indexOf(u):void 0;return o(u,m,d)}}const Uy={}.hasOwnProperty,n7={};function i7(t,e){const n=e||n7,i=new Map,r=new Map,s=new Map,o={...zW,...n.handlers},l={all:h,applyData:s7,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:r7,wrap:a7};return xR(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?i:r,g=String(d.identifier).toUpperCase();m.has(g)||m.set(g,d)}}),l;function u(d,m){const g=d.type,y=l.handlers[g];if(Uy.call(l.handlers,g)&&y)return y(l,d,m);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in d){const{children:E,...b}=d,S=Lp(b);return S.children=l.all(d),S}return Lp(d)}return(l.options.unknownHandler||o7)(l,d,m)}function h(d){const m=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const x=l.one(g[y],d);if(x){if(y&&g[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=bb(x.value)),!Array.isArray(x)&&x.type==="element")){const E=x.children[0];E&&E.type==="text"&&(E.value=bb(E.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function r7(t,e){t.position&&(e.position=jH(t))}function s7(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const o="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Lp(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function o7(t,e){const n=e.data||{},i="value"in e&&!(Uy.call(n,"hProperties")||Uy.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function a7(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bb(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function kb(t,e){const n=i7(t,e),i=n.one(t,void 0),r=qW(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function l7(t,e){return t&&"run"in t?async function(n,i){const r=kb(n,{file:i,...e});await t.run(r,i)}:function(n,i){return kb(n,{file:i,...t||e})}}function Ib(t){if(t)throw t}var If=Object.prototype.hasOwnProperty,ER=Object.prototype.toString,Pb=Object.defineProperty,Cb=Object.getOwnPropertyDescriptor,Ab=function(e){return typeof Array.isArray=="function"?Array.isArray(e):ER.call(e)==="[object Array]"},Rb=function(e){if(!e||ER.call(e)!=="[object Object]")return!1;var n=If.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&If.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var r;for(r in e);return typeof r>"u"||If.call(e,r)},Lb=function(e,n){Pb&&n.name==="__proto__"?Pb(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Ob=function(e,n){if(n==="__proto__")if(If.call(e,n)){if(Cb)return Cb(e,n).value}else return;return e[n]},u7=function t(){var e,n,i,r,s,o,l=arguments[0],u=1,h=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<h;++u)if(e=arguments[u],e!=null)for(n in e)i=Ob(l,n),r=Ob(e,n),l!==r&&(d&&r&&(Rb(r)||(s=Ab(r)))?(s?(s=!1,o=i&&Ab(i)?i:[]):o=i&&Rb(i)?i:{},Lb(l,{name:n,newValue:t(d,o,r)})):typeof r<"u"&&Lb(l,{name:n,newValue:r}));return l};const Wg=Op(u7);function Hy(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function c7(){const t=[],e={run:n,use:i};return e;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...r);function l(u,...h){const d=t[++s];let m=-1;if(u){o(u);return}for(;++m<r.length;)(h[m]===null||h[m]===void 0)&&(h[m]=r[m]);r=h,d?h7(d,l)(...h):o(null,...h)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function h7(t,e){let n;return i;function i(...o){const l=t.length>o.length;let u;l&&o.push(r);try{u=t.apply(this,o)}catch(h){const d=h;if(l&&n)throw d;return r(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,r):u instanceof Error?r(u):s(u))}function r(o,...l){n||(n=!0,e(o,...l))}function s(o){r(null,o)}}const er={basename:d7,dirname:f7,extname:p7,join:m7,sep:"/"};function d7(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Rh(t);let n=0,i=-1,r=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let o=-1,l=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),l>-1&&(t.codePointAt(r)===e.codePointAt(l--)?l<0&&(i=r):(l=-1,i=o));return n===i?i=o:i<0&&(i=t.length),t.slice(n,i)}function f7(t){if(Rh(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function p7(t){Rh(t);let e=t.length,n=-1,i=0,r=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){i=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function m7(...t){let e=-1,n;for(;++e<t.length;)Rh(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":g7(n)}function g7(t){Rh(t);const e=t.codePointAt(0)===47;let n=_7(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function _7(t,e){let n="",i=0,r=-1,s=0,o=-1,l,u;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o),i=o-r-1;r=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function Rh(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const y7={cwd:v7};function v7(){return"/"}function $y(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function w7(t){if(typeof t=="string")t=new URL(t);else if(!$y(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return x7(t)}function x7(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const qg=["history","path","basename","stem","extname","dirname"];class TR{constructor(e){let n;e?$y(e)?n={path:e}:typeof e=="string"||E7(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":y7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<qg.length;){const s=qg[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)qg.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?er.basename(this.path):void 0}set basename(e){Gg(e,"basename"),Kg(e,"basename"),this.path=er.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?er.dirname(this.path):void 0}set dirname(e){Mb(this.basename,"dirname"),this.path=er.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?er.extname(this.path):void 0}set extname(e){if(Kg(e,"extname"),Mb(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=er.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){$y(e)&&(e=w7(e)),Gg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?er.basename(this.path,this.extname):void 0}set stem(e){Gg(e,"stem"),Kg(e,"stem"),this.path=er.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new mn(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Kg(t,e){if(t&&t.includes(er.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+er.sep+"`")}function Gg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Mb(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function E7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const T7=function(t){const i=this.constructor.prototype,r=i[t],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},S7={}.hasOwnProperty;class p0 extends T7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=c7()}copy(){const e=new p0;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Wg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Yg("data",this.frozen),this.namespace[e]=n,this):S7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Yg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Gd(e),i=this.parser||this.Parser;return Zg("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Zg("process",this.parser||this.Parser),Qg("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,o){const l=Gd(e),u=i.parse(l);i.run(u,l,function(d,m,g){if(d||!m||!g)return h(d);const y=m,x=i.stringify(y,g);I7(x)?g.value=x:g.result=x,h(d,g)});function h(d,m){d||!m?o(d):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,i;return this.freeze(),Zg("processSync",this.parser||this.Parser),Qg("processSync",this.compiler||this.Compiler),this.process(e,r),Db("processSync","process",n),i;function r(s,o){n=!0,Ib(s),i=o}}run(e,n,i){Nb(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(o,l){const u=Gd(n);r.run(e,u,h);function h(d,m,g){const y=m||e;d?l(d):o?o(y):i(void 0,y,g)}}}runSync(e,n){let i=!1,r;return this.run(e,n,s),Db("runSync","run",i),r;function s(o,l){Ib(o),r=l,i=!0}}stringify(e,n){this.freeze();const i=Gd(n),r=this.compiler||this.Compiler;return Qg("stringify",r),Nb(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(Yg("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[d,...m]=h;u(d,m)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(h.plugins),h.settings&&(r.settings=Wg(!0,r.settings,h.settings))}function l(h){let d=-1;if(h!=null)if(Array.isArray(h))for(;++d<h.length;){const m=h[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,d){let m=-1,g=-1;for(;++m<i.length;)if(i[m][0]===h){g=m;break}if(g===-1)i.push([h,...d]);else if(d.length>0){let[y,...x]=d;const E=i[g][1];Hy(E)&&Hy(y)&&(y=Wg(!0,E,y)),i[g]=[h,y,...x]}}}}const b7=new p0().freeze();function Zg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Qg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Yg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nb(t){if(!Hy(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Db(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Gd(t){return k7(t)?t:new TR(t)}function k7(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function I7(t){return typeof t=="string"||P7(t)}function P7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const C7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Fb=[],Vb={allowDangerousHtml:!0},A7=/^(https?|ircs?|mailto|xmpp)$/i,R7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zb(t){const e=L7(t),n=O7(t);return M7(e.runSync(e.parse(n),n),t)}function L7(t){const e=t.rehypePlugins||Fb,n=t.remarkPlugins||Fb,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Vb}:Vb;return b7().use(fW).use(n).use(l7,i).use(e)}function O7(t){const e=t.children||"",n=new TR;return typeof e=="string"&&(n.value=e),n}function M7(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||N7;for(const d of R7)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+C7+d.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),xR(t,h),qH(t,{Fragment:V.Fragment,components:r,ignoreInvalidStyle:!0,jsx:V.jsx,jsxs:V.jsxs,passKeys:!0,passNode:!0});function h(d,m,g){if(d.type==="raw"&&g&&typeof m=="number")return o?g.children.splice(m,1):g.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let y;for(y in Ug)if(Object.hasOwn(Ug,y)&&Object.hasOwn(d.properties,y)){const x=d.properties[y],E=Ug[y];(E===null||E.includes(d.tagName))&&(d.properties[y]=u(String(x||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&i&&typeof m=="number"&&(y=!i(d,m,g)),y&&g&&typeof m=="number")return l&&d.children?g.children.splice(m,1,...d.children):g.children.splice(m,1),m}}}function N7(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||A7.test(t.slice(0,e))?t:""}const SR=({ticket:t,onClose:e,sectorId:n,onTicketUpdated:i})=>{const[r,s]=K.useState((t==null?void 0:t.summary)||null),[o,l]=K.useState((t==null?void 0:t.solution)||null),[u,h]=K.useState(!1),[d,m]=K.useState(!1),[g,y]=K.useState(null),[x,E]=K.useState(null),[b,S]=K.useState(""),[k,I]=K.useState((t==null?void 0:t.statut)||"En cours"),[B,$]=K.useState(!1),[U,A]=K.useState(null),{summarizeTicket:P}=Q9(t==null?void 0:t.demandeSAP);K.useEffect(()=>{(async()=>{t&&(!t.summary&&(t!=null&&t.demandeSAP)&&await O(),!t.solution&&(t!=null&&t.demandeSAP)&&await F(),I(t.statut||"En cours"))})()},[t==null?void 0:t.id,n,t==null?void 0:t.demandeSAP,t==null?void 0:t.statut]);const O=async()=>{h(!0),y(null);try{const D=await P(t==null?void 0:t.demandeSAP);D?(s(D),n&&(t!=null&&t.id)?await Ld(n,t.id,{summary:D}):(console.error("SectorId or ticket.id is missing, cannot update ticket",n,t==null?void 0:t.id),y("Impossible de mettre  jour le ticket: SectorId ou Ticket ID manquant."))):(y("Impossible de gnrer un rsum."),s(null))}catch(D){y(`Erreur lors de la gnration du rsum: ${D.message}`),s(null)}finally{h(!1)}},F=async()=>{m(!0),E(null);try{const D=await P(`Propose une solution pour ce problme: ${t==null?void 0:t.demandeSAP}`);D?(l(D),n&&(t!=null&&t.id)?await Ld(n,t.id,{solution:D}):(console.error("SectorId or ticket.id is missing, cannot update ticket",n,t==null?void 0:t.id),E("Impossible de mettre  jour le ticket: SectorId ou Ticket ID manquant."))):(E("Impossible de gnrer une solution."),l(null))}catch(D){E(`Erreur lors de la gnration de la solution: ${D.message}`),l(null)}finally{m(!1)}},N=async()=>{if(b.trim()&&n&&(t!=null&&t.id)){const D=[...t.commentaires||[],b];try{await Ld(n,t.id,{commentaires:D});const pe={...t,commentaires:D};S(""),i()}catch(pe){y(`Erreur lors de l'ajout du commentaire: ${pe.message}`)}}},z=async()=>{if(n&&(t!=null&&t.id)&&k){$(!0),A(null);try{await Ld(n,t.id,{statut:k}),$(!1),i()}catch(D){A(`Erreur lors de la mise  jour du statut: ${D.message}`),$(!1)}}};return t?V.jsx("div",{className:"modal modal-open",children:V.jsxs("div",{className:"modal-box",children:[V.jsx("button",{onClick:e,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""}),V.jsxs("h3",{className:"font-bold text-lg",children:[t.raisonSociale," - Ticket SAP ",t.numeroSAP]}),V.jsxs("p",{className:"py-4",children:[V.jsx("b",{children:"Code Client:"})," ",t.codeClient]}),V.jsxs("p",{className:"py-4",children:[V.jsx("b",{children:"Adresse:"})," ",t.adresse]}),V.jsxs("p",{className:"py-4",children:[V.jsx("b",{children:"Tlphone:"})," ",t.telephone]}),V.jsxs("p",{className:"py-4",children:[V.jsx("b",{children:"Date:"})," ",t.date]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-lg font-semibold",children:"Demande SAP"}),u&&V.jsx("span",{className:"loading loading-dots loading-sm"}),g&&V.jsxs("p",{className:"text-error",children:["Erreur de rsum: ",g]}),r&&V.jsx(zb,{children:r}),!r&&!u&&!g&&V.jsx("p",{children:"Aucun rsum disponible pour le moment."})]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-lg font-semibold",children:"Solution Propose"}),d&&V.jsx("span",{className:"loading loading-dots loading-sm"}),x&&V.jsx("p",{className:"text-error",children:x}),o&&V.jsx(zb,{children:o}),!o&&!d&&!x&&V.jsx("p",{children:"Aucune solution gnre pour le moment."})]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-lg font-semibold",children:"Statut"}),V.jsx("div",{className:"badge badge-secondary",children:t.statut})]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-lg font-semibold",children:"Modifier le Statut"}),V.jsxs("select",{className:"select select-bordered w-full max-w-xs",value:k,onChange:D=>I(D.target.value),disabled:B,children:[V.jsx("option",{disabled:!0,children:"Choisir le statut"}),V.jsx("option",{value:"En cours",children:"En cours"}),V.jsx("option",{value:"A Clture",children:"A Clture"}),V.jsx("option",{value:"Termine",children:"Termine"})]}),V.jsx("button",{className:"btn btn-primary mt-2",onClick:z,loading:B,children:B?"Mise  jour...":"Mettre  jour le statut"}),U&&V.jsx("p",{className:"text-error",children:U})]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("h3",{className:"text-lg font-semibold",children:"Commentaires"}),t.commentaires&&t.commentaires.length>0?V.jsx("ul",{children:t.commentaires.map((D,pe)=>V.jsx("li",{children:D},pe))}):V.jsx("p",{children:"Aucun commentaire pour le moment."}),V.jsx("textarea",{placeholder:"Ajouter un commentaire",className:"textarea textarea-bordered w-full mt-2",value:b,onChange:D=>S(D.target.value)}),V.jsx("button",{className:"btn btn-primary mt-2",onClick:N,children:"Ajouter un commentaire"})]})]})}):null},D7=()=>{const[t,e]=K.useState(null),[n,i]=K.useState([]),[r,s]=K.useState([]),[o,l]=K.useState([]),[u,h]=K.useState(null),[d,m]=K.useState(!1),{userSectors:g,loadingSectors:y,errorSectors:x}=Dw();K.useEffect(()=>{(async()=>{const $=await ym();console.log("Fetched sectors in SAPPage:",$),i($)})()},[]),K.useEffect(()=>{if(g&&n.length>0){const B=n.filter($=>g.includes($.id));s(B)}else n.length>0&&!g?s([]):s(n)},[n,g]);const E=K.useCallback(async B=>{if(B)try{const $=await bC(B);l($)}catch($){console.error("Failed to load tickets:",$),l([])}else l([])},[]);K.useEffect(()=>{E(t)},[t,E]);const b=B=>{e(B.target.value),h(null),m(!1)},S=B=>{h(B),m(!0)},k=()=>{m(!1),h(null)},I=K.useCallback(()=>{E(t)},[t,E]);return y?V.jsx("p",{children:"Loading sectors..."}):x?V.jsxs("p",{children:["Error loading sectors: ",x]}):V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Tickets SAP"}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("div",{className:"mb-4",children:V.jsxs("div",{className:"form-control w-full max-w-xs",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Secteur"})}),V.jsxs("select",{className:"select select-bordered",value:t||"",onChange:b,disabled:y,children:[V.jsx("option",{disabled:!0,value:"",children:"Choisir le secteur"}),r.map(B=>V.jsx("option",{value:B.id,children:B.id},B.id))]})]})}),t&&V.jsx(BA,{secteur:t,onTicketSelect:S}),!t&&V.jsx("p",{children:"Veuillez slectionner un secteur pour afficher les tickets."})]}),V.jsx("div",{children:d&&V.jsx(SR,{ticket:u,onClose:k,sectorId:t||"",onTicketUpdated:I})})]})]})},F7=()=>{const[t,e]=K.useState(null),[n,i]=K.useState([]),[r,s]=K.useState([]),[o,l]=K.useState(null);K.useEffect(()=>{(async()=>{const m=await ym();i(m)})()},[]),K.useEffect(()=>{t?(async()=>{const m=await Nw(t);s(m)})():s([])},[t]);const u=d=>{e(d.target.value),l(null)},h=d=>{l(d)};return V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Envois"}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("div",{className:"mb-4",children:V.jsxs("div",{className:"form-control w-full max-w-xs",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Secteur"})}),V.jsxs("select",{className:"select select-bordered",value:t||"",onChange:u,children:[V.jsx("option",{disabled:!0,value:"",children:"Choisir le secteur"}),n.map(d=>V.jsx("option",{value:d.id,children:d.id},d.id))]})]})}),V.jsx(BA,{tickets:r,onTicketSelect:h})]}),V.jsx("div",{children:V.jsx(SR,{ticket:o})})]})]})},V7=({user:t,onClose:e})=>t?V.jsx("div",{className:"modal modal-open",children:V.jsxs("div",{className:"modal-box",children:[V.jsx("button",{onClick:e,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""}),V.jsx("h3",{className:"font-bold text-lg",children:"Dtails de l'utilisateur"}),V.jsxs("div",{className:"py-4",children:[V.jsxs("p",{children:[V.jsx("b",{children:"Nom:"})," ",t.nom]}),V.jsxs("p",{children:[V.jsx("b",{children:"Email:"})," ",t.email]}),V.jsxs("p",{children:[V.jsx("b",{children:"Secteurs:"})," ",Array.isArray(t.secteurs)?t.secteurs.join(", "):"N/A"]}),V.jsxs("p",{children:[V.jsx("b",{children:"Role:"})," ",t.role]})]})]})}):null,z7=({users:t,onEditUser:e})=>{const[n,i]=K.useState(null),r=l=>{i(l)},s=()=>{i(null)},o=l=>{e(l)};return V.jsxs("div",{children:[V.jsx("div",{className:"overflow-x-auto",children:V.jsxs("table",{className:"table",children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Nom"}),V.jsx("th",{children:"Email"}),V.jsx("th",{children:"Secteurs"}),V.jsx("th",{children:"Role"}),V.jsx("th",{children:"Actions"})]})}),V.jsx("tbody",{children:t.map(l=>V.jsxs("tr",{children:[V.jsx("td",{children:V.jsx("div",{className:"flex items-center space-x-3",children:V.jsx("div",{children:V.jsx("div",{className:"font-bold",children:l.nom})})})}),V.jsx("td",{children:l.email}),V.jsx("td",{children:Array.isArray(l.secteurs)?l.secteurs.join(", "):"N/A"}),V.jsx("td",{children:l.role}),V.jsxs("th",{children:[V.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>r(l),children:"details"}),V.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>o(l),children:"Modifier"})," "]})]},l.id))}),V.jsx("tfoot",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Nom"}),V.jsx("th",{children:"Email"}),V.jsx("th",{children:"Secteurs"}),V.jsx("th",{children:"Role"}),V.jsx("th",{children:"Actions"})]})})]})}),n&&V.jsx(V7,{user:n,onClose:s})]})},B7=({onSubmit:t,user:e})=>{const[n,i]=K.useState([]),[r,s]=K.useState(!0),[o,l]=K.useState(null),[u,h]=K.useState({nom:"",email:"",password:"",role:"Utilisateur",secteurs:[]});K.useEffect(()=>{(async()=>{s(!0),l(null);try{const x=await ym();i(x)}catch(x){l(x.message||"Failed to load sectors."),console.error("Error fetching sectors:",x)}finally{s(!1)}})()},[]),K.useEffect(()=>{e&&h({nom:e.nom||"",email:e.email||"",password:"",role:e.role||"Utilisateur",secteurs:e.secteurs||[]})},[e]);const d=y=>{const{name:x,value:E}=y.target;h({...u,[x]:E})},m=y=>{const x=Array.from(y.target.selectedOptions,E=>E.value);h({...u,secteurs:x})},g=y=>{y.preventDefault(),t(u)};return r?V.jsx("div",{children:"Loading sectors..."}):o?V.jsx("div",{className:"alert alert-error",children:o}):V.jsx("form",{onSubmit:g,className:"card bg-base-100 shadow-xl",children:V.jsxs("div",{className:"card-body",children:[V.jsx("h2",{className:"card-title",children:e?"Modifier Utilisateur":"Ajouter un utilisateur"}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Nom"})}),V.jsx("input",{type:"text",placeholder:"Nom",className:"input input-bordered",name:"nom",value:u.nom,onChange:d,required:!0})]}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Email"})}),V.jsx("input",{type:"email",placeholder:"Email",className:"input input-bordered",name:"email",value:u.email,onChange:d,required:!0,readOnly:!!e})]}),!e&&V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Mot de passe"})}),V.jsx("input",{type:"password",placeholder:"Mot de passe",className:"input input-bordered",name:"password",value:u.password,onChange:d,required:!0})]}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Rle"})}),V.jsxs("select",{className:"select select-bordered",name:"role",value:u.role,onChange:d,children:[V.jsx("option",{children:"Utilisateur"}),V.jsx("option",{children:"Admin"})]})]}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Secteurs"})}),V.jsx("select",{className:"select select-bordered",name:"secteurs",multiple:!0,value:u.secteurs,onChange:m,children:n.map(y=>V.jsx("option",{value:y.id,children:y.id},y.id))})]}),V.jsx("div",{className:"card-actions justify-end mt-4",children:V.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Modifier":"Ajouter"})})]})})},j7=()=>{const[t,e]=K.useState([]),[n,i]=K.useState(!0),[r,s]=K.useState(null),[o,l]=K.useState(null);K.useEffect(()=>{(async()=>{i(!0),s(null);try{const m=await vy();e(m)}catch(m){s(m.message||"Failed to load users."),console.error("Error fetching users:",m)}finally{i(!1)}})()},[]);const u=async d=>{console.log("User data submitted:",d);try{if(o)await o3("users",o.id,d),console.log("User updated successfully!");else{console.log("Adding new user is not yet implemented in this handler.");return}const m=await vy();e(m),l(null)}catch(m){s(m.message||"Failed to submit user data."),console.error("Error submitting user data:",m)}},h=d=>{l(d)};return n?V.jsx("div",{children:"Loading users..."}):r?V.jsx("div",{className:"alert alert-error",children:r}):V.jsxs("div",{className:"container mx-auto mt-10",children:[V.jsx("h1",{className:"text-3xl font-bold mb-5",children:"Administration des utilisateurs"}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[V.jsx(B7,{onSubmit:u,user:o})," ",V.jsx(z7,{users:t,onEditUser:h})," "]})]})},U7=()=>{const[t,e]=K.useState(!0),[n,i]=K.useState(""),[r,s]=K.useState(""),[o,l]=K.useState(null),u=jv(),h=async d=>{d.preventDefault(),l(null);try{t?await nF(wT,n,r):await tF(wT,n,r),u("/dashboard")}catch(m){l(m.message)}};return V.jsx("div",{className:"hero min-h-screen bg-base-200",children:V.jsxs("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[V.jsxs("div",{className:"text-center lg:text-left",children:[V.jsx("h1",{className:"text-5xl font-bold",children:t?"Connexion":"Inscription"}),V.jsx("p",{className:"py-6",children:t?"Connectez-vous pour accder  l'application.":"Inscrivez-vous pour crer un compte."})]}),V.jsx("div",{className:"card shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:V.jsxs("form",{className:"card-body",onSubmit:h,children:[o&&V.jsx("div",{className:"alert alert-error",children:o}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Email"})}),V.jsx("input",{type:"email",placeholder:"email",className:"input input-bordered",value:n,onChange:d=>i(d.target.value),required:!0})]}),V.jsxs("div",{className:"form-control",children:[V.jsx("label",{className:"label",children:V.jsx("span",{className:"label-text",children:"Mot de passe"})}),V.jsx("input",{type:"password",placeholder:"password",className:"input input-bordered",value:r,onChange:d=>s(d.target.value),required:!0})]}),V.jsx("div",{className:"form-control mt-6",children:V.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Se connecter":"S'inscrire"})}),V.jsx("div",{className:"text-center mt-4",children:V.jsxs("p",{children:[t?"Pas de compte?":"Dj un compte?",V.jsx("button",{type:"button",className:"link link-primary",onClick:()=>e(!t),children:t?"S'inscrire":"Se connecter"})]})})]})})]})})};function H7(){return V.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[V.jsx(I3,{}),V.jsxs(yM,{children:[V.jsx(Po,{path:"/",element:V.jsx(KS,{})}),V.jsx(Po,{path:"/dashboard",element:V.jsx(KS,{})}),V.jsx(Po,{path:"/sap",element:V.jsx(D7,{})}),V.jsx(Po,{path:"/envois",element:V.jsx(F7,{})}),V.jsx(Po,{path:"/admin",element:V.jsx(j7,{})}),V.jsx(Po,{path:"/auth",element:V.jsx(U7,{})})]})]})}Xg.createRoot(document.getElementById("root")).render(V.jsx(Fi.StrictMode,{children:V.jsx(bM,{children:V.jsxs(u3,{children:[" ",V.jsx(H7,{})]})})}));
