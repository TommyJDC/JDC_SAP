function JC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _T={exports:{}},Jd={},yT={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=Symbol.for("react.element"),YC=Symbol.for("react.portal"),XC=Symbol.for("react.fragment"),ek=Symbol.for("react.strict_mode"),tk=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),ik=Symbol.for("react.forward_ref"),sk=Symbol.for("react.suspense"),ok=Symbol.for("react.memo"),ak=Symbol.for("react.lazy"),yv=Symbol.iterator;function lk(t){return t===null||typeof t!="object"?null:(t=yv&&t[yv]||t["@@iterator"],typeof t=="function"?t:null)}var vT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wT=Object.assign,ET={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||vT}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TT(){}TT.prototype=Ga.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||vT}var Bg=Ug.prototype=new TT;Bg.constructor=Ug;wT(Bg,Ga.prototype);Bg.isPureReactComponent=!0;var vv=Array.isArray,xT=Object.prototype.hasOwnProperty,Hg={current:null},ST={key:!0,ref:!0,__self:!0,__source:!0};function IT(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)xT.call(e,r)&&!ST.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Yu,type:t,key:s,ref:a,props:i,_owner:Hg.current}}function uk(t,e){return{$$typeof:Yu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $g(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yu}function ck(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ck(""+t.key):e.toString(36)}function Ph(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Yu:case YC:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ep(a,0):r,vv(i)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),Ph(i,e,n,"",function(f){return f})):i!=null&&($g(i)&&(i=uk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",vv(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+ep(s,u);a+=Ph(s,e,n,c,i)}else if(c=lk(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+ep(s,u++),a+=Ph(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Xc(t,e,n){if(t==null)return t;var r=[],i=0;return Ph(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},Ch={transition:null},dk={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:Hg};function PT(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Xc,forEach:function(t,e,n){Xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xc(t,function(){e++}),e},toArray:function(t){return Xc(t,function(e){return e})||[]},only:function(t){if(!$g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Ga;Ve.Fragment=XC;Ve.Profiler=tk;Ve.PureComponent=Ug;Ve.StrictMode=ek;Ve.Suspense=sk;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;Ve.act=PT;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wT({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Hg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)xT.call(e,c)&&!ST.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Yu,type:t.type,key:i,ref:s,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:rk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nk,_context:t},t.Consumer=t};Ve.createElement=IT;Ve.createFactory=function(t){var e=IT.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:ik,render:t}};Ve.isValidElement=$g;Ve.lazy=function(t){return{$$typeof:ak,_payload:{_status:-1,_result:t},_init:hk}};Ve.memo=function(t,e){return{$$typeof:ok,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=Ch.transition;Ch.transition={};try{t()}finally{Ch.transition=e}};Ve.unstable_act=PT;Ve.useCallback=function(t,e){return fn.current.useCallback(t,e)};Ve.useContext=function(t){return fn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return fn.current.useEffect(t,e)};Ve.useId=function(){return fn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return fn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};Ve.useRef=function(t){return fn.current.useRef(t)};Ve.useState=function(t){return fn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return fn.current.useTransition()};Ve.version="18.3.1";yT.exports=Ve;var $=yT.exports;const _i=Qd($),fk=JC({__proto__:null,default:_i},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=$,mk=Symbol.for("react.element"),gk=Symbol.for("react.fragment"),_k=Object.prototype.hasOwnProperty,yk=pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vk={key:!0,ref:!0,__self:!0,__source:!0};function CT(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_k.call(e,r)&&!vk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mk,type:t,key:s,ref:a,props:i,_owner:yk.current}}Jd.Fragment=gk;Jd.jsx=CT;Jd.jsxs=CT;_T.exports=Jd;var T=_T.exports,em={},kT={exports:{}},Un={},AT={exports:{}},bT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ue){var O=K.length;K.push(ue);e:for(;0<O;){var fe=O-1>>>1,ye=K[fe];if(0<i(ye,ue))K[fe]=ue,K[O]=ye,O=fe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ue=K[0],O=K.pop();if(O!==ue){K[0]=O;e:for(var fe=0,ye=K.length,j=ye>>>1;fe<j;){var be=2*(fe+1)-1,Se=K[be],he=be+1,nt=K[he];if(0>i(Se,O))he<ye&&0>i(nt,Se)?(K[fe]=nt,K[he]=O,fe=he):(K[fe]=Se,K[be]=O,fe=be);else if(he<ye&&0>i(nt,O))K[fe]=nt,K[he]=O,fe=he;else break e}}return ue}function i(K,ue){var O=K.sortIndex-ue.sortIndex;return O!==0?O:K.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],p=1,g=null,y=3,v=!1,x=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=K)r(f),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(f)}}function H(K){if(P=!1,k(K),!x)if(n(c)!==null)x=!0,Oe(W);else{var ue=n(f);ue!==null&&oe(H,ue.startTime-K)}}function W(K,ue){x=!1,P&&(P=!1,S(C),C=-1),v=!0;var O=y;try{for(k(ue),g=n(c);g!==null&&(!(g.expirationTime>ue)||K&&!V());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,y=g.priorityLevel;var ye=fe(g.expirationTime<=ue);ue=t.unstable_now(),typeof ye=="function"?g.callback=ye:g===n(c)&&r(c),k(ue)}else r(c);g=n(c)}if(g!==null)var j=!0;else{var be=n(f);be!==null&&oe(H,be.startTime-ue),j=!1}return j}finally{g=null,y=O,v=!1}}var U=!1,R=null,C=-1,N=5,D=-1;function V(){return!(t.unstable_now()-D<N)}function z(){if(R!==null){var K=t.unstable_now();D=K;var ue=!0;try{ue=R(!0,K)}finally{ue?F():(U=!1,R=null)}}else U=!1}var F;if(typeof A=="function")F=function(){A(z)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ge=me.port2;me.port1.onmessage=z,F=function(){ge.postMessage(null)}}else F=function(){M(z,0)};function Oe(K){R=K,U||(U=!0,F())}function oe(K,ue){C=M(function(){K(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Oe(W))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var O=y;y=ue;try{return K()}finally{y=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var O=y;y=K;try{return ue()}finally{y=O}},t.unstable_scheduleCallback=function(K,ue,O){var fe=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?fe+O:fe):O=fe,K){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=O+ye,K={id:p++,callback:ue,priorityLevel:K,startTime:O,expirationTime:ye,sortIndex:-1},O>fe?(K.sortIndex=O,e(f,K),n(c)===null&&K===n(f)&&(P?(S(C),C=-1):P=!0,oe(H,O-fe))):(K.sortIndex=ye,e(c,K),x||v||(x=!0,Oe(W))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var ue=y;return function(){var O=y;y=ue;try{return K.apply(this,arguments)}finally{y=O}}}})(bT);AT.exports=bT;var wk=AT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek=$,jn=wk;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RT=new Set,Eu={};function wo(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(Eu[t]=e,t=0;t<e.length;t++)RT.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=Object.prototype.hasOwnProperty,Tk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ev={},Tv={};function xk(t){return tm.call(Tv,t)?!0:tm.call(Ev,t)?!1:Tk.test(t)?Tv[t]=!0:(Ev[t]=!0,!1)}function Sk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ik(t,e,n,r){if(e===null||typeof e>"u"||Sk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qg,Wg);qt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qg,Wg);qt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qg,Wg);qt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gg(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ik(e,n,i,r)&&(n=null),r||i===null?xk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=Ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),oa=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),nm=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),LT=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),OT=Symbol.for("react.offscreen"),xv=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,tp;function Gl(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gl(t):""}function Pk(t){switch(t.tag){case 5:return Gl(t.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case oa:return"Portal";case nm:return"Profiler";case Kg:return"StrictMode";case rm:return"Suspense";case im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LT:return(t.displayName||"Context")+".Consumer";case NT:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qg:return e=t.displayName||null,e!==null?e:sm(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return sm(t(e))}catch{}}return null}function Ck(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sm(e);case 8:return e===Kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kk(t){var e=MT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=kk(t))}function DT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function om(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VT(t,e){e=e.checked,e!=null&&Gg(t,"checked",e,!1)}function am(t,e){VT(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lm(t,e.type,n):e.hasOwnProperty("defaultValue")&&lm(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lm(t,e,n){(e!=="number"||Yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Kl(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function FT(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nh,jT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ak=["Webkit","ms","Moz","O"];Object.keys(ru).forEach(function(t){Ak.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ru[e]=ru[t]})});function UT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ru.hasOwnProperty(t)&&ru[t]?(""+e).trim():e+"px"}function BT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bk=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(t,e){if(e){if(bk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function dm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pm=null,wa=null,Ea=null;function kv(t){if(t=tc(t)){if(typeof pm!="function")throw Error(re(280));var e=t.stateNode;e&&(e=nf(e),pm(t.stateNode,t.type,e))}}function HT(t){wa?Ea?Ea.push(t):Ea=[t]:wa=t}function $T(){if(wa){var t=wa,e=Ea;if(Ea=wa=null,kv(t),e)for(t=0;t<e.length;t++)kv(e[t])}}function qT(t,e){return t(e)}function WT(){}var ip=!1;function GT(t,e,n){if(ip)return t(e,n);ip=!0;try{return qT(t,e,n)}finally{ip=!1,(wa!==null||Ea!==null)&&(WT(),$T())}}function xu(t,e){var n=t.stateNode;if(n===null)return null;var r=nf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var mm=!1;if(Ei)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){mm=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{mm=!1}function Rk(t,e,n,r,i,s,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var iu=!1,Xh=null,ed=!1,gm=null,Nk={onError:function(t){iu=!0,Xh=t}};function Lk(t,e,n,r,i,s,a,u,c){iu=!1,Xh=null,Rk.apply(Nk,arguments)}function Ok(t,e,n,r,i,s,a,u,c){if(Lk.apply(this,arguments),iu){if(iu){var f=Xh;iu=!1,Xh=null}else throw Error(re(198));ed||(ed=!0,gm=f)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Av(t){if(Eo(t)!==t)throw Error(re(188))}function Mk(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Av(i),t;if(s===r)return Av(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function ZT(t){return t=Mk(t),t!==null?QT(t):null}function QT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QT(t);if(e!==null)return e;t=t.sibling}return null}var JT=jn.unstable_scheduleCallback,bv=jn.unstable_cancelCallback,Dk=jn.unstable_shouldYield,Vk=jn.unstable_requestPaint,wt=jn.unstable_now,Fk=jn.unstable_getCurrentPriorityLevel,Yg=jn.unstable_ImmediatePriority,YT=jn.unstable_UserBlockingPriority,td=jn.unstable_NormalPriority,zk=jn.unstable_LowPriority,XT=jn.unstable_IdlePriority,Yd=null,Dr=null;function jk(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Hk,Uk=Math.log,Bk=Math.LN2;function Hk(t){return t>>>=0,t===0?32:31-(Uk(t)/Bk|0)|0}var rh=64,ih=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Zl(u):(s&=a,s!==0&&(r=Zl(s)))}else a=n&~i,a!==0?r=Zl(a):s!==0&&(r=Zl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),i=1<<n,r|=t[n],e&=~i;return r}function $k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-vr(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=$k(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function _m(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ex(){var t=rh;return rh<<=1,!(rh&4194240)&&(rh=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function Wk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function tx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nx,e_,rx,ix,sx,ym=!1,sh=[],ss=null,os=null,as=null,Su=new Map,Iu=new Map,Zi=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(t,e){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tc(e),e!==null&&e_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kk(t,e,n,r,i){switch(e){case"focusin":return ss=Vl(ss,t,e,n,r,i),!0;case"dragenter":return os=Vl(os,t,e,n,r,i),!0;case"mouseover":return as=Vl(as,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,Vl(Su.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,Vl(Iu.get(s)||null,t,e,n,r,i)),!0}return!1}function ox(t){var e=Ys(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=KT(n),e!==null){t.blockedOn=e,sx(t.priority,function(){rx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fm=r,n.target.dispatchEvent(r),fm=null}else return e=tc(n),e!==null&&e_(e),t.blockedOn=n,!1;e.shift()}return!0}function Nv(t,e,n){kh(t)&&n.delete(e)}function Zk(){ym=!1,ss!==null&&kh(ss)&&(ss=null),os!==null&&kh(os)&&(os=null),as!==null&&kh(as)&&(as=null),Su.forEach(Nv),Iu.forEach(Nv)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,ym||(ym=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,Zk)))}function Pu(t){function e(i){return Fl(i,t)}if(0<sh.length){Fl(sh[0],t);for(var n=1;n<sh.length;n++){var r=sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ss!==null&&Fl(ss,t),os!==null&&Fl(os,t),as!==null&&Fl(as,t),Su.forEach(e),Iu.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)ox(n),n.blockedOn===null&&Zi.shift()}var Ta=Ai.ReactCurrentBatchConfig,rd=!0;function Qk(t,e,n,r){var i=Ke,s=Ta.transition;Ta.transition=null;try{Ke=1,t_(t,e,n,r)}finally{Ke=i,Ta.transition=s}}function Jk(t,e,n,r){var i=Ke,s=Ta.transition;Ta.transition=null;try{Ke=4,t_(t,e,n,r)}finally{Ke=i,Ta.transition=s}}function t_(t,e,n,r){if(rd){var i=vm(t,e,n,r);if(i===null)mp(t,e,r,id,n),Rv(t,r);else if(Kk(i,t,e,n,r))r.stopPropagation();else if(Rv(t,r),e&4&&-1<Gk.indexOf(t)){for(;i!==null;){var s=tc(i);if(s!==null&&nx(s),s=vm(t,e,n,r),s===null&&mp(t,e,r,id,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var id=null;function vm(t,e,n,r){if(id=null,t=Jg(r),t=Ys(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return id=t,null}function ax(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fk()){case Yg:return 1;case YT:return 4;case td:case zk:return 16;case XT:return 536870912;default:return 16}default:return 16}}var ts=null,n_=null,Ah=null;function lx(){if(Ah)return Ah;var t,e=n_,n=e.length,r,i="value"in ts?ts.value:ts.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Ah=i.slice(t,1<r?1-r:void 0)}function bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function Lv(){return!1}function Bn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oh:Lv,this.isPropagationStopped=Lv,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r_=Bn(Ka),ec=ft({},Ka,{view:0,detail:0}),Yk=Bn(ec),op,ap,zl,Xd=ft({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(op=t.screenX-zl.screenX,ap=t.screenY-zl.screenY):ap=op=0,zl=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),Ov=Bn(Xd),Xk=ft({},Xd,{dataTransfer:0}),eA=Bn(Xk),tA=ft({},ec,{relatedTarget:0}),lp=Bn(tA),nA=ft({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),rA=Bn(nA),iA=ft({},Ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sA=Bn(iA),oA=ft({},Ka,{data:0}),Mv=Bn(oA),aA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uA[t])?!!e[t]:!1}function i_(){return cA}var hA=ft({},ec,{key:function(t){if(t.key){var e=aA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i_,charCode:function(t){return t.type==="keypress"?bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dA=Bn(hA),fA=ft({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Bn(fA),pA=ft({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i_}),mA=Bn(pA),gA=ft({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),_A=Bn(gA),yA=ft({},Xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vA=Bn(yA),wA=[9,13,27,32],s_=Ei&&"CompositionEvent"in window,su=null;Ei&&"documentMode"in document&&(su=document.documentMode);var EA=Ei&&"TextEvent"in window&&!su,ux=Ei&&(!s_||su&&8<su&&11>=su),Vv=" ",Fv=!1;function cx(t,e){switch(t){case"keyup":return wA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function TA(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(Fv=!0,Vv);case"textInput":return t=e.data,t===Vv&&Fv?null:t;default:return null}}function xA(t,e){if(la)return t==="compositionend"||!s_&&cx(t,e)?(t=lx(),Ah=n_=ts=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ux&&e.locale!=="ko"?null:e.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SA[t.type]:e==="textarea"}function dx(t,e,n,r){HT(r),e=sd(e,"onChange"),0<e.length&&(n=new r_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ou=null,Cu=null;function IA(t){xx(t,0)}function ef(t){var e=ha(t);if(DT(e))return t}function PA(t,e){if(t==="change")return e}var fx=!1;if(Ei){var up;if(Ei){var cp="oninput"in document;if(!cp){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),cp=typeof jv.oninput=="function"}up=cp}else up=!1;fx=up&&(!document.documentMode||9<document.documentMode)}function Uv(){ou&&(ou.detachEvent("onpropertychange",px),Cu=ou=null)}function px(t){if(t.propertyName==="value"&&ef(Cu)){var e=[];dx(e,Cu,t,Jg(t)),GT(IA,e)}}function CA(t,e,n){t==="focusin"?(Uv(),ou=e,Cu=n,ou.attachEvent("onpropertychange",px)):t==="focusout"&&Uv()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ef(Cu)}function AA(t,e){if(t==="click")return ef(e)}function bA(t,e){if(t==="input"||t==="change")return ef(e)}function RA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:RA;function ku(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tm.call(e,i)||!Er(t[i],e[i]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gx(){for(var t=window,e=Yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yh(t.document)}return e}function o_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NA(t){var e=gx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mx(n.ownerDocument.documentElement,n)){if(r!==null&&o_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hv(n,s);var a=Hv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LA=Ei&&"documentMode"in document&&11>=document.documentMode,ua=null,wm=null,au=null,Em=!1;function $v(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Em||ua==null||ua!==Yh(r)||(r=ua,"selectionStart"in r&&o_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),au&&ku(au,r)||(au=r,r=sd(wm,"onSelect"),0<r.length&&(e=new r_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ua)))}function ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},hp={},_x={};Ei&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function tf(t){if(hp[t])return hp[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _x)return hp[t]=e[n];return t}var yx=tf("animationend"),vx=tf("animationiteration"),wx=tf("animationstart"),Ex=tf("transitionend"),Tx=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){Tx.set(t,e),wo(e,[t])}for(var dp=0;dp<qv.length;dp++){var fp=qv[dp],OA=fp.toLowerCase(),MA=fp[0].toUpperCase()+fp.slice(1);Ss(OA,"on"+MA)}Ss(yx,"onAnimationEnd");Ss(vx,"onAnimationIteration");Ss(wx,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(Ex,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ok(r,e,void 0,t),t.currentTarget=null}function xx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Wv(i,u,f),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Wv(i,u,f),s=c}}}if(ed)throw t=gm,ed=!1,gm=null,t}function rt(t,e){var n=e[Pm];n===void 0&&(n=e[Pm]=new Set);var r=t+"__bubble";n.has(r)||(Sx(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),Sx(n,t,r,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[lh]){t[lh]=!0,RT.forEach(function(n){n!=="selectionchange"&&(DA.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,pp("selectionchange",!1,e))}}function Sx(t,e,n,r){switch(ax(e)){case 1:var i=Qk;break;case 4:i=Jk;break;default:i=t_}n=i.bind(null,e,n,t),i=void 0,!mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ys(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}GT(function(){var f=s,p=Jg(n),g=[];e:{var y=Tx.get(t);if(y!==void 0){var v=r_,x=t;switch(t){case"keypress":if(bh(n)===0)break e;case"keydown":case"keyup":v=dA;break;case"focusin":x="focus",v=lp;break;case"focusout":x="blur",v=lp;break;case"beforeblur":case"afterblur":v=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mA;break;case yx:case vx:case wx:v=rA;break;case Ex:v=_A;break;case"scroll":v=Yk;break;case"wheel":v=vA;break;case"copy":case"cut":case"paste":v=sA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Dv}var P=(e&4)!==0,M=!P&&t==="scroll",S=P?y!==null?y+"Capture":null:y;P=[];for(var A=f,k;A!==null;){k=A;var H=k.stateNode;if(k.tag===5&&H!==null&&(k=H,S!==null&&(H=xu(A,S),H!=null&&P.push(bu(A,H,k)))),M)break;A=A.return}0<P.length&&(y=new v(y,x,null,n,p),g.push({event:y,listeners:P}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",y&&n!==fm&&(x=n.relatedTarget||n.fromElement)&&(Ys(x)||x[Ti]))break e;if((v||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=f,x=x?Ys(x):null,x!==null&&(M=Eo(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=f),v!==x)){if(P=Ov,H="onMouseLeave",S="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(P=Dv,H="onPointerLeave",S="onPointerEnter",A="pointer"),M=v==null?y:ha(v),k=x==null?y:ha(x),y=new P(H,A+"leave",v,n,p),y.target=M,y.relatedTarget=k,H=null,Ys(p)===f&&(P=new P(S,A+"enter",x,n,p),P.target=k,P.relatedTarget=M,H=P),M=H,v&&x)t:{for(P=v,S=x,A=0,k=P;k;k=ta(k))A++;for(k=0,H=S;H;H=ta(H))k++;for(;0<A-k;)P=ta(P),A--;for(;0<k-A;)S=ta(S),k--;for(;A--;){if(P===S||S!==null&&P===S.alternate)break t;P=ta(P),S=ta(S)}P=null}else P=null;v!==null&&Gv(g,y,v,P,!1),x!==null&&M!==null&&Gv(g,M,x,P,!0)}}e:{if(y=f?ha(f):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var W=PA;else if(zv(y))if(fx)W=bA;else{W=kA;var U=CA}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(W=AA);if(W&&(W=W(t,f))){dx(g,W,n,p);break e}U&&U(t,y,f),t==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&lm(y,"number",y.value)}switch(U=f?ha(f):window,t){case"focusin":(zv(U)||U.contentEditable==="true")&&(ua=U,wm=f,au=null);break;case"focusout":au=wm=ua=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,$v(g,n,p);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":$v(g,n,p)}var R;if(s_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else la?cx(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ux&&n.locale!=="ko"&&(la||C!=="onCompositionStart"?C==="onCompositionEnd"&&la&&(R=lx()):(ts=p,n_="value"in ts?ts.value:ts.textContent,la=!0)),U=sd(f,C),0<U.length&&(C=new Mv(C,t,null,n,p),g.push({event:C,listeners:U}),R?C.data=R:(R=hx(n),R!==null&&(C.data=R)))),(R=EA?TA(t,n):xA(t,n))&&(f=sd(f,"onBeforeInput"),0<f.length&&(p=new Mv("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=R))}xx(g,e)})}function bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,n),s!=null&&r.unshift(bu(t,s,i)),s=xu(t,e),s!=null&&r.push(bu(t,s,i))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=xu(n,s),c!=null&&a.unshift(bu(n,c,u))):i||(c=xu(n,s),c!=null&&a.push(bu(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var VA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(VA,`
`).replace(FA,"")}function uh(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(re(425))}function od(){}var Tm=null,xm=null;function Sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(t){return Zv.resolve(null).then(t).catch(UA)}:Im;function UA(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pu(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Za,Ru="__reactProps$"+Za,Ti="__reactContainer$"+Za,Pm="__reactEvents$"+Za,BA="__reactListeners$"+Za,HA="__reactHandles$"+Za;function Ys(t){var e=t[Lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[Lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qv(t);t!==null;){if(n=t[Lr])return n;t=Qv(t)}return e}t=n,n=t.parentNode}return null}function tc(t){return t=t[Lr]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function nf(t){return t[Ru]||null}var Cm=[],da=-1;function Is(t){return{current:t}}function st(t){0>da||(t.current=Cm[da],Cm[da]=null,da--)}function et(t,e){da++,Cm[da]=t.current,t.current=e}var vs={},tn=Is(vs),Tn=Is(!1),ao=vs;function Na(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function ad(){st(Tn),st(tn)}function Jv(t,e,n){if(tn.current!==vs)throw Error(re(168));et(tn,e),et(Tn,n)}function Ix(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,Ck(t)||"Unknown",i));return ft({},n,r)}function ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ao=tn.current,et(tn,t),et(Tn,Tn.current),!0}function Yv(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=Ix(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,st(Tn),st(tn),et(tn,t)):st(Tn),et(Tn,n)}var hi=null,rf=!1,_p=!1;function Px(t){hi===null?hi=[t]:hi.push(t)}function $A(t){rf=!0,Px(t)}function Ps(){if(!_p&&hi!==null){_p=!0;var t=0,e=Ke;try{var n=hi;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,rf=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),JT(Yg,Ps),i}finally{Ke=e,_p=!1}}return null}var fa=[],pa=0,ud=null,cd=0,Xn=[],er=0,lo=null,di=1,fi="";function Ws(t,e){fa[pa++]=cd,fa[pa++]=ud,ud=t,cd=e}function Cx(t,e,n){Xn[er++]=di,Xn[er++]=fi,Xn[er++]=lo,lo=t;var r=di;t=fi;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var s=32-vr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,di=1<<32-vr(e)+i|n<<i|r,fi=s+t}else di=1<<s|n<<i|r,fi=t}function a_(t){t.return!==null&&(Ws(t,1),Cx(t,1,0))}function l_(t){for(;t===ud;)ud=fa[--pa],fa[pa]=null,cd=fa[--pa],fa[pa]=null;for(;t===lo;)lo=Xn[--er],Xn[er]=null,fi=Xn[--er],Xn[er]=null,di=Xn[--er],Xn[er]=null}var Fn=null,Mn=null,lt=!1,_r=null;function kx(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Mn=null,!0):!1;default:return!1}}function km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Am(t){if(lt){var e=Mn;if(e){var n=e;if(!Xv(t,e)){if(km(t))throw Error(re(418));e=ls(n.nextSibling);var r=Fn;e&&Xv(t,e)?kx(r,n):(t.flags=t.flags&-4097|2,lt=!1,Fn=t)}}else{if(km(t))throw Error(re(418));t.flags=t.flags&-4097|2,lt=!1,Fn=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function ch(t){if(t!==Fn)return!1;if(!lt)return ew(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sm(t.type,t.memoizedProps)),e&&(e=Mn)){if(km(t))throw Ax(),Error(re(418));for(;e;)kx(t,e),e=ls(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Fn?ls(t.stateNode.nextSibling):null;return!0}function Ax(){for(var t=Mn;t;)t=ls(t.nextSibling)}function La(){Mn=Fn=null,lt=!1}function u_(t){_r===null?_r=[t]:_r.push(t)}var qA=Ai.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function bx(t){function e(S,A){if(t){var k=S.deletions;k===null?(S.deletions=[A],S.flags|=16):k.push(A)}}function n(S,A){if(!t)return null;for(;A!==null;)e(S,A),A=A.sibling;return null}function r(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function i(S,A){return S=ds(S,A),S.index=0,S.sibling=null,S}function s(S,A,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<A?(S.flags|=2,A):k):(S.flags|=2,A)):(S.flags|=1048576,A)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,A,k,H){return A===null||A.tag!==6?(A=Sp(k,S.mode,H),A.return=S,A):(A=i(A,k),A.return=S,A)}function c(S,A,k,H){var W=k.type;return W===aa?p(S,A,k.props.children,H,k.key):A!==null&&(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Gi&&tw(W)===A.type)?(H=i(A,k.props),H.ref=jl(S,A,k),H.return=S,H):(H=Vh(k.type,k.key,k.props,null,S.mode,H),H.ref=jl(S,A,k),H.return=S,H)}function f(S,A,k,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Ip(k,S.mode,H),A.return=S,A):(A=i(A,k.children||[]),A.return=S,A)}function p(S,A,k,H,W){return A===null||A.tag!==7?(A=io(k,S.mode,H,W),A.return=S,A):(A=i(A,k),A.return=S,A)}function g(S,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Sp(""+A,S.mode,k),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case eh:return k=Vh(A.type,A.key,A.props,null,S.mode,k),k.ref=jl(S,null,A),k.return=S,k;case oa:return A=Ip(A,S.mode,k),A.return=S,A;case Gi:var H=A._init;return g(S,H(A._payload),k)}if(Kl(A)||Ml(A))return A=io(A,S.mode,k,null),A.return=S,A;hh(S,A)}return null}function y(S,A,k,H){var W=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:u(S,A,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eh:return k.key===W?c(S,A,k,H):null;case oa:return k.key===W?f(S,A,k,H):null;case Gi:return W=k._init,y(S,A,W(k._payload),H)}if(Kl(k)||Ml(k))return W!==null?null:p(S,A,k,H,null);hh(S,k)}return null}function v(S,A,k,H,W){if(typeof H=="string"&&H!==""||typeof H=="number")return S=S.get(k)||null,u(A,S,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case eh:return S=S.get(H.key===null?k:H.key)||null,c(A,S,H,W);case oa:return S=S.get(H.key===null?k:H.key)||null,f(A,S,H,W);case Gi:var U=H._init;return v(S,A,k,U(H._payload),W)}if(Kl(H)||Ml(H))return S=S.get(k)||null,p(A,S,H,W,null);hh(A,H)}return null}function x(S,A,k,H){for(var W=null,U=null,R=A,C=A=0,N=null;R!==null&&C<k.length;C++){R.index>C?(N=R,R=null):N=R.sibling;var D=y(S,R,k[C],H);if(D===null){R===null&&(R=N);break}t&&R&&D.alternate===null&&e(S,R),A=s(D,A,C),U===null?W=D:U.sibling=D,U=D,R=N}if(C===k.length)return n(S,R),lt&&Ws(S,C),W;if(R===null){for(;C<k.length;C++)R=g(S,k[C],H),R!==null&&(A=s(R,A,C),U===null?W=R:U.sibling=R,U=R);return lt&&Ws(S,C),W}for(R=r(S,R);C<k.length;C++)N=v(R,S,C,k[C],H),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?C:N.key),A=s(N,A,C),U===null?W=N:U.sibling=N,U=N);return t&&R.forEach(function(V){return e(S,V)}),lt&&Ws(S,C),W}function P(S,A,k,H){var W=Ml(k);if(typeof W!="function")throw Error(re(150));if(k=W.call(k),k==null)throw Error(re(151));for(var U=W=null,R=A,C=A=0,N=null,D=k.next();R!==null&&!D.done;C++,D=k.next()){R.index>C?(N=R,R=null):N=R.sibling;var V=y(S,R,D.value,H);if(V===null){R===null&&(R=N);break}t&&R&&V.alternate===null&&e(S,R),A=s(V,A,C),U===null?W=V:U.sibling=V,U=V,R=N}if(D.done)return n(S,R),lt&&Ws(S,C),W;if(R===null){for(;!D.done;C++,D=k.next())D=g(S,D.value,H),D!==null&&(A=s(D,A,C),U===null?W=D:U.sibling=D,U=D);return lt&&Ws(S,C),W}for(R=r(S,R);!D.done;C++,D=k.next())D=v(R,S,C,D.value,H),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?C:D.key),A=s(D,A,C),U===null?W=D:U.sibling=D,U=D);return t&&R.forEach(function(z){return e(S,z)}),lt&&Ws(S,C),W}function M(S,A,k,H){if(typeof k=="object"&&k!==null&&k.type===aa&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case eh:e:{for(var W=k.key,U=A;U!==null;){if(U.key===W){if(W=k.type,W===aa){if(U.tag===7){n(S,U.sibling),A=i(U,k.props.children),A.return=S,S=A;break e}}else if(U.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Gi&&tw(W)===U.type){n(S,U.sibling),A=i(U,k.props),A.ref=jl(S,U,k),A.return=S,S=A;break e}n(S,U);break}else e(S,U);U=U.sibling}k.type===aa?(A=io(k.props.children,S.mode,H,k.key),A.return=S,S=A):(H=Vh(k.type,k.key,k.props,null,S.mode,H),H.ref=jl(S,A,k),H.return=S,S=H)}return a(S);case oa:e:{for(U=k.key;A!==null;){if(A.key===U)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){n(S,A.sibling),A=i(A,k.children||[]),A.return=S,S=A;break e}else{n(S,A);break}else e(S,A);A=A.sibling}A=Ip(k,S.mode,H),A.return=S,S=A}return a(S);case Gi:return U=k._init,M(S,A,U(k._payload),H)}if(Kl(k))return x(S,A,k,H);if(Ml(k))return P(S,A,k,H);hh(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,A!==null&&A.tag===6?(n(S,A.sibling),A=i(A,k),A.return=S,S=A):(n(S,A),A=Sp(k,S.mode,H),A.return=S,S=A),a(S)):n(S,A)}return M}var Oa=bx(!0),Rx=bx(!1),hd=Is(null),dd=null,ma=null,c_=null;function h_(){c_=ma=dd=null}function d_(t){var e=hd.current;st(hd),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){dd=t,c_=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(c_!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(dd===null)throw Error(re(308));ma=t,dd.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var Xs=null;function f_(t){Xs===null?Xs=[t]:Xs.push(t)}function Nx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f_(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function p_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,f_(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fd(t,e,n,r){var i=t.updateQueue;Ki=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=f=c=null,u=s;do{var y=u.lane,v=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,P=u;switch(y=e,v=n,P.tag){case 1:if(x=P.payload,typeof x=="function"){g=x.call(v,g,y);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=P.payload,y=typeof x=="function"?x.call(v,g,y):x,y==null)break e;g=ft({},g,y);break e;case 2:Ki=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[u]:y.push(u))}else v={eventTime:v,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=v,c=g):p=p.next=v,a|=y;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;y=u,u=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=a,t.lanes=a,t.memoizedState=g}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var nc={},Vr=Is(nc),Nu=Is(nc),Lu=Is(nc);function eo(t){if(t===nc)throw Error(re(174));return t}function m_(t,e){switch(et(Lu,e),et(Nu,t),et(Vr,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cm(e,t)}st(Vr),et(Vr,e)}function Ma(){st(Vr),st(Nu),st(Lu)}function Ox(t){eo(Lu.current);var e=eo(Vr.current),n=cm(e,t.type);e!==n&&(et(Nu,t),et(Vr,n))}function g_(t){Nu.current===t&&(st(Vr),st(Nu))}var ht=Is(0);function pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yp=[];function __(){for(var t=0;t<yp.length;t++)yp[t]._workInProgressVersionPrimary=null;yp.length=0}var Nh=Ai.ReactCurrentDispatcher,vp=Ai.ReactCurrentBatchConfig,uo=0,dt=null,bt=null,Dt=null,md=!1,lu=!1,Ou=0,WA=0;function Kt(){throw Error(re(321))}function y_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function v_(t,e,n,r,i,s){if(uo=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nh.current=t===null||t.memoizedState===null?QA:JA,t=n(r,i),lu){s=0;do{if(lu=!1,Ou=0,25<=s)throw Error(re(301));s+=1,Dt=bt=null,e.updateQueue=null,Nh.current=YA,t=n(r,i)}while(lu)}if(Nh.current=gd,e=bt!==null&&bt.next!==null,uo=0,Dt=bt=dt=null,md=!1,e)throw Error(re(300));return t}function w_(){var t=Ou!==0;return Ou=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?dt.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function sr(){if(bt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Dt===null?dt.memoizedState:Dt.next;if(e!==null)Dt=e,bt=t;else{if(t===null)throw Error(re(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Dt===null?dt.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Mu(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=sr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,f=s;do{var p=f.lane;if((uo&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,a=r):c=c.next=g,dt.lanes|=p,co|=p}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=u,Er(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=sr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Er(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Mx(){}function Dx(t,e){var n=dt,r=sr(),i=e(),s=!Er(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,E_(zx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Du(9,Fx.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(re(349));uo&30||Vx(n,e,i)}return i}function Vx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fx(t,e,n,r){e.value=n,e.getSnapshot=r,jx(e)&&Ux(t)}function zx(t,e,n){return n(function(){jx(e)&&Ux(t)})}function jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function Ux(t){var e=xi(t,1);e!==null&&wr(e,t,1,-1)}function iw(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=ZA.bind(null,dt,t),[e.memoizedState,t]}function Du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bx(){return sr().memoizedState}function Lh(t,e,n,r){var i=Rr();dt.flags|=t,i.memoizedState=Du(1|e,n,void 0,r===void 0?null:r)}function sf(t,e,n,r){var i=sr();r=r===void 0?null:r;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,r!==null&&y_(r,a.deps)){i.memoizedState=Du(e,n,s,r);return}}dt.flags|=t,i.memoizedState=Du(1|e,n,s,r)}function sw(t,e){return Lh(8390656,8,t,e)}function E_(t,e){return sf(2048,8,t,e)}function Hx(t,e){return sf(4,2,t,e)}function $x(t,e){return sf(4,4,t,e)}function qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,n){return n=n!=null?n.concat([t]):null,sf(4,4,qx.bind(null,e,t),n)}function T_(){}function Gx(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Kx(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zx(t,e,n){return uo&21?(Er(n,e)||(n=ex(),dt.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function GA(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=vp.transition;vp.transition={};try{t(!1),e()}finally{Ke=n,vp.transition=r}}function Qx(){return sr().memoizedState}function KA(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jx(t))Yx(e,n);else if(n=Nx(t,e,n,r),n!==null){var i=dn();wr(n,t,r,i),Xx(n,e,r)}}function ZA(t,e,n){var r=hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jx(t))Yx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Er(u,a)){var c=e.interleaved;c===null?(i.next=i,f_(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Nx(t,e,i,r),n!==null&&(i=dn(),wr(n,t,r,i),Xx(n,e,r))}}function Jx(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function Yx(t,e){lu=md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}var gd={readContext:ir,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},QA={readContext:ir,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4194308,4,qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KA.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:iw,useDebugValue:T_,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=iw(!1),e=t[0];return t=GA.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=Rr();if(lt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Vt===null)throw Error(re(349));uo&30||Vx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sw(zx.bind(null,r,s,t),[t]),r.flags|=2048,Du(9,Fx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Vt.identifierPrefix;if(lt){var n=fi,r=di;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JA={readContext:ir,useCallback:Gx,useContext:ir,useEffect:E_,useImperativeHandle:Wx,useInsertionEffect:Hx,useLayoutEffect:$x,useMemo:Kx,useReducer:wp,useRef:Bx,useState:function(){return wp(Mu)},useDebugValue:T_,useDeferredValue:function(t){var e=sr();return Zx(e,bt.memoizedState,t)},useTransition:function(){var t=wp(Mu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Qx,unstable_isNewReconciler:!1},YA={readContext:ir,useCallback:Gx,useContext:ir,useEffect:E_,useImperativeHandle:Wx,useInsertionEffect:Hx,useLayoutEffect:$x,useMemo:Kx,useReducer:Ep,useRef:Bx,useState:function(){return Ep(Mu)},useDebugValue:T_,useDeferredValue:function(t){var e=sr();return bt===null?e.memoizedState=t:Zx(e,bt.memoizedState,t)},useTransition:function(){var t=Ep(Mu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Qx,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var of={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=hs(t),s=yi(r,i);s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(wr(e,t,i,r),Rh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=hs(t),s=yi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(wr(e,t,i,r),Rh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=hs(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=us(t,i,r),e!==null&&(wr(e,t,r,n),Rh(e,t,r))}};function ow(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,s):!0}function eS(t,e,n){var r=!1,i=vs,s=e.contextType;return typeof s=="object"&&s!==null?s=ir(s):(i=xn(e)?ao:tn.current,r=e.contextTypes,s=(r=r!=null)?Na(t,i):vs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&of.enqueueReplaceState(e,e.state,null)}function Nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},p_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ir(s):(s=xn(e)?ao:tn.current,i.context=Na(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&of.enqueueReplaceState(i,i.state,null),fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var n="",r=e;do n+=Pk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function tS(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yd||(yd=!0,Hm=r),Lm(t,e)},n}function nS(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lm(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fb.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var eb=Ai.ReactCurrentOwner,En=!1;function hn(t,e,n,r){e.child=t===null?Rx(e,null,n,r):Oa(e,t.child,n,r)}function hw(t,e,n,r,i){n=n.render;var s=e.ref;return xa(e,i),r=v_(t,e,n,r,s,i),n=w_(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(lt&&n&&a_(e),e.flags|=1,hn(t,e,r,i),e.child)}function dw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!b_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rS(t,e,s,r,i)):(t=Vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(a,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function rS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ku(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Si(t,e,i)}return Om(t,e,n,r,i)}function iS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(_a,On),On|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(_a,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(_a,On),On|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(_a,On),On|=r;return hn(t,e,i,n),e.child}function sS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Om(t,e,n,r,i){var s=xn(n)?ao:tn.current;return s=Na(e,s),xa(e,i),n=v_(t,e,n,r,s,i),r=w_(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(lt&&r&&a_(e),e.flags|=1,hn(t,e,n,i),e.child)}function fw(t,e,n,r,i){if(xn(n)){var s=!0;ld(e)}else s=!1;if(xa(e,i),e.stateNode===null)Oh(t,e),eS(e,n,r),Nm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=ir(f):(f=xn(n)?ao:tn.current,f=Na(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==f)&&aw(e,a,r,f),Ki=!1;var y=e.memoizedState;a.state=y,fd(e,r,a,i),c=e.memoizedState,u!==r||y!==c||Tn.current||Ki?(typeof p=="function"&&(Rm(e,n,p,r),c=e.memoizedState),(u=Ki||ow(e,n,u,r,y,c,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Lx(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:mr(e.type,u),a.props=f,g=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=xn(n)?ao:tn.current,c=Na(e,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||y!==c)&&aw(e,a,r,c),Ki=!1,y=e.memoizedState,a.state=y,fd(e,r,a,i);var x=e.memoizedState;u!==g||y!==x||Tn.current||Ki?(typeof v=="function"&&(Rm(e,n,v,r),x=e.memoizedState),(f=Ki||ow(e,n,f,r,y,x,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,s,i)}function Mm(t,e,n,r,i,s){sS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Yv(e,n,!1),Si(t,e,s);r=e.stateNode,eb.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Oa(e,t.child,null,s),e.child=Oa(e,null,u,s)):hn(t,e,u,s),e.memoizedState=r.state,i&&Yv(e,n,!0),e.child}function oS(t){var e=t.stateNode;e.pendingContext?Jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jv(t,e.context,!1),m_(t,e.containerInfo)}function pw(t,e,n,r,i){return La(),u_(i),e.flags|=256,hn(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function aS(t,e,n){var r=e.pendingProps,i=ht.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ht,i&1),t===null)return Am(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=uf(a,r,0,null),t=io(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vm(n),e.memoizedState=Dm,t):x_(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return tb(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ds(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ds(u,s):(s=io(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return s=t.child,t=s.sibling,r=ds(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x_(t,e){return e=uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dh(t,e,n,r){return r!==null&&u_(r),Oa(e,t.child,null,n),t=x_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tb(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Tp(Error(re(422))),dh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uf({mode:"visible",children:r.children},i,0,null),s=io(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oa(e,t.child,null,a),e.child.memoizedState=Vm(a),e.memoizedState=Dm,s);if(!(e.mode&1))return dh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(re(419)),r=Tp(s,r,void 0),dh(t,e,a,r)}if(u=(a&t.childLanes)!==0,En||u){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),wr(r,t,i,-1))}return A_(),r=Tp(Error(re(421))),dh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=ls(i.nextSibling),Fn=e,lt=!0,_r=null,t!==null&&(Xn[er++]=di,Xn[er++]=fi,Xn[er++]=lo,di=t.id,fi=t.overflow,lo=e),e=x_(e,r.children),e.flags|=4096,e)}function mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function xp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mw(t,n,e);else if(t.tag===19)mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xp(e,!0,n,null,s);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nb(t,e,n){switch(e.tag){case 3:oS(e),La();break;case 5:Ox(e);break;case 1:xn(e.type)&&ld(e);break;case 4:m_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(hd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?aS(t,e,n):(et(ht,ht.current&1),t=Si(t,e,n),t!==null?t.sibling:null);et(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,iS(t,e,n)}return Si(t,e,n)}var uS,Fm,cS,hS;uS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fm=function(){};cS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,eo(Vr.current);var s=null;switch(n){case"input":i=om(t,i),r=om(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=um(t,i),r=um(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=od)}hm(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Eu.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&rt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};hS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rb(t,e,n){var r=e.pendingProps;switch(l_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return xn(e.type)&&ad(),Zt(e),null;case 3:return r=e.stateNode,Ma(),st(Tn),st(tn),__(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(Wm(_r),_r=null))),Fm(t,e),Zt(e),null;case 5:g_(e);var i=eo(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)cS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Zt(e),null}if(t=eo(Vr.current),ch(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Lr]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)rt(Ql[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Sv(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":Pv(r,s),rt("invalid",r)}hm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&uh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&uh(r.textContent,u,t),i=["children",""+u]):Eu.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":th(r),Iv(r,s,!0);break;case"textarea":th(r),Cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Lr]=e,t[Ru]=r,uS(t,e,!1,!1),e.stateNode=t;e:{switch(a=dm(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)rt(Ql[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Sv(t,r),i=om(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Pv(t,r),i=um(t,r),rt("invalid",t);break;default:i=r}hm(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?BT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jT(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tu(t,c):typeof c=="number"&&Tu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",t):c!=null&&Gg(t,s,c,a))}switch(n){case"input":th(t),Iv(t,r,!1);break;case"textarea":th(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)hS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=eo(Lu.current),eo(Vr.current),ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:uh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lr]=e,e.stateNode=r}return Zt(e),null;case 13:if(st(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Mn!==null&&e.mode&1&&!(e.flags&128))Ax(),La(),e.flags|=98560,s=!1;else if(s=ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Lr]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),s=!1}else _r!==null&&(Wm(_r),_r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Rt===0&&(Rt=3):A_())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ma(),Fm(t,e),t===null&&Au(e.stateNode.containerInfo),Zt(e),null;case 10:return d_(e.type._context),Zt(e),null;case 17:return xn(e.type)&&ad(),Zt(e),null;case 19:if(st(ht),s=e.memoizedState,s===null)return Zt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ul(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=pd(t),a!==null){for(e.flags|=128,Ul(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&wt()>Va&&(e.flags|=128,r=!0,Ul(s,!1),e.lanes=4194304)}else{if(!r)if(t=pd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return Zt(e),null}else 2*wt()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Ul(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=ht.current,et(ht,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return k_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function ib(t,e){switch(l_(e),e.tag){case 1:return xn(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),st(Tn),st(tn),__(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g_(e),null;case 13:if(st(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ht),null;case 4:return Ma(),null;case 10:return d_(e.type._context),null;case 22:case 23:return k_(),null;case 24:return null;default:return null}}var fh=!1,Yt=!1,sb=typeof WeakSet=="function"?WeakSet:Set,le=null;function ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){gt(t,e,r)}}var gw=!1;function ob(t,e){if(Tm=rd,t=gx(),o_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,p=0,g=t,y=null;t:for(;;){for(var v;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)y=g,g=v;for(;;){if(g===t)break t;if(y===n&&++f===i&&(u=a),y===s&&++p===r&&(c=a),(v=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xm={focusedElem:t,selectionRange:n},rd=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var P=x.memoizedProps,M=x.memoizedState,S=e.stateNode,A=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:mr(e.type,P),M);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(H){gt(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=gw,gw=!1,x}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zm(e,n,s)}i=i.next}while(i!==r)}}function af(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dS(t){var e=t.alternate;e!==null&&(t.alternate=null,dS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lr],delete e[Ru],delete e[Pm],delete e[BA],delete e[HA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fS(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=od));else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}function Bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bm(t,e,n),t=t.sibling;t!==null;)Bm(t,e,n),t=t.sibling}var jt=null,gr=!1;function $i(t,e,n){for(n=n.child;n!==null;)pS(t,e,n),n=n.sibling}function pS(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:Yt||ga(n,e);case 6:var r=jt,i=gr;jt=null,$i(t,e,n),jt=r,gr=i,jt!==null&&(gr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(gr?(t=jt,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Pu(t)):gp(jt,n.stateNode));break;case 4:r=jt,i=gr,jt=n.stateNode.containerInfo,gr=!0,$i(t,e,n),jt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zm(n,e,a),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!Yt&&(ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){gt(n,e,u)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,$i(t,e,n),Yt=r):$i(t,e,n);break;default:$i(t,e,n)}}function yw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sb),e.forEach(function(r){var i=mb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:jt=u.stateNode,gr=!1;break e;case 3:jt=u.stateNode.containerInfo,gr=!0;break e;case 4:jt=u.stateNode.containerInfo,gr=!0;break e}u=u.return}if(jt===null)throw Error(re(160));pS(s,a,i),jt=null,gr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){gt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mS(e,t),e=e.sibling}function mS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),Ar(t),r&4){try{uu(3,t,t.return),af(3,t)}catch(P){gt(t,t.return,P)}try{uu(5,t,t.return)}catch(P){gt(t,t.return,P)}}break;case 1:pr(e,t),Ar(t),r&512&&n!==null&&ga(n,n.return);break;case 5:if(pr(e,t),Ar(t),r&512&&n!==null&&ga(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(P){gt(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&VT(i,s),dm(u,a);var f=dm(u,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?BT(i,g):p==="dangerouslySetInnerHTML"?jT(i,g):p==="children"?Tu(i,g):Gg(i,p,g,f)}switch(u){case"input":am(i,s);break;case"textarea":FT(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?va(i,!!s.multiple,v,!1):y!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(P){gt(t,t.return,P)}}break;case 6:if(pr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){gt(t,t.return,P)}}break;case 3:if(pr(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(P){gt(t,t.return,P)}break;case 4:pr(e,t),Ar(t);break;case 13:pr(e,t),Ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(P_=wt())),r&4&&yw(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(f=Yt)||p,pr(e,t),Yt=f):pr(e,t),Ar(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(le=t,p=t.child;p!==null;){for(g=le=p;le!==null;){switch(y=le,v=y.child,y.tag){case 0:case 11:case 14:case 15:uu(4,y,y.return);break;case 1:ga(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(P){gt(r,n,P)}}break;case 5:ga(y,y.return);break;case 22:if(y.memoizedState!==null){ww(g);continue}}v!==null?(v.return=y,le=v):ww(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=UT("display",a))}catch(P){gt(t,t.return,P)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(P){gt(t,t.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:pr(e,t),Ar(t),r&4&&yw(t);break;case 21:break;default:pr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fS(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var s=_w(t);Bm(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=_w(t);Um(t,u,a);break;default:throw Error(re(161))}}catch(c){gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ab(t,e,n){le=t,gS(t)}function gS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fh;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Yt;u=fh;var f=Yt;if(fh=a,(Yt=c)&&!f)for(le=i;le!==null;)a=le,c=a.child,a.tag===22&&a.memoizedState!==null?Ew(i):c!==null?(c.return=a,le=c):Ew(i);for(;s!==null;)le=s,gS(s),s=s.sibling;le=i,fh=u,Yt=f}vw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):vw(t)}}function vw(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||af(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rw(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Pu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Yt||e.flags&512&&jm(e)}catch(y){gt(e,e.return,y)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function ww(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Ew(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{af(4,e)}catch(c){gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gt(e,i,c)}}var s=e.return;try{jm(e)}catch(c){gt(e,s,c)}break;case 5:var a=e.return;try{jm(e)}catch(c){gt(e,a,c)}}}catch(c){gt(e,e.return,c)}if(e===t){le=null;break}var u=e.sibling;if(u!==null){u.return=e.return,le=u;break}le=e.return}}var lb=Math.ceil,_d=Ai.ReactCurrentDispatcher,S_=Ai.ReactCurrentOwner,rr=Ai.ReactCurrentBatchConfig,$e=0,Vt=null,Pt=null,Ht=0,On=0,_a=Is(0),Rt=0,Vu=null,co=0,lf=0,I_=0,cu=null,vn=null,P_=0,Va=1/0,ci=null,yd=!1,Hm=null,cs=null,ph=!1,ns=null,vd=0,hu=0,$m=null,Mh=-1,Dh=0;function dn(){return $e&6?wt():Mh!==-1?Mh:Mh=wt()}function hs(t){return t.mode&1?$e&2&&Ht!==0?Ht&-Ht:qA.transition!==null?(Dh===0&&(Dh=ex()),Dh):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:ax(t.type)),t):1}function wr(t,e,n,r){if(50<hu)throw hu=0,$m=null,Error(re(185));Xu(t,n,r),(!($e&2)||t!==Vt)&&(t===Vt&&(!($e&2)&&(lf|=n),Rt===4&&Qi(t,Ht)),Sn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Va=wt()+500,rf&&Ps()))}function Sn(t,e){var n=t.callbackNode;qk(t,e);var r=nd(t,t===Vt?Ht:0);if(r===0)n!==null&&bv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bv(n),e===1)t.tag===0?$A(Tw.bind(null,t)):Px(Tw.bind(null,t)),jA(function(){!($e&6)&&Ps()}),n=null;else{switch(tx(r)){case 1:n=Yg;break;case 4:n=YT;break;case 16:n=td;break;case 536870912:n=XT;break;default:n=td}n=SS(n,_S.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _S(t,e){if(Mh=-1,Dh=0,$e&6)throw Error(re(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=nd(t,t===Vt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var i=$e;$e|=2;var s=vS();(Vt!==t||Ht!==e)&&(ci=null,Va=wt()+500,ro(t,e));do try{hb();break}catch(u){yS(t,u)}while(!0);h_(),_d.current=s,$e=i,Pt!==null?e=0:(Vt=null,Ht=0,e=Rt)}if(e!==0){if(e===2&&(i=_m(t),i!==0&&(r=i,e=qm(t,i))),e===1)throw n=Vu,ro(t,0),Qi(t,r),Sn(t,wt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ub(i)&&(e=wd(t,r),e===2&&(s=_m(t),s!==0&&(r=s,e=qm(t,s))),e===1))throw n=Vu,ro(t,0),Qi(t,r),Sn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Gs(t,vn,ci);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=P_+500-wt(),10<e)){if(nd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Im(Gs.bind(null,t,vn,ci),e);break}Gs(t,vn,ci);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-vr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lb(r/1960))-r,10<r){t.timeoutHandle=Im(Gs.bind(null,t,vn,ci),r);break}Gs(t,vn,ci);break;case 5:Gs(t,vn,ci);break;default:throw Error(re(329))}}}return Sn(t,wt()),t.callbackNode===n?_S.bind(null,t):null}function qm(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=wd(t,e),t!==2&&(e=vn,vn=n,e!==null&&Wm(e)),t}function Wm(t){vn===null?vn=t:vn.push.apply(vn,t)}function ub(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~I_,e&=~lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function Tw(t){if($e&6)throw Error(re(327));Sa();var e=nd(t,0);if(!(e&1))return Sn(t,wt()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=_m(t);r!==0&&(e=r,n=qm(t,r))}if(n===1)throw n=Vu,ro(t,0),Qi(t,e),Sn(t,wt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,vn,ci),Sn(t,wt()),null}function C_(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Va=wt()+500,rf&&Ps())}}function ho(t){ns!==null&&ns.tag===0&&!($e&6)&&Sa();var e=$e;$e|=1;var n=rr.transition,r=Ke;try{if(rr.transition=null,Ke=1,t)return t()}finally{Ke=r,rr.transition=n,$e=e,!($e&6)&&Ps()}}function k_(){On=_a.current,st(_a)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zA(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(l_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ad();break;case 3:Ma(),st(Tn),st(tn),__();break;case 5:g_(r);break;case 4:Ma();break;case 13:st(ht);break;case 19:st(ht);break;case 10:d_(r.type._context);break;case 22:case 23:k_()}n=n.return}if(Vt=t,Pt=t=ds(t.current,null),Ht=On=e,Rt=0,Vu=null,I_=lf=co=0,vn=cu=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Xs=null}return t}function yS(t,e){do{var n=Pt;try{if(h_(),Nh.current=gd,md){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}md=!1}if(uo=0,Dt=bt=dt=null,lu=!1,Ou=0,S_.current=null,n===null||n.return===null){Rt=1,Vu=e,Pt=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Ht,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=u,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=uw(a);if(v!==null){v.flags&=-257,cw(v,a,u,s,e),v.mode&1&&lw(s,f,e),e=v,c=f;var x=e.updateQueue;if(x===null){var P=new Set;P.add(c),e.updateQueue=P}else x.add(c);break e}else{if(!(e&1)){lw(s,f,e),A_();break e}c=Error(re(426))}}else if(lt&&u.mode&1){var M=uw(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),cw(M,a,u,s,e),u_(Da(c,u));break e}}s=c=Da(c,u),Rt!==4&&(Rt=2),cu===null?cu=[s]:cu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=tS(s,c,e);nw(s,S);break e;case 1:u=c;var A=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cs===null||!cs.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var H=nS(s,u,e);nw(s,H);break e}}s=s.return}while(s!==null)}ES(n)}catch(W){e=W,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function vS(){var t=_d.current;return _d.current=gd,t===null?gd:t}function A_(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Vt===null||!(co&268435455)&&!(lf&268435455)||Qi(Vt,Ht)}function wd(t,e){var n=$e;$e|=2;var r=vS();(Vt!==t||Ht!==e)&&(ci=null,ro(t,e));do try{cb();break}catch(i){yS(t,i)}while(!0);if(h_(),$e=n,_d.current=r,Pt!==null)throw Error(re(261));return Vt=null,Ht=0,Rt}function cb(){for(;Pt!==null;)wS(Pt)}function hb(){for(;Pt!==null&&!Dk();)wS(Pt)}function wS(t){var e=xS(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?ES(t):Pt=e,S_.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ib(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Pt=null;return}}else if(n=rb(n,e,On),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Rt===0&&(Rt=5)}function Gs(t,e,n){var r=Ke,i=rr.transition;try{rr.transition=null,Ke=1,db(t,e,n,r)}finally{rr.transition=i,Ke=r}return null}function db(t,e,n,r){do Sa();while(ns!==null);if($e&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Wk(t,s),t===Vt&&(Pt=Vt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ph||(ph=!0,SS(td,function(){return Sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var a=Ke;Ke=1;var u=$e;$e|=4,S_.current=null,ob(t,n),mS(n,t),NA(xm),rd=!!Tm,xm=Tm=null,t.current=n,ab(n),Vk(),$e=u,Ke=a,rr.transition=s}else t.current=n;if(ph&&(ph=!1,ns=t,vd=i),s=t.pendingLanes,s===0&&(cs=null),jk(n.stateNode),Sn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yd)throw yd=!1,t=Hm,Hm=null,t;return vd&1&&t.tag!==0&&Sa(),s=t.pendingLanes,s&1?t===$m?hu++:(hu=0,$m=t):hu=0,Ps(),null}function Sa(){if(ns!==null){var t=tx(vd),e=rr.transition,n=Ke;try{if(rr.transition=null,Ke=16>t?16:t,ns===null)var r=!1;else{if(t=ns,ns=null,vd=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,le=t.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(le=f;le!==null;){var p=le;switch(p.tag){case 0:case 11:case 15:uu(8,p,s)}var g=p.child;if(g!==null)g.return=p,le=g;else for(;le!==null;){p=le;var y=p.sibling,v=p.return;if(dS(p),p===f){le=null;break}if(y!==null){y.return=v,le=y;break}le=v}}}var x=s.alternate;if(x!==null){var P=x.child;if(P!==null){x.child=null;do{var M=P.sibling;P.sibling=null,P=M}while(P!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,le=S;break e}le=s.return}}var A=t.current;for(le=A;le!==null;){a=le;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,le=k;else e:for(a=A;le!==null;){if(u=le,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:af(9,u)}}catch(W){gt(u,u.return,W)}if(u===a){le=null;break e}var H=u.sibling;if(H!==null){H.return=u.return,le=H;break e}le=u.return}}if($e=i,Ps(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{Ke=n,rr.transition=e}}return!1}function xw(t,e,n){e=Da(n,e),e=tS(t,e,1),t=us(t,e,1),e=dn(),t!==null&&(Xu(t,1,e),Sn(t,e))}function gt(t,e,n){if(t.tag===3)xw(t,t,n);else for(;e!==null;){if(e.tag===3){xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=Da(n,t),t=nS(e,t,1),e=us(e,t,1),t=dn(),e!==null&&(Xu(e,1,t),Sn(e,t));break}}e=e.return}}function fb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Ht&n)===n&&(Rt===4||Rt===3&&(Ht&130023424)===Ht&&500>wt()-P_?ro(t,0):I_|=n),Sn(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=ih,ih<<=1,!(ih&130023424)&&(ih=4194304)):e=1);var n=dn();t=xi(t,e),t!==null&&(Xu(t,e,n),Sn(t,n))}function pb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function mb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),TS(t,n)}var xS;xS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,nb(t,e,n);En=!!(t.flags&131072)}else En=!1,lt&&e.flags&1048576&&Cx(e,cd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oh(t,e),t=e.pendingProps;var i=Na(e,tn.current);xa(e,n),i=v_(null,e,r,t,i,n);var s=w_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(s=!0,ld(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p_(e),i.updater=of,e.stateNode=i,i._reactInternals=e,Nm(e,r,t,n),e=Mm(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&a_(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_b(r),t=mr(r,t),i){case 0:e=Om(null,e,r,t,n);break e;case 1:e=fw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=dw(null,e,r,mr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),Om(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),fw(t,e,r,i,n);case 3:e:{if(oS(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lx(t,e),fd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Da(Error(re(423)),e),e=pw(t,e,r,n,i);break e}else if(r!==i){i=Da(Error(re(424)),e),e=pw(t,e,r,n,i);break e}else for(Mn=ls(e.stateNode.containerInfo.firstChild),Fn=e,lt=!0,_r=null,n=Rx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Si(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return Ox(e),t===null&&Am(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Sm(r,i)?a=null:s!==null&&Sm(r,s)&&(e.flags|=32),sS(t,e),hn(t,e,a,n),e.child;case 6:return t===null&&Am(e),null;case 13:return aS(t,e,n);case 4:return m_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),hw(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,et(hd,r._currentValue),r._currentValue=a,s!==null)if(Er(s.value,a)){if(s.children===i.children&&!Tn.current){e=Si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=yi(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),bm(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),bm(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=ir(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),dw(t,e,r,i,n);case 15:return rS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),Oh(t,e),e.tag=1,xn(r)?(t=!0,ld(e)):t=!1,xa(e,n),eS(e,r,i),Nm(e,r,i,n),Mm(null,e,r,!0,t,n);case 19:return lS(t,e,n);case 22:return iS(t,e,n)}throw Error(re(156,e.tag))};function SS(t,e){return JT(t,e)}function gb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new gb(t,e,n,r)}function b_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _b(t){if(typeof t=="function")return b_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===Qg)return 14}return 2}function ds(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vh(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")b_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case aa:return io(n.children,i,s,e);case Kg:a=8,i|=8;break;case nm:return t=nr(12,n,e,i|2),t.elementType=nm,t.lanes=s,t;case rm:return t=nr(13,n,e,i),t.elementType=rm,t.lanes=s,t;case im:return t=nr(19,n,e,i),t.elementType=im,t.lanes=s,t;case OT:return uf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NT:a=10;break e;case LT:a=9;break e;case Zg:a=11;break e;case Qg:a=14;break e;case Gi:a=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=nr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function io(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function uf(t,e,n,r){return t=nr(22,t,r,e),t.elementType=OT,t.lanes=n,t.stateNode={isHidden:!1},t}function Sp(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Ip(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R_(t,e,n,r,i,s,a,u,c){return t=new yb(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p_(s),t}function vb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return vs;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(xn(n))return Ix(t,n,e)}return e}function PS(t,e,n,r,i,s,a,u,c){return t=R_(n,r,!0,t,i,s,a,u,c),t.context=IS(null),n=t.current,r=dn(),i=hs(n),s=yi(r,i),s.callback=e??null,us(n,s,i),t.current.lanes=i,Xu(t,i,r),Sn(t,r),t}function cf(t,e,n,r){var i=e.current,s=dn(),a=hs(i);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(i,e,a),t!==null&&(wr(t,i,a,s),Rh(t,i,a)),a}function Ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N_(t,e){Sw(t,e),(t=t.alternate)&&Sw(t,e)}function wb(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function L_(t){this._internalRoot=t}hf.prototype.render=L_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));cf(t,e,null,null)};hf.prototype.unmount=L_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){cf(null,t,null,null)}),e[Ti]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ix();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&ox(t)}};function O_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iw(){}function Eb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Ed(a);s.call(f)}}var a=PS(e,r,t,0,null,!1,!1,"",Iw);return t._reactRootContainer=a,t[Ti]=a.current,Au(t.nodeType===8?t.parentNode:t),ho(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Ed(c);u.call(f)}}var c=R_(t,0,!1,null,null,!1,!1,"",Iw);return t._reactRootContainer=c,t[Ti]=c.current,Au(t.nodeType===8?t.parentNode:t),ho(function(){cf(e,c,n,r)}),c}function ff(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=Ed(a);u.call(c)}}cf(e,a,t,i)}else a=Eb(n,e,t,i,r);return Ed(a)}nx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(Xg(e,n|1),Sn(e,wt()),!($e&6)&&(Va=wt()+500,Ps()))}break;case 13:ho(function(){var r=xi(t,1);if(r!==null){var i=dn();wr(r,t,1,i)}}),N_(t,1)}};e_=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=dn();wr(e,t,134217728,n)}N_(t,134217728)}};rx=function(t){if(t.tag===13){var e=hs(t),n=xi(t,e);if(n!==null){var r=dn();wr(n,t,e,r)}N_(t,e)}};ix=function(){return Ke};sx=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};pm=function(t,e,n){switch(e){case"input":if(am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nf(r);if(!i)throw Error(re(90));DT(r),am(r,i)}}}break;case"textarea":FT(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};qT=C_;WT=ho;var Tb={usingClientEntryPoint:!1,Events:[tc,ha,nf,HT,$T,C_]},Bl={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xb={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZT(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Yd=mh.inject(xb),Dr=mh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O_(e))throw Error(re(200));return vb(t,e,null,n)};Un.createRoot=function(t,e){if(!O_(t))throw Error(re(299));var n=!1,r="",i=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R_(t,1,!1,null,null,n,!1,r,i),t[Ti]=e.current,Au(t.nodeType===8?t.parentNode:t),new L_(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=ZT(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ho(t)};Un.hydrate=function(t,e,n){if(!df(e))throw Error(re(200));return ff(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!O_(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=CS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=PS(e,null,t,1,n??null,i,!1,s,a),t[Ti]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hf(e)};Un.render=function(t,e,n){if(!df(e))throw Error(re(200));return ff(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!df(t))throw Error(re(40));return t._reactRootContainer?(ho(function(){ff(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Un.unstable_batchedUpdates=C_;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!df(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return ff(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function kS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kS)}catch(t){console.error(t)}}kS(),kT.exports=Un;var Sb=kT.exports,Pw=Sb;em.createRoot=Pw.createRoot,em.hydrateRoot=Pw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}var rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rs||(rs={}));const Cw="popstate";function Ib(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return Gm("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Td(i)}return Cb(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substr(2,8)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function Gm(t,e,n,r){return n===void 0&&(n=null),Fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qa(e):e,{state:n,key:e&&e.key||r||Pb()})}function Td(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=rs.Pop,c=null,f=p();f==null&&(f=0,a.replaceState(Fu({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=rs.Pop;let M=p(),S=M==null?null:M-f;f=M,c&&c({action:u,location:P.location,delta:S})}function y(M,S){u=rs.Push;let A=Gm(P.location,M,S);f=p()+1;let k=kw(A,f),H=P.createHref(A);try{a.pushState(k,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(H)}s&&c&&c({action:u,location:P.location,delta:1})}function v(M,S){u=rs.Replace;let A=Gm(P.location,M,S);f=p();let k=kw(A,f),H=P.createHref(A);a.replaceState(k,"",H),s&&c&&c({action:u,location:P.location,delta:0})}function x(M){let S=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof M=="string"?M:Td(M);return A=A.replace(/ $/,"%20"),_t(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let P={get action(){return u},get location(){return t(i,a)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Cw,g),c=M,()=>{i.removeEventListener(Cw,g),c=null}},createHref(M){return e(i,M)},createURL:x,encodeLocation(M){let S=x(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(M){return a.go(M)}};return P}var Aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Aw||(Aw={}));function kb(t,e,n){return n===void 0&&(n="/"),Ab(t,e,n)}function Ab(t,e,n,r){let i=typeof e=="string"?Qa(e):e,s=Fa(i.pathname||"/",n);if(s==null)return null;let a=bS(t);bb(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=Ub(s);u=zb(a[c],f)}return u}function bS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=fs([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),bS(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Vb(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of RS(s.path))i(s,a,c)}),e}function RS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=RS(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function bb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Fb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rb=/^:[\w-]+$/,Nb=3,Lb=2,Ob=1,Mb=10,Db=-2,bw=t=>t==="*";function Vb(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=Db),e&&(r+=Lb),n.filter(i=>!bw(i)).reduce((i,s)=>i+(Rb.test(s)?Nb:s===""?Ob:Mb),r)}function Fb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zb(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Km({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:fs([s,g.pathname]),pathnameBase:qb(fs([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=fs([s,g.pathnameBase]))}return a}function Km(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,p,g)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let P=u[g]||"";a=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const x=u[g];return v&&!x?f[y]=void 0:f[y]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function jb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ub(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qa(t):t;return{pathname:n?n.startsWith("/")?n:Hb(n,e):e,search:Wb(r),hash:Gb(i)}}function Hb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $b(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NS(t,e){let n=$b(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qa(t):(i=Fu({},t),_t(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let c=Bb(i,u),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const fs=t=>t.join("/").replace(/\/\/+/g,"/"),qb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OS=["post","put","patch","delete"];new Set(OS);const Zb=["get",...OS];new Set(Zb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}const pf=$.createContext(null),MS=$.createContext(null),Cs=$.createContext(null),mf=$.createContext(null),To=$.createContext({outlet:null,matches:[],isDataRoute:!1}),DS=$.createContext(null);function Qb(t,e){let{relative:n}=e===void 0?{}:e;rc()||_t(!1);let{basename:r,navigator:i}=$.useContext(Cs),{hash:s,pathname:a,search:u}=_f(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:fs([r,a])),i.createHref({pathname:c,search:u,hash:s})}function rc(){return $.useContext(mf)!=null}function ic(){return rc()||_t(!1),$.useContext(mf).location}function VS(t){$.useContext(Cs).static||$.useLayoutEffect(t)}function gf(){let{isDataRoute:t}=$.useContext(To);return t?uR():Jb()}function Jb(){rc()||_t(!1);let t=$.useContext(pf),{basename:e,future:n,navigator:r}=$.useContext(Cs),{matches:i}=$.useContext(To),{pathname:s}=ic(),a=JSON.stringify(NS(i,n.v7_relativeSplatPath)),u=$.useRef(!1);return VS(()=>{u.current=!0}),$.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=LS(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fs([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,a,s,t])}function _f(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(Cs),{matches:i}=$.useContext(To),{pathname:s}=ic(),a=JSON.stringify(NS(i,r.v7_relativeSplatPath));return $.useMemo(()=>LS(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Yb(t,e){return Xb(t,e)}function Xb(t,e,n,r){rc()||_t(!1);let{navigator:i,static:s}=$.useContext(Cs),{matches:a}=$.useContext(To),u=a[a.length-1],c=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=ic(),g;if(e){var y;let S=typeof e=="string"?Qa(e):e;f==="/"||(y=S.pathname)!=null&&y.startsWith(f)||_t(!1),g=S}else g=p;let v=g.pathname||"/",x=v;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let P=kb(t,{pathname:x}),M=iR(P&&P.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:fs([f,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:fs([f,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&M?$.createElement(mf.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:rs.Pop}},M):M}function eR(){let t=lR(),e=Kb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const tR=$.createElement(eR,null);class nR extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(To.Provider,{value:this.props.routeContext},$.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rR(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(pf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(To.Provider,{value:e},r)}function iR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||_t(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:v}=n,x=g.route.loader&&y[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,y)=>{let v,x=!1,P=null,M=null;n&&(v=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||tR,c&&(f<0&&y===0?(cR("route-fallback"),x=!0,M=null):f===y&&(x=!0,M=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),A=()=>{let k;return v?k=P:x?k=M:g.route.Component?k=$.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,$.createElement(rR,{match:g,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?$.createElement(nR,{location:n.location,revalidation:n.revalidation,component:P,error:v,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var FS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FS||{}),zS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zS||{});function sR(t){let e=$.useContext(pf);return e||_t(!1),e}function oR(t){let e=$.useContext(MS);return e||_t(!1),e}function aR(t){let e=$.useContext(To);return e||_t(!1),e}function jS(t){let e=aR(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function lR(){var t;let e=$.useContext(DS),n=oR(),r=jS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uR(){let{router:t}=sR(FS.UseNavigateStable),e=jS(zS.UseNavigateStable),n=$.useRef(!1);return VS(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zu({fromRouteId:e},s)))},[t,e])}const Rw={};function cR(t,e,n){Rw[t]||(Rw[t]=!0)}function hR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ks(t){_t(!1)}function dR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=rs.Pop,navigator:s,static:a=!1,future:u}=t;rc()&&_t(!1);let c=e.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:c,navigator:s,static:a,future:zu({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Qa(r));let{pathname:p="/",search:g="",hash:y="",state:v=null,key:x="default"}=r,P=$.useMemo(()=>{let M=Fa(p,c);return M==null?null:{location:{pathname:M,search:g,hash:y,state:v,key:x},navigationType:i}},[c,p,g,y,v,x,i]);return P==null?null:$.createElement(Cs.Provider,{value:f},$.createElement(mf.Provider,{children:n,value:P}))}function fR(t){let{children:e,location:n}=t;return Yb(Zm(e),n)}new Promise(()=>{});function Zm(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Zm(r.props.children,s));return}r.type!==Ks&&_t(!1),!r.props.index||!r.props.children||_t(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Zm(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}function US(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mR(t,e){return t.button===0&&(!e||e==="_self")&&!pR(t)}const gR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_R=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yR="6";try{window.__reactRouterVersion=yR}catch{}const vR=$.createContext({isTransitioning:!1}),wR="startTransition",Nw=fk[wR];function ER(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=Ib({window:i,v5Compat:!0}));let a=s.current,[u,c]=$.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},p=$.useCallback(g=>{f&&Nw?Nw(()=>c(g)):c(g)},[c,f]);return $.useLayoutEffect(()=>a.listen(p),[a,p]),$.useEffect(()=>hR(r),[r]),$.createElement(dR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const TR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BS=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:c,to:f,preventScrollReset:p,viewTransition:g}=e,y=US(e,gR),{basename:v}=$.useContext(Cs),x,P=!1;if(typeof f=="string"&&xR.test(f)&&(x=f,TR))try{let k=new URL(window.location.href),H=f.startsWith("//")?new URL(k.protocol+f):new URL(f),W=Fa(H.pathname,v);H.origin===k.origin&&W!=null?f=W+H.search+H.hash:P=!0}catch{}let M=Qb(f,{relative:i}),S=IR(f,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:g});function A(k){r&&r(k),k.defaultPrevented||S(k)}return $.createElement("a",xd({},y,{href:x||M,onClick:P||s?r:A,ref:n,target:c}))}),ui=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:u,to:c,viewTransition:f,children:p}=e,g=US(e,_R),y=_f(c,{relative:g.relative}),v=ic(),x=$.useContext(MS),{navigator:P,basename:M}=$.useContext(Cs),S=x!=null&&PR(y)&&f===!0,A=P.encodeLocation?P.encodeLocation(y).pathname:y.pathname,k=v.pathname,H=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(k=k.toLowerCase(),H=H?H.toLowerCase():null,A=A.toLowerCase()),H&&M&&(H=Fa(H,M)||H);const W=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let U=k===A||!a&&k.startsWith(A)&&k.charAt(W)==="/",R=H!=null&&(H===A||!a&&H.startsWith(A)&&H.charAt(A.length)==="/"),C={isActive:U,isPending:R,isTransitioning:S},N=U?r:void 0,D;typeof s=="function"?D=s(C):D=[s,U?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return $.createElement(BS,xd({},g,{"aria-current":N,className:D,ref:n,style:V,to:c,viewTransition:f}),typeof p=="function"?p(C):p)});var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Lw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lw||(Lw={}));function SR(t){let e=$.useContext(pf);return e||_t(!1),e}function IR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:u}=e===void 0?{}:e,c=gf(),f=ic(),p=_f(t,{relative:a});return $.useCallback(g=>{if(mR(g,n)){g.preventDefault();let y=r!==void 0?r:Td(f)===Td(p);c(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[f,c,p,r,i,n,t,s,a,u])}function PR(t,e){e===void 0&&(e={});let n=$.useContext(vR);n==null&&_t(!1);let{basename:r}=SR(Qm.useViewTransitionState),i=_f(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Km(i.pathname,a)!=null||Km(i.pathname,s)!=null}var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|f>>6,v=f&63;c||(v=64,a||(y=64)),r.push(n[p],n[g],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new kR;const y=s<<2|u>>4;if(r.push(y),f!==64){const v=u<<4&240|f>>2;if(r.push(v),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AR=function(t){const e=HS(t);return $S.encodeByteArray(e,!0)},Sd=function(t){return AR(t).replace(/\./g,"")},qS=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>bR().__FIREBASE_DEFAULTS__,NR=()=>{if(typeof process>"u"||typeof Ow>"u")return;const t=Ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return RR()||NR()||LR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GS=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KS=()=>{var t;return(t=yf())===null||t===void 0?void 0:t.config},ZS=t=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sd(JSON.stringify(n)),Sd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function DR(){var t;const e=(t=yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jR(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$R,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?qR(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Gr(i,u,r)}}function qR(t,e){return t.replace(WR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WR=/\{\$([^}]+)}/g;function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Id(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Mw(s)&&Mw(a)){if(!Id(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KR(t,e){const n=new ZR(t,e);return n.subscribe.bind(n)}class ZR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cp),i.error===void 0&&(i.error=Cp),i.complete===void 0&&(i.complete=Cp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YR(t){return t===Zs?void 0:t}function XR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const t2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},n2=je.INFO,r2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},i2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const s2=(t,e)=>e.some(n=>t instanceof n);let Dw,Vw;function o2(){return Dw||(Dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,Jm=new WeakMap,YS=new WeakMap,kp=new WeakMap,D_=new WeakMap;function l2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ps(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),D_.set(e,t),e}function u2(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Jm.set(t,e)}let Ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c2(t){Ym=t(Ym)}function h2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),ps(r)}:a2().includes(t)?function(...e){return t.apply(Ap(this),e),ps(JS.get(this))}:function(...e){return ps(t.apply(Ap(this),e))}}function d2(t){return typeof t=="function"?h2(t):(t instanceof IDBTransaction&&u2(t),s2(t,o2())?new Proxy(t,Ym):t)}function ps(t){if(t instanceof IDBRequest)return l2(t);if(kp.has(t))return kp.get(t);const e=d2(t);return e!==t&&(kp.set(t,e),D_.set(e,t)),e}const Ap=t=>D_.get(t);function f2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=ps(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ps(a.result),c.oldVersion,c.newVersion,ps(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const p2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],bp=new Map;function Fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=m2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p2.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return bp.set(e,s),s}c2(t=>({...t,get:(e,n,r)=>Fw(e,n)||t.get(e,n,r),has:(e,n)=>!!Fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",zw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new M_("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",w2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",x2="@firebase/auth",S2="@firebase/auth-compat",I2="@firebase/database",P2="@firebase/data-connect",C2="@firebase/database-compat",k2="@firebase/functions",A2="@firebase/functions-compat",b2="@firebase/installations",R2="@firebase/installations-compat",N2="@firebase/messaging",L2="@firebase/messaging-compat",O2="@firebase/performance",M2="@firebase/performance-compat",D2="@firebase/remote-config",V2="@firebase/remote-config-compat",F2="@firebase/storage",z2="@firebase/storage-compat",j2="@firebase/firestore",U2="@firebase/vertexai-preview",B2="@firebase/firestore-compat",H2="firebase",$2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",q2={[Xm]:"fire-core",[y2]:"fire-core-compat",[w2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[x2]:"fire-auth",[S2]:"fire-auth-compat",[I2]:"fire-rtdb",[P2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[k2]:"fire-fn",[A2]:"fire-fn-compat",[b2]:"fire-iid",[R2]:"fire-iid-compat",[N2]:"fire-fcm",[L2]:"fire-fcm-compat",[O2]:"fire-perf",[M2]:"fire-perf-compat",[D2]:"fire-rc",[V2]:"fire-rc-compat",[F2]:"fire-gcs",[z2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,W2=new Map,tg=new Map;function jw(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fo(t){const e=t.name;if(tg.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of Pd.values())jw(n,t);for(const n of W2.values())jw(n,t);return!0}function vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new sc("app","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=$2;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=KS()),!n)throw ms.create("no-options");const s=Pd.get(i);if(s){if(Id(n,s.options)&&Id(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const a=new e2(i);for(const c of tg.values())a.addComponent(c);const u=new K2(n,r,a);return Pd.set(i,u),u}function V_(t=eg){const e=Pd.get(t);if(!e&&t===eg&&KS())return XS();if(!e)throw ms.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let i=(r=q2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(u.join(" "));return}fo(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="firebase-heartbeat-database",Q2=1,ju="firebase-heartbeat-store";let Rp=null;function e1(){return Rp||(Rp=f2(Z2,Q2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function J2(t){try{const n=(await e1()).transaction(ju),r=await n.objectStore(ju).get(t1(t));return await n.done,r}catch(e){if(e instanceof Gr)Ii.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function Uw(t,e){try{const r=(await e1()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,t1(t)),await r.done}catch(n){if(n instanceof Gr)Ii.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function t1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1024,X2=30*24*60*60*1e3;class eN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=X2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bw(),{heartbeatsToSend:r,unsentEntries:i}=tN(this._heartbeatsCache.heartbeats),s=Sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ii.warn(n),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function tN(t,e=Y2){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Hw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hw(t){return Sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){fo(new ws("platform-logger",e=>new g2(e),"PRIVATE")),fo(new ws("heartbeat",e=>new eN(e),"PRIVATE")),Fr(Xm,zw,t),Fr(Xm,zw,"esm2017"),Fr("fire-js","")}rN("");function F_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iN=n1,r1=new sc("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new M_("@firebase/auth");function sN(t,...e){Cd.logLevel<=je.WARN&&Cd.warn(`Auth (${xo}): ${t}`,...e)}function Fh(t,...e){Cd.logLevel<=je.ERROR&&Cd.error(`Auth (${xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw z_(t,...e)}function zr(t,...e){return z_(t,...e)}function i1(t,e,n){const r=Object.assign(Object.assign({},iN()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return i1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r1.create(t,...e)}function Te(t,e,...n){if(!t)throw z_(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fh(e),new Error(e)}function Pi(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oN(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oN()||FR()||"connection"in navigator)?navigator.onLine:!0}function lN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||zR()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new ac(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function As(t,e,n,r,i={}){return o1(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=oc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},s);return VR()||(f.referrerPolicy="no-referrer"),s1.fetch()(a1(t,t.config.apiHost,n,u),f)})}async function o1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uN),e);try{const i=new dN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw gh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw gh(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw i1(t,p,f);Tr(t,p)}}catch(i){if(i instanceof Gr)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function lc(t,e,n,r,i={}){const s=await As(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function a1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j_(t.config,i):`${t.config.apiScheme}://${i}`}function hN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),cN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function qw(t){return t!==void 0&&t.enterprise!==void 0}class fN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pN(t,e){return As(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function l1(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gN(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=U_(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:du(Np(i.auth_time)),issuedAtTime:du(Np(i.iat)),expirationTime:du(Np(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function U_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=qS(n);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ww(t){const e=U_(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&_N(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _N({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uu(t,l1(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?u1(s.providerUserInfo):[],u=wN(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new rg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function vN(t){const e=kt(t);await kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u1(t){return t.map(e=>{var{providerId:n}=e,r=F_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){const n=await o1(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=a1(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",s1.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TN(t,e){return As(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ia;return r&&(Te(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await Uu(this,mN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,P=(u=n.tenantId)!==null&&u!==void 0?u:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:H,isAnonymous:W,providerData:U,stsTokenManager:R}=n;Te(k&&R,e,"internal-error");const C=Ia.fromJSON(this.name,R);Te(typeof k=="string",e,"internal-error"),qi(g,e.name),qi(y,e.name),Te(typeof H=="boolean",e,"internal-error"),Te(typeof W=="boolean",e,"internal-error"),qi(v,e.name),qi(x,e.name),qi(P,e.name),qi(M,e.name),qi(S,e.name),qi(A,e.name);const N=new mi({uid:k,auth:e,email:y,emailVerified:H,displayName:g,isAnonymous:W,photoURL:x,phoneNumber:v,tenantId:P,stsTokenManager:C,createdAt:S,lastLoginAt:A});return U&&Array.isArray(U)&&(N.providerData=U.map(D=>Object.assign({},D))),M&&(N._redirectEventId=M),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ia;i.updateFromServerResponse(n);const s=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?u1(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ia;u.updateFromIdToken(r);const c=new mi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function gi(t){Pi(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c1.type="NONE";const Kw=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zh(this.userKey,i.apiKey,s),this.fullPersistenceKey=zh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pa(gi(Kw),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||gi(Kw);const a=zh(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(a);if(p){const g=mi._fromJSON(e,p);f!==s&&(u=g),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Pa(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Pa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g1(e))return"Blackberry";if(_1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h1(t=nn()){return/firefox\//i.test(t)}function d1(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(t=nn()){return/crios\//i.test(t)}function p1(t=nn()){return/iemobile/i.test(t)}function m1(t=nn()){return/android/i.test(t)}function g1(t=nn()){return/blackberry/i.test(t)}function _1(t=nn()){return/webos/i.test(t)}function B_(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xN(t=nn()){var e;return B_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SN(){return jR()&&document.documentMode===10}function y1(t=nn()){return B_(t)||m1(t)||_1(t)||g1(t)||/windows phone/i.test(t)||p1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e=[]){let n;switch(t){case"Browser":n=Zw(nn());break;case"Worker":n=`${Zw(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return As(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=6;class kN{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:CN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new IN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await l1(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(vi(this));const n=e?kt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),n=new kN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return kt(t)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bN(t){wf=t}function w1(t){return wf.loadJS(t)}function RN(){return wf.recaptchaEnterpriseScript}function NN(){return wf.gapiScript}function LN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ON="recaptcha-enterprise",MN="NO_RECAPTCHA";class DN{constructor(e){this.type=ON,this.auth=So(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{pN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new fN(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;qw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(MN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&qw(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=RN();c.length!==0&&(c+=u),w1(c).then(()=>{i(u,s,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function Jw(t,e,n,r=!1){const i=new DN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ig(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Jw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Jw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){const n=vf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Id(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function FN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zN(t,e,n){const r=So(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=E1(e),{host:a,port:u}=jN(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),UN()}function E1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jN(t){const e=E1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Yw(a)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function BN(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function qN(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends H_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",HN);case"emailLink":return $N(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",BN);case"emailLink":return qN(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class po extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=F_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new po(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KN(t){const e=Jl(Yl(t)).link,n=e?Jl(Yl(e)).deep_link_id:null,r=Jl(Yl(t)).deep_link_id;return(r?Jl(Yl(r)).link:null)||r||n||e||t}class $_{constructor(e){var n,r,i,s,a,u;const c=Jl(Yl(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=GN((i=c.mode)!==null&&i!==void 0?i:null);Te(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=KN(e);try{return new $_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$_.parseLink(n);return Te(r,"argument-error"),Bu._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends uc{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends uc{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends uc{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){return lc(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mi._fromIdTokenResponse(e,r,i),a=Xw(r);return new mo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Xw(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ad(e,n,r,i)}}function x1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,s,e,r):s})}async function QN(t,e,n=!1){const r=await Uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(vi(r));const i="reauthenticate";try{const s=await Uu(t,x1(r,i,e,t),n);Te(s.idToken,r,"internal-error");const a=U_(s.idToken);Te(a,r,"internal-error");const{sub:u}=a;return Te(t.uid===u,r,"user-mismatch"),mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t,e,n=!1){if(Mr(t.app))return Promise.reject(vi(t));const r="signIn",i=await x1(t,r,e),s=await mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function YN(t,e){return S1(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XN(t,e,n){if(Mr(t.app))return Promise.reject(vi(t));const r=So(t),a=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZN).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&I1(t),c}),u=await mo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function eL(t,e,n){return Mr(t.app)?Promise.reject(vi(t)):YN(kt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&I1(t),r})}function tL(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function nL(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function P1(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function rL(t){return kt(t).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1e3,sL=10;class k1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);SN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const oL=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A1.type="SESSION";const b1=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,s)),c=await aL(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const f=q_("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function uL(t){jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function cL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dL(){return R1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",fL=1,Rd="firebaseLocalStorage",L1="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function pL(){const t=indexedDB.deleteDatabase(N1);return new cc(t).toPromise()}function sg(){const t=indexedDB.open(N1,fL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rd,{keyPath:L1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rd)?e(r):(r.close(),await pL(),e(await sg()))})})}async function e0(t,e,n){const r=Tf(t,!0).put({[L1]:e,value:n});return new cc(r).toPromise()}async function mL(t,e){const n=Tf(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function t0(t,e){const n=Tf(t,!0).delete(e);return new cc(n).toPromise()}const gL=800,_L=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(dL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cL(),!this.activeServiceWorker)return;this.sender=new lL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await e0(e,bd,"1"),await t0(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tf(i,!1).getAll();return new cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const yL=O1;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){return e?gi(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wL(t){return S1(t.auth,new W_(t),t.bypassAuthState)}function EL(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),JN(n,new W_(t),t.bypassAuthState)}async function TL(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),QN(n,new W_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wL;case"linkViaPopup":case"linkViaRedirect":return TL;case"reauthViaPopup":case"reauthViaRedirect":return EL;default:Tr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new ac(2e3,1e4);class ya extends M1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xL.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="pendingRedirect",jh=new Map;class IL extends M1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await PL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PL(t,e){const n=AL(e),r=kL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CL(t,e){jh.set(t._key(),e)}function kL(t){return gi(t._redirectPersistence)}function AL(t){return zh(SL,t.config.apiKey,t.name)}async function bL(t,e,n=!1){if(Mr(t.app))return Promise.reject(vi(t));const r=So(t),i=vL(r,e),a=await new IL(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=10*60*1e3;class NL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RL&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DL=/^https?/;async function VL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OL(t);for(const n of e)try{if(FL(n))return}catch{}Tr(t,"unauthorized-domain")}function FL(t){const e=ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!DL.test(n))return!1;if(ML.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new ac(3e4,6e4);function r0(){const t=jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jL(t){return new Promise((e,n)=>{var r,i,s;function a(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(zr(t,"network-request-failed"))},timeout:zL.get()})}if(!((i=(r=jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jr().gapi)===null||s===void 0)&&s.load)a();else{const u=LN("iframefcb");return jr()[u]=()=>{gapi.load?a():n(zr(t,"network-request-failed"))},w1(`${NN()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function UL(t){return Uh=Uh||jL(t),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new ac(5e3,15e3),HL="__/auth/iframe",$L="emulator/auth/iframe",qL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GL(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,$L):`https://${t.config.authDomain}/${HL}`,r={apiKey:e.apiKey,appName:t.name,v:xo},i=WL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oc(r).slice(1)}`}async function KL(t){const e=await UL(t),n=jr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:GL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),u=jr().setTimeout(()=>{s(a)},BL.get());function c(){jr().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QL=500,JL=600,YL="_blank",XL="http://localhost";class i0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eO(t,e,n,r=QL,i=JL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ZL),{width:r.toString(),height:i.toString(),top:s,left:a}),f=nn().toLowerCase();n&&(u=f1(f)?YL:n),h1(f)&&(e=e||XL,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[v,x])=>`${y}${v}=${x},`,"");if(xN(f)&&u!=="_self")return tO(e||"",u),new i0(null);const g=window.open(e||"",u,p);Te(g,t,"popup-blocked");try{g.focus()}catch{}return new i0(g)}function tO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="__/auth/handler",rO="emulator/auth/handler",iO=encodeURIComponent("fac");async function s0(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(e instanceof T1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",GR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof uc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),f=c?`#${iO}=${encodeURIComponent(c)}`:"";return`${sO(t)}?${oc(u).slice(1)}${f}`}function sO({config:t}){return t.emulator?j_(t,rO):`https://${t.authDomain}/${nO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="webStorageSupport";class oO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=bL,this._overrideRedirectResult=CL}async _openPopup(e,n,r,i){var s;Pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await s0(e,n,r,ng(),i);return eO(e,a,q_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await s0(e,n,r,ng(),i);return uL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KL(e),r=new NL(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lp];a!==void 0&&n(!!a),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y1()||d1()||B_()}}const aO=oO;var o0="@firebase/auth",a0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cO(t){fo(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Te(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(t)},f=new AN(r,i,s,c);return FN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new ws("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new lO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(o0,a0,uO(t)),Fr(o0,a0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=5*60,dO=ZS("authIdTokenMaxAge")||hO;let l0=null;const fO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dO)return;const i=n==null?void 0:n.token;l0!==i&&(l0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hu(t=V_()){const e=vf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VN(t,{popupRedirectResolver:aO,persistence:[yL,oL,b1]}),r=ZS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=fO(s.toString());nL(n,a,()=>a(n.currentUser)),tL(n,u=>a(u))}}const i=WS("auth");return i&&zN(n,`http://${i}`),n}function pO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cO("Browser");var V1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u0=_i.createContext&&_i.createContext(V1),mO=["attr","size","title"];function gO(t,e){if(t==null)return{};var n=_O(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _O(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function c0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c0(Object(n),!0).forEach(function(r){yO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yO(t,e,n){return e=vO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vO(t){var e=wO(t,"string");return typeof e=="symbol"?e:e+""}function wO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1(t){return t&&t.map((e,n)=>_i.createElement(e.tag,Ld({key:n},e.attr),F1(e.child)))}function or(t){return e=>_i.createElement(EO,Nd({attr:Ld({},t.attr)},e),F1(t.child))}function EO(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=gO(t,mO),u=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),_i.createElement("svg",Nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Ld(Ld({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&_i.createElement("title",null,s),t.children)};return u0!==void 0?_i.createElement(u0.Consumer,null,n=>e(n)):e(V1)}function h0(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function d0(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function f0(t){return or({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function z1(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function TO(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function xO(t){return or({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function SO(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function IO(t){return or({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function p0(t){return or({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function PO(t){return or({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}function j1(t){return or({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function m0(t){return or({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}const CO=()=>{var u;const t=gf(),[e,n]=$.useState(null),[r,i]=$.useState(!0);$.useEffect(()=>{const c=Hu(),f=P1(c,p=>{n(p),i(!1)});return()=>f()},[]);const s=async()=>{try{await rL(Hu()),t("/auth")}catch(c){console.error("Logout error:",c)}},a=({isActive:c})=>`btn btn-ghost ${c?"active":""}`;return T.jsxs("nav",{className:"navbar bg-base-200 shadow-lg mb-6 rounded-box sticky top-0 z-50",children:[" ",T.jsx("div",{className:"navbar-start",children:T.jsxs(BS,{to:"/",className:"btn btn-ghost text-xl text-primary hover:bg-transparent",children:[T.jsx(TO,{className:"icon"})," JDC SAP"]})}),T.jsxs("div",{className:"navbar-center hidden lg:flex",children:[" ",T.jsxs("ul",{className:"menu menu-horizontal px-1",children:[T.jsx("li",{children:T.jsxs(ui,{to:"/dashboard",className:a,children:[T.jsx(d0,{className:"icon"}),T.jsx("span",{children:"Dashboard"})]})}),T.jsx("li",{children:T.jsxs(ui,{to:"/envois",className:a,children:[T.jsx(h0,{className:"icon"}),T.jsx("span",{children:"Envois"})]})}),T.jsx("li",{children:T.jsxs(ui,{to:"/sap",className:a,children:[T.jsx(p0,{className:"icon"}),T.jsx("span",{children:"SAP"})]})}),!r&&e&&T.jsx("li",{children:T.jsxs(ui,{to:"/admin",className:a,children:[T.jsx(m0,{className:"icon"})," ",T.jsx("span",{children:"Admin"})]})})]})]}),T.jsxs("div",{className:"navbar-end",children:[r?T.jsx("span",{className:"loading loading-spinner loading-sm mr-4"}):e?T.jsxs("div",{className:"dropdown dropdown-end",children:[T.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:T.jsx("div",{className:"w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:T.jsx("span",{className:"text-xl",children:((u=e.email)==null?void 0:u.charAt(0).toUpperCase())||"?"})})}),T.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-300 rounded-box w-52",children:T.jsx("li",{children:T.jsxs("button",{onClick:s,className:"text-error",children:[T.jsx(IO,{className:"icon"})," Logout"]})})})]}):T.jsxs(ui,{to:"/auth",className:"btn btn-ghost",children:[T.jsx(SO,{className:"icon"}),T.jsx("span",{children:"Login"})]}),T.jsxs("div",{className:"dropdown dropdown-end lg:hidden",children:[T.jsx("label",{tabIndex:0,className:"btn btn-ghost lg:hidden",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),T.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-300 rounded-box w-52",children:[T.jsx("li",{children:T.jsxs(ui,{to:"/dashboard",className:({isActive:c})=>c?"active":"",children:[T.jsx(d0,{className:"icon"}),"Dashboard"]})}),T.jsx("li",{children:T.jsxs(ui,{to:"/envois",className:({isActive:c})=>c?"active":"",children:[T.jsx(h0,{className:"icon"}),"Envois"]})}),T.jsx("li",{children:T.jsxs(ui,{to:"/sap",className:({isActive:c})=>c?"active":"",children:[T.jsx(p0,{className:"icon"}),"SAP"]})}),!r&&e&&T.jsx("li",{children:T.jsxs(ui,{to:"/admin",className:({isActive:c})=>c?"active":"",children:[T.jsx(m0,{className:"icon"}),"Admin"]})})]})]})]})]})},kO=({envoisCount:t,ticketsCount:e,loading:n,error:r})=>T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[T.jsx("div",{className:"stats shadow bg-primary text-primary-content",children:T.jsxs("div",{className:"stat",children:[T.jsxs("div",{className:"stat-figure text-primary-content",children:[" ",T.jsx(xO,{size:32})]}),T.jsx("div",{className:"stat-title text-primary-content",children:"Envois Actifs"})," ",n?T.jsx("div",{className:"stat-value text-primary-content",children:T.jsx("span",{className:"loading loading-dots loading-md"})}):r?T.jsx("div",{className:"stat-value text-error",children:T.jsx(f0,{})}):T.jsx("div",{className:"stat-value text-primary-content",children:t}),T.jsx("div",{className:"stat-desc text-primary-content opacity-75",children:"Nombre total d'envois"})," "]})}),T.jsx("div",{className:"stats shadow bg-secondary text-secondary-content",children:T.jsxs("div",{className:"stat",children:[T.jsxs("div",{className:"stat-figure text-secondary-content",children:[" ",T.jsx(PO,{size:32})]}),T.jsx("div",{className:"stat-title text-secondary-content",children:"Tickets SAP Ouverts"})," ",n?T.jsx("div",{className:"stat-value text-secondary-content",children:T.jsx("span",{className:"loading loading-dots loading-md"})}):r?T.jsx("div",{className:"stat-value text-error",children:T.jsx(f0,{})}):T.jsx("div",{className:"stat-value text-secondary-content",children:e}),T.jsx("div",{className:"stat-desc text-secondary-content opacity-75",children:"Total tickets tous secteurs"})," "]})}),T.jsx("div",{className:"stats shadow bg-accent text-accent-content",children:T.jsxs("div",{className:"stat",children:[T.jsx("div",{className:"stat-title text-accent-content",children:"Autre Statistique"})," ",T.jsx("div",{className:"stat-value text-accent-content",children:"..."})," ",T.jsx("div",{className:"stat-desc text-accent-content opacity-75",children:"Description"})," "]})}),T.jsxs("div",{className:"stats shadow",children:[" ",T.jsxs("div",{className:"stat",children:[T.jsx("div",{className:"stat-title text-base-content",children:"Encore une Statistique"})," ",T.jsx("div",{className:"stat-value text-base-content",children:"..."})," ",T.jsx("div",{className:"stat-desc text-base-content opacity-75",children:"Description"})," "]})]})]});var og={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(wu,function(n){var r="1.9.4";function i(o){var l,d,m,w;for(d=1,m=arguments.length;d<m;d++){w=arguments[d];for(l in w)o[l]=w[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var m=d.call(arguments,2);return function(){return o.apply(l,m.length?m.concat(d.call(arguments)):arguments)}}var u=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++u),o._leaflet_id}function f(o,l,d){var m,w,I,B;return B=function(){m=!1,w&&(I.apply(d,w),w=!1)},I=function(){m?w=arguments:(o.apply(d,arguments),setTimeout(B,l),m=!0)},I}function p(o,l,d){var m=l[1],w=l[0],I=m-w;return o===m&&d?o:((o-w)%I+I)%I+w}function g(){return!1}function y(o,l){if(l===!1)return o;var d=Math.pow(10,l===void 0?6:l);return Math.round(o*d)/d}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return v(o).split(/\s+/)}function P(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var d in l)o.options[d]=l[d];return o.options}function M(o,l,d){var m=[];for(var w in o)m.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(o[w]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function A(o,l){return o.replace(S,function(d,m){var w=l[m];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(l)),w})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function H(o,l){for(var d=0;d<o.length;d++)if(o[d]===l)return d;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var R=0;function C(o){var l=+new Date,d=Math.max(0,16-(l-R));return R=l+d,window.setTimeout(o,d)}var N=window.requestAnimationFrame||U("RequestAnimationFrame")||C,D=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,l,d){if(d&&N===C)o.call(l);else return N.call(window,a(o,l))}function z(o){o&&D.call(window,o)}var F={__proto__:null,extend:i,create:s,bind:a,get lastId(){return u},stamp:c,throttle:f,wrapNum:p,falseFn:g,formatNum:y,trim:v,splitWords:x,setOptions:P,getParamString:M,template:A,isArray:k,indexOf:H,emptyImageUrl:W,requestFn:N,cancelFn:D,requestAnimFrame:V,cancelAnimFrame:z};function me(){}me.extend=function(o){var l=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,m=s(d);m.constructor=l,l.prototype=m;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return o.statics&&i(l,o.statics),o.includes&&(ge(o.includes),i.apply(null,[m].concat(o.includes))),i(m,o),delete m.statics,delete m.includes,m.options&&(m.options=d.options?s(d.options):{},i(m.options,o.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,B=m._initHooks.length;I<B;I++)m._initHooks[I].call(this)}},l},me.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},me.mergeOptions=function(o){return i(this.prototype.options,o),this},me.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),d=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ge(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Oe={on:function(o,l,d){if(typeof o=="object")for(var m in o)this._on(m,o[m],l);else{o=x(o);for(var w=0,I=o.length;w<I;w++)this._on(o[w],l,d)}return this},off:function(o,l,d){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var m in o)this._off(m,o[m],l);else{o=x(o);for(var w=arguments.length===1,I=0,B=o.length;I<B;I++)w?this._off(o[I]):this._off(o[I],l,d)}return this},_on:function(o,l,d,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,d)===!1){d===this&&(d=void 0);var w={fn:l,ctx:d};m&&(w.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(w)}},_off:function(o,l,d){var m,w,I;if(this._events&&(m=this._events[o],!!m)){if(arguments.length===1){if(this._firingCount)for(w=0,I=m.length;w<I;w++)m[w].fn=g;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var B=this._listens(o,l,d);if(B!==!1){var G=m[B];this._firingCount&&(G.fn=g,this._events[o]=m=m.slice()),m.splice(B,1)}}},fire:function(o,l,d){if(!this.listens(o,d))return this;var m=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[o];if(w){this._firingCount=this._firingCount+1||1;for(var I=0,B=w.length;I<B;I++){var G=w[I],Z=G.fn;G.once&&this.off(o,Z,G.ctx),Z.call(G.ctx||this,m)}this._firingCount--}}return d&&this._propagateEvent(m),this},listens:function(o,l,d,m){typeof o!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(m=!!l,w=void 0,d=void 0);var I=this._events&&this._events[o];if(I&&I.length&&this._listens(o,w,d)!==!1)return!0;if(m){for(var B in this._eventParents)if(this._eventParents[B].listens(o,l,d,m))return!0}return!1},_listens:function(o,l,d){if(!this._events)return!1;var m=this._events[o]||[];if(!l)return!!m.length;d===this&&(d=void 0);for(var w=0,I=m.length;w<I;w++)if(m[w].fn===l&&m[w].ctx===d)return w;return!1},once:function(o,l,d){if(typeof o=="object")for(var m in o)this._on(m,o[m],l,!0);else{o=x(o);for(var w=0,I=o.length;w<I;w++)this._on(o[w],l,d,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};Oe.addEventListener=Oe.on,Oe.removeEventListener=Oe.clearAllEventListeners=Oe.off,Oe.addOneTimeEventListener=Oe.once,Oe.fireEvent=Oe.fire,Oe.hasEventListeners=Oe.listens;var oe=me.extend(Oe);function K(o,l,d){this.x=d?Math.round(o):o,this.y=d?Math.round(l):l}var ue=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(o){return this.clone()._add(O(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(O(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new K(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new K(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(o){o=O(o);var l=o.x-this.x,d=o.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(o){return o=O(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=O(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function O(o,l,d){return o instanceof K?o:k(o)?new K(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new K(o.x,o.y):new K(o,l,d)}function fe(o,l){if(o)for(var d=l?[o,l]:o,m=0,w=d.length;m<w;m++)this.extend(d[m])}fe.prototype={extend:function(o){var l,d;if(!o)return this;if(o instanceof K||typeof o[0]=="number"||"x"in o)l=d=O(o);else if(o=ye(o),l=o.min,d=o.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(o){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,d;return typeof o[0]=="number"||o instanceof K?o=O(o):o=ye(o),o instanceof fe?(l=o.min,d=o.max):l=d=o,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=ye(o);var l=this.min,d=this.max,m=o.min,w=o.max,I=w.x>=l.x&&m.x<=d.x,B=w.y>=l.y&&m.y<=d.y;return I&&B},overlaps:function(o){o=ye(o);var l=this.min,d=this.max,m=o.min,w=o.max,I=w.x>l.x&&m.x<d.x,B=w.y>l.y&&m.y<d.y;return I&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,d=this.max,m=Math.abs(l.x-d.x)*o,w=Math.abs(l.y-d.y)*o;return ye(O(l.x-m,l.y-w),O(d.x+m,d.y+w))},equals:function(o){return o?(o=ye(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ye(o,l){return!o||o instanceof fe?o:new fe(o,l)}function j(o,l){if(o)for(var d=l?[o,l]:o,m=0,w=d.length;m<w;m++)this.extend(d[m])}j.prototype={extend:function(o){var l=this._southWest,d=this._northEast,m,w;if(o instanceof Se)m=o,w=o;else if(o instanceof j){if(m=o._southWest,w=o._northEast,!m||!w)return this}else return o?this.extend(he(o)||be(o)):this;return!l&&!d?(this._southWest=new Se(m.lat,m.lng),this._northEast=new Se(w.lat,w.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(o){var l=this._southWest,d=this._northEast,m=Math.abs(l.lat-d.lat)*o,w=Math.abs(l.lng-d.lng)*o;return new j(new Se(l.lat-m,l.lng-w),new Se(d.lat+m,d.lng+w))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Se||"lat"in o?o=he(o):o=be(o);var l=this._southWest,d=this._northEast,m,w;return o instanceof j?(m=o.getSouthWest(),w=o.getNorthEast()):m=w=o,m.lat>=l.lat&&w.lat<=d.lat&&m.lng>=l.lng&&w.lng<=d.lng},intersects:function(o){o=be(o);var l=this._southWest,d=this._northEast,m=o.getSouthWest(),w=o.getNorthEast(),I=w.lat>=l.lat&&m.lat<=d.lat,B=w.lng>=l.lng&&m.lng<=d.lng;return I&&B},overlaps:function(o){o=be(o);var l=this._southWest,d=this._northEast,m=o.getSouthWest(),w=o.getNorthEast(),I=w.lat>l.lat&&m.lat<d.lat,B=w.lng>l.lng&&m.lng<d.lng;return I&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=be(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(o,l){return o instanceof j?o:new j(o,l)}function Se(o,l,d){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,d!==void 0&&(this.alt=+d)}Se.prototype={equals:function(o,l){if(!o)return!1;o=he(o);var d=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return d<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+y(this.lat,o)+", "+y(this.lng,o)+")"},distanceTo:function(o){return At.distance(this,he(o))},wrap:function(){return At.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,d=l/Math.cos(Math.PI/180*this.lat);return be([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function he(o,l,d){return o instanceof Se?o:k(o)&&typeof o[0]!="object"?o.length===3?new Se(o[0],o[1],o[2]):o.length===2?new Se(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Se(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new Se(o,l,d)}var nt={latLngToPoint:function(o,l){var d=this.projection.project(o),m=this.scale(l);return this.transformation._transform(d,m)},pointToLatLng:function(o,l){var d=this.scale(l),m=this.transformation.untransform(o,d);return this.projection.unproject(m)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(o),m=this.transformation.transform(l.min,d),w=this.transformation.transform(l.max,d);return new fe(m,w)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,d=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,m=o.alt;return new Se(d,l,m)},wrapLatLngBounds:function(o){var l=o.getCenter(),d=this.wrapLatLng(l),m=l.lat-d.lat,w=l.lng-d.lng;if(m===0&&w===0)return o;var I=o.getSouthWest(),B=o.getNorthEast(),G=new Se(I.lat-m,I.lng-w),Z=new Se(B.lat-m,B.lng-w);return new j(G,Z)}},At=i({},nt,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var d=Math.PI/180,m=o.lat*d,w=l.lat*d,I=Math.sin((l.lat-o.lat)*d/2),B=Math.sin((l.lng-o.lng)*d/2),G=I*I+Math.cos(m)*Math.cos(w)*B*B,Z=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Z}}),ar=6378137,sn={R:ar,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,d=this.MAX_LATITUDE,m=Math.max(Math.min(d,o.lat),-d),w=Math.sin(m*l);return new K(this.R*o.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(o){var l=180/Math.PI;return new Se((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=ar*Math.PI;return new fe([-o,-o],[o,o])}()};function An(o,l,d,m){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=d,this._d=m}An.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new K((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function lr(o,l,d,m){return new An(o,l,d,m)}var Zr=i({},At,{code:"EPSG:3857",projection:sn,transformation:function(){var o=.5/(Math.PI*sn.R);return lr(o,.5,-o,.5)}()}),Ls=i({},Zr,{code:"EPSG:900913"});function Qr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function bi(o,l){var d="",m,w,I,B,G,Z;for(m=0,I=o.length;m<I;m++){for(G=o[m],w=0,B=G.length;w<B;w++)Z=G[w],d+=(w?"L":"M")+Z.x+" "+Z.y;d+=l?pe.svg?"z":"x":""}return d||"M0 0"}var Ri=document.documentElement.style,Ni="ActiveXObject"in window,Os=Ni&&!document.addEventListener,Jr="msLaunchUri"in navigator&&!("documentMode"in document),Li=qn("webkit"),Ao=qn("android"),Oi=qn("android 2")||qn("android 3"),Ms=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bo=Ao&&qn("Google")&&Ms<537&&!("AudioNode"in window),J=!!window.opera,ne=!Jr&&qn("chrome"),ve=qn("gecko")&&!Li&&!J&&!Ni,Le=!ne&&qn("safari"),He=qn("phantom"),Gt="OTransition"in Ri,on=navigator.platform.indexOf("Win")===0,an=Ni&&"transition"in Ri,Hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oi,$n="MozPerspective"in Ri,Ft=!window.L_DISABLE_3D&&(an||Hn||$n)&&!Gt&&!He,mn=typeof orientation<"u"||qn("mobile"),ln=mn&&Li,xc=mn&&Hn,ol=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||ol),Ro="ontouchstart"in window||!!window.TouchEvent,al=!window.L_NO_TOUCH&&(Ro||Mi),Yr=mn&&J,Sc=mn&&ve,No=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ic=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return o}(),Ds=function(){return!!document.createElement("canvas").getContext}(),Lo=!!(document.createElementNS&&Qr("svg").createSVGRect),zt=!!Lo&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pc=!Lo&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Vs=navigator.platform.indexOf("Mac")===0,Fs=navigator.platform.indexOf("Linux")===0;function qn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var pe={ie:Ni,ielt9:Os,edge:Jr,webkit:Li,android:Ao,android23:Oi,androidStock:bo,opera:J,chrome:ne,gecko:ve,safari:Le,phantom:He,opera12:Gt,win:on,ie3d:an,webkit3d:Hn,gecko3d:$n,any3d:Ft,mobile:mn,mobileWebkit:ln,mobileWebkit3d:xc,msPointer:ol,pointer:Mi,touch:al,touchNative:Ro,mobileOpera:Yr,mobileGecko:Sc,retina:No,passiveEvents:Ic,canvas:Ds,svg:Lo,vml:Pc,inlineSvg:zt,mac:Vs,linux:Fs},Xr=pe.msPointer?"MSPointerDown":"pointerdown",Cc=pe.msPointer?"MSPointerMove":"pointermove",kc=pe.msPointer?"MSPointerUp":"pointerup",zs=pe.msPointer?"MSPointerCancel":"pointercancel",Oo={touchstart:Xr,touchmove:Cc,touchend:kc,touchcancel:zs},Mo={touchstart:Vo,touchmove:Do,touchend:Do,touchcancel:Do},ur={},cr=!1;function Ac(o,l,d){return l==="touchstart"&&Rc(),Mo[l]?(d=Mo[l].bind(this,d),o.addEventListener(Oo[l],d,!1),d):(console.warn("wrong event specified:",l),g)}function bc(o,l,d){if(!Oo[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Oo[l],d,!1)}function ll(o){ur[o.pointerId]=o}function ul(o){ur[o.pointerId]&&(ur[o.pointerId]=o)}function cl(o){delete ur[o.pointerId]}function Rc(){cr||(document.addEventListener(Xr,ll,!0),document.addEventListener(Cc,ul,!0),document.addEventListener(kc,cl,!0),document.addEventListener(zs,cl,!0),cr=!0)}function Do(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in ur)l.touches.push(ur[d]);l.changedTouches=[l],o(l)}}function Vo(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ut(l),Do(o,l)}function Nc(o){var l={},d,m;for(m in o)d=o[m],l[m]=d&&d.bind?d.bind(o):d;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var hl=200;function js(o,l){o.addEventListener("dblclick",l);var d=0,m;function w(I){if(I.detail!==1){m=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var B=xl(I);if(!(B.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!B.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var G=Date.now();G-d<=hl?(m++,m===2&&l(Nc(I))):m=1,d=G}}}return o.addEventListener("click",w),{dblclick:l,simDblclick:w}}function ei(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Us=ni(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bs=ni(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dl=Bs==="webkitTransition"||Bs==="OTransition"?Bs+"End":"transitionend";function fl(o){return typeof o=="string"?document.getElementById(o):o}function Di(o,l){var d=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(o,null);d=m?m[l]:null}return d==="auto"?null:d}function Fe(o,l,d){var m=document.createElement(o);return m.className=l||"",d&&d.appendChild(m),m}function Ye(o){var l=o.parentNode;l&&l.removeChild(o)}function Hs(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ti(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Vi(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function pl(o,l){if(o.classList!==void 0)return o.classList.contains(l);var d=Wn(o);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Ae(o,l){if(o.classList!==void 0)for(var d=x(l),m=0,w=d.length;m<w;m++)o.classList.add(d[m]);else if(!pl(o,l)){var I=Wn(o);ml(o,(I?I+" ":"")+l)}}function ot(o,l){o.classList!==void 0?o.classList.remove(l):ml(o,v((" "+Wn(o)+" ").replace(" "+l+" "," ")))}function ml(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Wn(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function mt(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&Fo(o,l)}function Fo(o,l){var d=!1,m="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):o.style.filter+=" progid:"+m+"(opacity="+l+")"}function ni(o){for(var l=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in l)return o[d];return!1}function Ir(o,l,d){var m=l||new K(0,0);o.style[Us]=(pe.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(d?" scale("+d+")":"")}function Ie(o,l){o._leaflet_pos=l,pe.any3d?Ir(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Gn(o){return o._leaflet_pos||new K(0,0)}var hr,dr,gl;if("onselectstart"in document)hr=function(){we(window,"selectstart",ut)},dr=function(){Qe(window,"selectstart",ut)};else{var Fi=ni(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hr=function(){if(Fi){var o=document.documentElement.style;gl=o[Fi],o[Fi]="none"}},dr=function(){Fi&&(document.documentElement.style[Fi]=gl,gl=void 0)}}function _l(){we(window,"dragstart",ut)}function yl(){Qe(window,"dragstart",ut)}var zo,vl;function ri(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(bn(),zo=o,vl=o.style.outlineStyle,o.style.outlineStyle="none",we(window,"keydown",bn))}function bn(){zo&&(zo.style.outlineStyle=vl,zo=void 0,vl=void 0,Qe(window,"keydown",bn))}function wl(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function jo(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Lc={__proto__:null,TRANSFORM:Us,TRANSITION:Bs,TRANSITION_END:dl,get:fl,getStyle:Di,create:Fe,remove:Ye,empty:Hs,toFront:ti,toBack:Vi,hasClass:pl,addClass:Ae,removeClass:ot,setClass:ml,getClass:Wn,setOpacity:mt,testProp:ni,setTransform:Ir,setPosition:Ie,getPosition:Gn,get disableTextSelection(){return hr},get enableTextSelection(){return dr},disableImageDrag:_l,enableImageDrag:yl,preventOutline:ri,restoreOutline:bn,getSizedParentNode:wl,getScale:jo};function we(o,l,d,m){if(l&&typeof l=="object")for(var w in l)El(o,w,l[w],d);else{l=x(l);for(var I=0,B=l.length;I<B;I++)El(o,l[I],d,m)}return this}var Kn="_leaflet_events";function Qe(o,l,d,m){if(arguments.length===1)Oc(o),delete o[Kn];else if(l&&typeof l=="object")for(var w in l)Tl(o,w,l[w],d);else if(l=x(l),arguments.length===2)Oc(o,function(G){return H(l,G)!==-1});else for(var I=0,B=l.length;I<B;I++)Tl(o,l[I],d,m);return this}function Oc(o,l){for(var d in o[Kn]){var m=d.split(/\d/)[0];(!l||l(m))&&Tl(o,m,null,null,d)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function El(o,l,d,m){var w=l+c(d)+(m?"_"+c(m):"");if(o[Kn]&&o[Kn][w])return this;var I=function(G){return d.call(m||o,G||window.event)},B=I;!pe.touchNative&&pe.pointer&&l.indexOf("touch")===0?I=Ac(o,l,I):pe.touch&&l==="dblclick"?I=js(o,I):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(Zn[l]||l,I,pe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(I=function(G){G=G||window.event,Sl(o,G)&&B(G)},o.addEventListener(Zn[l],I,!1)):o.addEventListener(l,B,!1):o.attachEvent("on"+l,I),o[Kn]=o[Kn]||{},o[Kn][w]=I}function Tl(o,l,d,m,w){w=w||l+c(d)+(m?"_"+c(m):"");var I=o[Kn]&&o[Kn][w];if(!I)return this;!pe.touchNative&&pe.pointer&&l.indexOf("touch")===0?bc(o,l,I):pe.touch&&l==="dblclick"?ei(o,I):"removeEventListener"in o?o.removeEventListener(Zn[l]||l,I,!1):o.detachEvent("on"+l,I),o[Kn][w]=null}function Qn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function zi(o){return El(o,"wheel",Qn),this}function ji(o){return we(o,"mousedown touchstart dblclick contextmenu",Qn),o._leaflet_disable_click=!0,this}function ut(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Rn(o){return ut(o),Qn(o),this}function xl(o){if(o.composedPath)return o.composedPath();for(var l=[],d=o.target;d;)l.push(d),d=d.parentNode;return l}function Uo(o,l){if(!l)return new K(o.clientX,o.clientY);var d=jo(l),m=d.boundingClientRect;return new K((o.clientX-m.left)/d.x-l.clientLeft,(o.clientY-m.top)/d.y-l.clientTop)}var at=pe.linux&&pe.chrome?window.devicePixelRatio:pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mc(o){return pe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/at:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Sl(o,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var Dc={__proto__:null,on:we,off:Qe,stopPropagation:Qn,disableScrollPropagation:zi,disableClickPropagation:ji,preventDefault:ut,stop:Rn,getPropagationPath:xl,getMousePosition:Uo,getWheelDelta:Mc,isExternalTarget:Sl,addListener:we,removeListener:Qe},Il=oe.extend({run:function(o,l,d,m){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Gn(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var d=this._startPos.add(this._offset.multiplyBy(o));l&&d._round(),Ie(this._el,d),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),De=oe.extend({options:{crs:Zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=P(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(he(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bs&&pe.any3d&&!pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),we(this._proxy,dl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(he(o),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=i({animate:d.animate},d.zoom),d.pan=i({animate:d.animate,duration:d.duration},d.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,d.zoom):this._tryAnimatedPan(o,d.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,d){var m=this.getZoomScale(l),w=this.getSize().divideBy(2),I=o instanceof K?o:this.latLngToContainerPoint(o),B=I.subtract(w).multiplyBy(1-1/m),G=this.containerPointToLatLng(w.add(B));return this.setView(G,l,{zoom:d})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():be(o);var d=O(l.paddingTopLeft||l.padding||[0,0]),m=O(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(o,!1,d.add(m));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:o.getCenter(),zoom:w};var I=m.subtract(d).divideBy(2),B=this.project(o.getSouthWest(),w),G=this.project(o.getNorthEast(),w),Z=this.unproject(B.add(G).divideBy(2).add(I),w);return{center:Z,zoom:w}},fitBounds:function(o,l){if(o=be(o),!o.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=O(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,d){if(d=d||{},d.animate===!1||!pe.any3d)return this.setView(o,l,d);this._stop();var m=this.project(this.getCenter()),w=this.project(o),I=this.getSize(),B=this._zoom;o=he(o),l=l===void 0?B:l;var G=Math.max(I.x,I.y),Z=G*this.getZoomScale(B,l),ee=w.distanceTo(m)||1,ae=1.42,Ee=ae*ae;function Me(xt){var Yc=xt?-1:1,GC=xt?Z:G,KC=Z*Z-G*G+Yc*Ee*Ee*ee*ee,ZC=2*GC*Ee*ee,Xf=KC/ZC,_v=Math.sqrt(Xf*Xf+1)-Xf,QC=_v<1e-9?-18:Math.log(_v);return QC}function cn(xt){return(Math.exp(xt)-Math.exp(-xt))/2}function Ot(xt){return(Math.exp(xt)+Math.exp(-xt))/2}function Yn(xt){return cn(xt)/Ot(xt)}var _n=Me(0);function ea(xt){return G*(Ot(_n)/Ot(_n+ae*xt))}function HC(xt){return G*(Ot(_n)*Yn(_n+ae*xt)-cn(_n))/Ee}function $C(xt){return 1-Math.pow(1-xt,1.5)}var qC=Date.now(),mv=(Me(1)-_n)/ae,WC=d.duration?1e3*d.duration:1e3*mv*.8;function gv(){var xt=(Date.now()-qC)/WC,Yc=$C(xt)*mv;xt<=1?(this._flyToFrame=V(gv,this),this._move(this.unproject(m.add(w.subtract(m).multiplyBy(HC(Yc)/ee)),B),this.getScaleZoom(G/ea(Yc),B),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),gv.call(this),this},flyToBounds:function(o,l){var d=this._getBoundsCenterZoom(o,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(o){return o=be(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var d=this.getCenter(),m=this._limitCenter(d,this._zoom,be(o));return d.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var d=O(l.paddingTopLeft||l.padding||[0,0]),m=O(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),I=this.project(o),B=this.getPixelBounds(),G=ye([B.min.add(d),B.max.subtract(m)]),Z=G.getSize();if(!G.contains(I)){this._enforcingBounds=!0;var ee=I.subtract(G.getCenter()),ae=G.extend(I).getSize().subtract(Z);w.x+=ee.x<0?-ae.x:ae.x,w.y+=ee.y<0?-ae.y:ae.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),m=l.divideBy(2).round(),w=d.divideBy(2).round(),I=m.subtract(w);return!I.x&&!I.y?this:(o.animate&&o.pan?this.panBy(I):(o.pan&&this._rawPanBy(I),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,o):navigator.geolocation.getCurrentPosition(l,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,d=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,d=o.coords.longitude,m=new Se(l,d),w=m.toBounds(o.coords.accuracy*2),I=this._locateOptions;if(I.setView){var B=this.getBoundsZoom(w);this.setView(m,I.maxZoom?Math.min(B,I.maxZoom):B)}var G={latlng:m,bounds:w,timestamp:o.timestamp};for(var Z in o.coords)typeof o.coords[Z]=="number"&&(G[Z]=o.coords[Z]);this.fire("locationfound",G)}},addHandler:function(o,l){if(!l)return this;var d=this[o]=new l(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ye(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var d="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),m=Fe("div",d,l||this._mapPane);return o&&(this._panes[o]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),d=this.unproject(o.getTopRight());return new j(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,d){o=be(o),d=O(d||[0,0]);var m=this.getZoom()||0,w=this.getMinZoom(),I=this.getMaxZoom(),B=o.getNorthWest(),G=o.getSouthEast(),Z=this.getSize().subtract(d),ee=ye(this.project(G,m),this.project(B,m)).getSize(),ae=pe.any3d?this.options.zoomSnap:1,Ee=Z.x/ee.x,Me=Z.y/ee.y,cn=l?Math.max(Ee,Me):Math.min(Ee,Me);return m=this.getScaleZoom(cn,m),ae&&(m=Math.round(m/(ae/100))*(ae/100),m=l?Math.ceil(m/ae)*ae:Math.floor(m/ae)*ae),Math.max(w,Math.min(I,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var d=this._getTopLeftPoint(o,l);return new fe(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(o)/d.scale(l)},getScaleZoom:function(o,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var m=d.zoom(o*d.scale(l));return isNaN(m)?1/0:m},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(he(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(O(o),l)},layerPointToLatLng:function(o){var l=O(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(he(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(he(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(be(o))},distance:function(o,l){return this.options.crs.distance(he(o),he(l))},containerPointToLayerPoint:function(o){return O(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return O(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(O(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(o)))},mouseEventToContainerPoint:function(o){return Uo(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=fl(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");we(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&pe.any3d,Ae(o,"leaflet-container"+(pe.touch?" leaflet-touch":"")+(pe.retina?" leaflet-retina":"")+(pe.ielt9?" leaflet-oldie":"")+(pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Di(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(o.markerPane,"leaflet-zoom-hide"),Ae(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,d){Ie(this._mapPane,new K(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,d)._move(o,l)._moveEnd(w),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,d,m){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),m?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ie(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var l=o?Qe:we;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),pe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var d=[],m,w=l==="mouseout"||l==="mouseover",I=o.target||o.srcElement,B=!1;I;){if(m=this._targets[c(I)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){B=!0;break}if(m&&m.listens(l,!0)&&(w&&!Sl(I,o)||(d.push(m),w))||I===this._container)break;I=I.parentNode}return!d.length&&!B&&!w&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var d=o.type;d==="mousedown"&&ri(l),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,d){if(o.type==="click"){var m=i({},o);m.type="preclick",this._fireDOMEvent(m,m.type,d)}var w=this._findEventTargets(o,l);if(d){for(var I=[],B=0;B<d.length;B++)d[B].listens(l,!0)&&I.push(d[B]);w=I.concat(w)}if(w.length){l==="contextmenu"&&ut(o);var G=w[0],Z={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ee=G.getLatLng&&(!G._radius||G._radius<=10);Z.containerPoint=ee?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(o),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=ee?G.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(B=0;B<w.length;B++)if(w[B].fire(l,Z,!0),Z.originalEvent._stopped||w[B].options.bubblingMouseEvents===!1&&H(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Gn(this._mapPane)||new K(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var d=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var d=this.getSize()._divideBy(2);return this.project(o,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,d){var m=this._getNewPixelOrigin(d,l);return this.project(o,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(o,l,d){var m=this._getNewPixelOrigin(d,l);return ye([this.project(o.getSouthWest(),l)._subtract(m),this.project(o.getNorthWest(),l)._subtract(m),this.project(o.getSouthEast(),l)._subtract(m),this.project(o.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,d){if(!d)return o;var m=this.project(o,l),w=this.getSize().divideBy(2),I=new fe(m.subtract(w),m.add(w)),B=this._getBoundsOffset(I,d,l);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?o:this.unproject(m.add(B),l)},_limitOffset:function(o,l){if(!l)return o;var d=this.getPixelBounds(),m=new fe(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(o,l,d){var m=ye(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),w=m.min.subtract(o.min),I=m.max.subtract(o.max),B=this._rebound(w.x,-I.x),G=this._rebound(w.y,-I.y);return new K(B,G)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),d=this.getMaxZoom(),m=pe.any3d?this.options.zoomSnap:1;return m&&(o=Math.round(o/m)*m),Math.max(l,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var d=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var o=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var d=Us,m=this._proxy.style[d];Ir(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Ir(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),w=this._getCenterOffset(o)._divideBy(1-1/m);return d.animate!==!0&&!this.getSize().contains(w)?!1:(V(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,d,m){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bo(o,l){return new De(o,l)}var gn=me.extend({options:{position:"topright"},initialize:function(o){P(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),d=this.getPosition(),m=o._controlCorners[d];return Ae(l,"leaflet-control"),d.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),un=function(o){return new gn(o)};De.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",d=this._controlContainer=Fe("div",l+"control-container",this._container);function m(w,I){var B=l+w+" "+l+I;o[w+I]=Fe("div",B,d)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ye(this._controlCorners[o]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pl=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,d,m){return d<m?-1:m<d?1:0}},initialize:function(o,l,d){P(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in o)this._addLayer(o[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return gn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Fe("div",o),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ji(l),zi(l);var m=this._section=Fe("section",o+"-list");d&&(this._map.on("click",this.collapse,this),we(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Fe("a",o+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),we(w,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){ut(I),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Fe("div",o+"-base",m),this._separator=Fe("div",o+"-separator",m),this._overlaysList=Fe("div",o+"-overlays",m),l.appendChild(m)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(m,w){return this.options.sortFunction(m.layer,w.layer,m.name,w.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hs(this._baseLayersList),Hs(this._overlaysList),this._layerControlInputs=[];var o,l,d,m,w=0;for(d=0;d<this._layers.length;d++)m=this._layers[d],this._addItem(m),l=l||m.overlay,o=o||!m.overlay,w+=m.overlay?0:1;return this.options.hideSingleBase&&(o=o&&w>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(c(o.target)),d=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(o,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=d,m.firstChild},_addItem:function(o){var l=document.createElement("label"),d=this._map.hasLayer(o.layer),m;o.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=d):m=this._createRadioElement("leaflet-base-layers_"+c(this),d),this._layerControlInputs.push(m),m.layerId=c(o.layer),we(m,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+o.name;var I=document.createElement("span");l.appendChild(I),I.appendChild(m),I.appendChild(w);var B=o.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,d,m=[],w=[];this._handlingClick=!0;for(var I=o.length-1;I>=0;I--)l=o[I],d=this._getLayer(l.layerId).layer,l.checked?m.push(d):l.checked||w.push(d);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])&&this._map.removeLayer(w[I]);for(I=0;I<m.length;I++)this._map.hasLayer(m[I])||this._map.addLayer(m[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,d,m=this._map.getZoom(),w=o.length-1;w>=0;w--)l=o[w],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&m<d.options.minZoom||d.options.maxZoom!==void 0&&m>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,we(o,"click",ut),this.expand();var l=this;setTimeout(function(){Qe(o,"click",ut),l._preventClick=!1})}}),Gf=function(o,l,d){return new Pl(o,l,d)},ii=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",d=Fe("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,d,m,w){var I=Fe("a",d,m);return I.innerHTML=o,I.href="#",I.title=l,I.setAttribute("role","button"),I.setAttribute("aria-label",l),ji(I),we(I,"click",Rn),we(I,"click",w,this),we(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";ot(this._zoomInButton,l),ot(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ae(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ae(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});De.mergeOptions({zoomControl:!0}),De.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ii,this.addControl(this.zoomControl))});var Vc=function(o){return new ii(o)},Ho=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",d=Fe("div",l),m=this.options;return this._addScales(m,l+"-line",d),o.on(m.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,d){o.metric&&(this._mScale=Fe("div",l,d)),o.imperial&&(this._iScale=Fe("div",l,d))},_update:function(){var o=this._map,l=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/o)},_updateImperial:function(o){var l=o*3.2808399,d,m,w;l>5280?(d=l/5280,m=this._getRoundNum(d),this._updateScale(this._iScale,m+" mi",m/d)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(o,l,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),d=o/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),$o=function(o){return new Ho(o)},Fc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ui=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pe.inlineSvg?Fc+" ":"")+"Leaflet</a>"},initialize:function(o){P(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),ji(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});De.mergeOptions({attributionControl:!0}),De.addInitHook(function(){this.options.attributionControl&&new Ui().addTo(this)});var Kf=function(o){return new Ui(o)};gn.Layers=Pl,gn.Zoom=ii,gn.Scale=Ho,gn.Attribution=Ui,un.layers=Gf,un.zoom=Vc,un.scale=$o,un.attribution=Kf;var Nn=me.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(o,l){return o.addHandler(l,this),this};var $s={Events:Oe},Cl=pe.touch?"touchstart mousedown":"mousedown",fr=oe.extend({options:{clickTolerance:3},initialize:function(o,l,d,m){P(this,m),this._element=o,this._dragStartTarget=l||o,this._preventOutline=d},enable:function(){this._enabled||(we(this._dragStartTarget,Cl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fr._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,Cl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!pl(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){fr._dragging===this&&this.finishDrag();return}if(!(fr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(fr._dragging=this,this._preventOutline&&ri(this._element),_l(),hr(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,d=wl(this._element);this._startPoint=new K(l.clientX,l.clientY),this._startPos=Gn(this._element),this._parentScale=jo(d);var m=o.type==="mousedown";we(document,m?"mousemove":"touchmove",this._onMove,this),we(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,d=new K(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ut(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ie(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ot(document.body,"leaflet-dragging"),this._lastTarget&&(ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),yl(),dr();var l=this._moved&&this._moving;this._moving=!1,fr._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function qo(o,l,d){var m,w=[1,4,2,8],I,B,G,Z,ee,ae,Ee,Me;for(I=0,ae=o.length;I<ae;I++)o[I]._code=Pr(o[I],l);for(G=0;G<4;G++){for(Ee=w[G],m=[],I=0,ae=o.length,B=ae-1;I<ae;B=I++)Z=o[I],ee=o[B],Z._code&Ee?ee._code&Ee||(Me=Lt(ee,Z,Ee,l,d),Me._code=Pr(Me,l),m.push(Me)):(ee._code&Ee&&(Me=Lt(ee,Z,Ee,l,d),Me._code=Pr(Me,l),m.push(Me)),m.push(Z));o=m}return o}function Wo(o,l){var d,m,w,I,B,G,Z,ee,ae;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ee=he([0,0]),Me=be(o),cn=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());cn<1700&&(Ee=Go(o));var Ot=o.length,Yn=[];for(d=0;d<Ot;d++){var _n=he(o[d]);Yn.push(l.project(he([_n.lat-Ee.lat,_n.lng-Ee.lng])))}for(G=Z=ee=0,d=0,m=Ot-1;d<Ot;m=d++)w=Yn[d],I=Yn[m],B=w.y*I.x-I.y*w.x,Z+=(w.x+I.x)*B,ee+=(w.y+I.y)*B,G+=B*3;G===0?ae=Yn[0]:ae=[Z/G,ee/G];var ea=l.unproject(O(ae));return he([ea.lat+Ee.lat,ea.lng+Ee.lng])}function Go(o){for(var l=0,d=0,m=0,w=0;w<o.length;w++){var I=he(o[w]);l+=I.lat,d+=I.lng,m++}return he([l/m,d/m])}var Ko={__proto__:null,clipPolygon:qo,polygonCenter:Wo,centroid:Go};function kl(o,l){if(!l||!o.length)return o.slice();var d=l*l;return o=jc(o,d),o=zc(o,d),o}function Al(o,l,d){return Math.sqrt(Jn(o,l,d,!0))}function si(o,l,d){return Jn(o,l,d)}function zc(o,l){var d=o.length,m=typeof Uint8Array<"u"?Uint8Array:Array,w=new m(d);w[0]=w[d-1]=1,Zo(o,w,l,0,d-1);var I,B=[];for(I=0;I<d;I++)w[I]&&B.push(o[I]);return B}function Zo(o,l,d,m,w){var I=0,B,G,Z;for(G=m+1;G<=w-1;G++)Z=Jn(o[G],o[m],o[w],!0),Z>I&&(B=G,I=Z);I>d&&(l[B]=1,Zo(o,l,d,m,B),Zo(o,l,d,B,w))}function jc(o,l){for(var d=[o[0]],m=1,w=0,I=o.length;m<I;m++)Uc(o[m],o[w])>l&&(d.push(o[m]),w=m);return w<I-1&&d.push(o[I-1]),d}var bl;function qs(o,l,d,m,w){var I=m?bl:Pr(o,d),B=Pr(l,d),G,Z,ee;for(bl=B;;){if(!(I|B))return[o,l];if(I&B)return!1;G=I||B,Z=Lt(o,l,G,d,w),ee=Pr(Z,d),G===I?(o=Z,I=ee):(l=Z,B=ee)}}function Lt(o,l,d,m,w){var I=l.x-o.x,B=l.y-o.y,G=m.min,Z=m.max,ee,ae;return d&8?(ee=o.x+I*(Z.y-o.y)/B,ae=Z.y):d&4?(ee=o.x+I*(G.y-o.y)/B,ae=G.y):d&2?(ee=Z.x,ae=o.y+B*(Z.x-o.x)/I):d&1&&(ee=G.x,ae=o.y+B*(G.x-o.x)/I),new K(ee,ae,w)}function Pr(o,l){var d=0;return o.x<l.min.x?d|=1:o.x>l.max.x&&(d|=2),o.y<l.min.y?d|=4:o.y>l.max.y&&(d|=8),d}function Uc(o,l){var d=l.x-o.x,m=l.y-o.y;return d*d+m*m}function Jn(o,l,d,m){var w=l.x,I=l.y,B=d.x-w,G=d.y-I,Z=B*B+G*G,ee;return Z>0&&(ee=((o.x-w)*B+(o.y-I)*G)/Z,ee>1?(w=d.x,I=d.y):ee>0&&(w+=B*ee,I+=G*ee)),B=o.x-w,G=o.y-I,m?B*B+G*G:new K(w,I)}function h(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function _(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(o)}function E(o,l){var d,m,w,I,B,G,Z,ee;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ae=he([0,0]),Ee=be(o),Me=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Me<1700&&(ae=Go(o));var cn=o.length,Ot=[];for(d=0;d<cn;d++){var Yn=he(o[d]);Ot.push(l.project(he([Yn.lat-ae.lat,Yn.lng-ae.lng])))}for(d=0,m=0;d<cn-1;d++)m+=Ot[d].distanceTo(Ot[d+1])/2;if(m===0)ee=Ot[0];else for(d=0,I=0;d<cn-1;d++)if(B=Ot[d],G=Ot[d+1],w=B.distanceTo(G),I+=w,I>m){Z=(I-m)/w,ee=[G.x-Z*(G.x-B.x),G.y-Z*(G.y-B.y)];break}var _n=l.unproject(O(ee));return he([_n.lat+ae.lat,_n.lng+ae.lng])}var b={__proto__:null,simplify:kl,pointToSegmentDistance:Al,closestPointOnSegment:si,clipSegment:qs,_getEdgeIntersection:Lt,_getBitCode:Pr,_sqClosestPointOnSegment:Jn,isFlat:h,_flat:_,polylineCenter:E},q={project:function(o){return new K(o.lng,o.lat)},unproject:function(o){return new Se(o.y,o.x)},bounds:new fe([-180,-90],[180,90])},Q={R:6378137,R_MINOR:6356752314245179e-9,bounds:new fe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,d=this.R,m=o.lat*l,w=this.R_MINOR/d,I=Math.sqrt(1-w*w),B=I*Math.sin(m),G=Math.tan(Math.PI/4-m/2)/Math.pow((1-B)/(1+B),I/2);return m=-d*Math.log(Math.max(G,1e-10)),new K(o.lng*l*d,m)},unproject:function(o){for(var l=180/Math.PI,d=this.R,m=this.R_MINOR/d,w=Math.sqrt(1-m*m),I=Math.exp(-o.y/d),B=Math.PI/2-2*Math.atan(I),G=0,Z=.1,ee;G<15&&Math.abs(Z)>1e-7;G++)ee=w*Math.sin(B),ee=Math.pow((1-ee)/(1+ee),w/2),Z=Math.PI/2-2*Math.atan(I*ee)-B,B+=Z;return new Se(B*l,o.x*l/d)}},se={__proto__:null,LonLat:q,Mercator:Q,SphericalMercator:sn},Ge=i({},At,{code:"EPSG:3395",projection:Q,transformation:function(){var o=.5/(Math.PI*Q.R);return lr(o,.5,-o,.5)}()}),Tt=i({},At,{code:"EPSG:4326",projection:q,transformation:lr(1/180,1,-1/180,.5)}),Ue=i({},nt,{projection:q,transformation:lr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var d=l.lng-o.lng,m=l.lat-o.lat;return Math.sqrt(d*d+m*m)},infinite:!0});nt.Earth=At,nt.EPSG3395=Ge,nt.EPSG3857=Zr,nt.EPSG900913=Ls,nt.EPSG4326=Tt,nt.Simple=Ue;var Je=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});De.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=c(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var l=0,d=o.length;l<d;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=c(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,d=this._getZoomSpan();for(var m in this._zoomBoundLayers){var w=this._zoomBoundLayers[m].options;o=w.minZoom===void 0?o:Math.min(o,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ct=Je.extend({initialize:function(o,l){P(this,l),this._layers={};var d,m;if(o)for(d=0,m=o.length;d<m;d++)this.addLayer(o[d])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),d,m;for(d in this._layers)m=this._layers[d],m[o]&&m[o].apply(m,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),Bi=function(o,l){return new ct(o,l)},yt=ct.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ct.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ct.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new j;for(var l in this._layers){var d=this._layers[l];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),Qo=function(o,l){return new yt(o,l)},Cr=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){P(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var d=this._getIconUrl(o);if(!d){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(o,l){var d=this.options,m=d[l+"Size"];typeof m=="number"&&(m=[m,m]);var w=O(m),I=O(l==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(d.className||""),I&&(o.style.marginLeft=-I.x+"px",o.style.marginTop=-I.y+"px"),w&&(o.style.width=w.x+"px",o.style.height=w.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return pe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function SC(o){return new Cr(o)}var Rl=Cr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Rl.imagePath!="string"&&(Rl.imagePath=this._detectIconPath()),(this.options.imagePath||Rl.imagePath)+Cr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(d,m,w){var I=m.exec(d);return I&&I[w]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Fe("div","leaflet-default-icon-path",document.body),l=Di(o,"background-image")||Di(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Qy=Nn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new fr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,d=l._map,m=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,I=Gn(l._icon),B=d.getPixelBounds(),G=d.getPixelOrigin(),Z=ye(B.min._subtract(G).add(w),B.max._subtract(G).subtract(w));if(!Z.contains(I)){var ee=O((Math.max(Z.max.x,I.x)-Z.max.x)/(B.max.x-Z.max.x)-(Math.min(Z.min.x,I.x)-Z.min.x)/(B.min.x-Z.min.x),(Math.max(Z.max.y,I.y)-Z.max.y)/(B.max.y-Z.max.y)-(Math.min(Z.min.y,I.y)-Z.min.y)/(B.min.y-Z.min.y)).multiplyBy(m);d.panBy(ee,{animate:!1}),this._draggable._newPos._add(ee),this._draggable._startPos._add(ee),Ie(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,d=l._shadow,m=Gn(l._icon),w=l._map.layerPointToLatLng(m);d&&Ie(d,m),l._latlng=w,o.latlng=w,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Bc=Je.extend({options:{icon:new Rl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){P(this,l),this._latlng=he(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=he(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),m=!1;d!==this._icon&&(this._icon&&this._removeIcon(),m=!0,o.title&&(d.title=o.title),d.tagName==="IMG"&&(d.alt=o.alt||"")),Ae(d,l),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(d,"focus",this._panOnFocus,this);var w=o.icon.createShadow(this._shadow),I=!1;w!==this._shadow&&(this._removeShadow(),I=!0),w&&(Ae(w,l),w.alt=""),this._shadow=w,o.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&I&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ie(this._icon,o),this._shadow&&Ie(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qy)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qy(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&mt(this._icon,o),this._shadow&&mt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,d=l.iconSize?O(l.iconSize):O(0,0),m=l.iconAnchor?O(l.iconAnchor):O(0,0);o.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:d.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function IC(o,l){return new Bc(o,l)}var Hi=Je.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return P(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hc=Hi.extend({options:{fill:!0,radius:10},initialize:function(o,l){P(this,l),this._latlng=he(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=he(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Hi.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,d=this._clickTolerance(),m=[o+d,l+d];this._pxBounds=new fe(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function PC(o,l){return new Hc(o,l)}var Zf=Hc.extend({initialize:function(o,l,d){if(typeof l=="number"&&(l=i({},d,{radius:l})),P(this,l),this._latlng=he(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Hi.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,d=this._map,m=d.options.crs;if(m.distance===At.distance){var w=Math.PI/180,I=this._mRadius/At.R/w,B=d.project([l+I,o]),G=d.project([l-I,o]),Z=B.add(G).divideBy(2),ee=d.unproject(Z).lat,ae=Math.acos((Math.cos(I*w)-Math.sin(l*w)*Math.sin(ee*w))/(Math.cos(l*w)*Math.cos(ee*w)))/w;(isNaN(ae)||ae===0)&&(ae=I/Math.cos(Math.PI/180*l)),this._point=Z.subtract(d.getPixelOrigin()),this._radius=isNaN(ae)?0:Z.x-d.project([ee,o-ae]).x,this._radiusY=Z.y-B.y}else{var Ee=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ee).x}this._updateBounds()}});function CC(o,l,d){return new Zf(o,l,d)}var oi=Hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){P(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,d=null,m=Jn,w,I,B=0,G=this._parts.length;B<G;B++)for(var Z=this._parts[B],ee=1,ae=Z.length;ee<ae;ee++){w=Z[ee-1],I=Z[ee];var Ee=m(o,w,I,!0);Ee<l&&(l=Ee,d=m(o,w,I))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return E(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=he(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new j,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return h(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],d=h(o),m=0,w=o.length;m<w;m++)d?(l[m]=he(o[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(o[m]);return l},_project:function(){var o=new fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new K(o,o);this._rawPxBounds&&(this._pxBounds=new fe([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,d){var m=o[0]instanceof Se,w=o.length,I,B;if(m){for(B=[],I=0;I<w;I++)B[I]=this._map.latLngToLayerPoint(o[I]),d.extend(B[I]);l.push(B)}else for(I=0;I<w;I++)this._projectLatlngs(o[I],l,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,m,w,I,B,G,Z;for(d=0,w=0,I=this._rings.length;d<I;d++)for(Z=this._rings[d],m=0,B=Z.length;m<B-1;m++)G=qs(Z[m],Z[m+1],o,m,!0),G&&(l[w]=l[w]||[],l[w].push(G[0]),(G[1]!==Z[m+1]||m===B-2)&&(l[w].push(G[1]),w++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,d=0,m=o.length;d<m;d++)o[d]=kl(o[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var d,m,w,I,B,G,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,I=this._parts.length;d<I;d++)for(G=this._parts[d],m=0,B=G.length,w=B-1;m<B;w=m++)if(!(!l&&m===0)&&Al(o,G[w],G[m])<=Z)return!0;return!1}});function kC(o,l){return new oi(o,l)}oi._flat=_;var Jo=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=oi.prototype._convertLatLngs.call(this,o),d=l.length;return d>=2&&l[0]instanceof Se&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(o){oi.prototype._setLatLngs.call(this,o),h(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return h(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,d=new K(l,l);if(o=new fe(o.min.subtract(d),o.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,w=this._rings.length,I;m<w;m++)I=qo(this._rings[m],o,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,d,m,w,I,B,G,Z,ee;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(I=0,Z=this._parts.length;I<Z;I++)for(d=this._parts[I],B=0,ee=d.length,G=ee-1;B<ee;G=B++)m=d[B],w=d[G],m.y>o.y!=w.y>o.y&&o.x<(w.x-m.x)*(o.y-m.y)/(w.y-m.y)+m.x&&(l=!l);return l||oi.prototype._containsPoint.call(this,o,!0)}});function AC(o,l){return new Jo(o,l)}var ai=yt.extend({initialize:function(o,l){P(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=k(o)?o:o.features,d,m,w;if(l){for(d=0,m=l.length;d<m;d++)w=l[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var I=this.options;if(I.filter&&!I.filter(o))return this;var B=$c(o,I);return B?(B.feature=Gc(o),B.defaultOptions=B.options,this.resetStyle(B),I.onEachFeature&&I.onEachFeature(o,B),this.addLayer(B)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function $c(o,l){var d=o.type==="Feature"?o.geometry:o,m=d?d.coordinates:null,w=[],I=l&&l.pointToLayer,B=l&&l.coordsToLatLng||Qf,G,Z,ee,ae;if(!m&&!d)return null;switch(d.type){case"Point":return G=B(m),Jy(I,o,G,l);case"MultiPoint":for(ee=0,ae=m.length;ee<ae;ee++)G=B(m[ee]),w.push(Jy(I,o,G,l));return new yt(w);case"LineString":case"MultiLineString":return Z=qc(m,d.type==="LineString"?0:1,B),new oi(Z,l);case"Polygon":case"MultiPolygon":return Z=qc(m,d.type==="Polygon"?1:2,B),new Jo(Z,l);case"GeometryCollection":for(ee=0,ae=d.geometries.length;ee<ae;ee++){var Ee=$c({geometry:d.geometries[ee],type:"Feature",properties:o.properties},l);Ee&&w.push(Ee)}return new yt(w);case"FeatureCollection":for(ee=0,ae=d.features.length;ee<ae;ee++){var Me=$c(d.features[ee],l);Me&&w.push(Me)}return new yt(w);default:throw new Error("Invalid GeoJSON object.")}}function Jy(o,l,d,m){return o?o(l,d):new Bc(d,m&&m.markersInheritOptions&&m)}function Qf(o){return new Se(o[1],o[0],o[2])}function qc(o,l,d){for(var m=[],w=0,I=o.length,B;w<I;w++)B=l?qc(o[w],l-1,d):(d||Qf)(o[w]),m.push(B);return m}function Jf(o,l){return o=he(o),o.alt!==void 0?[y(o.lng,l),y(o.lat,l),y(o.alt,l)]:[y(o.lng,l),y(o.lat,l)]}function Wc(o,l,d,m){for(var w=[],I=0,B=o.length;I<B;I++)w.push(l?Wc(o[I],h(o[I])?0:l-1,d,m):Jf(o[I],m));return!l&&d&&w.length>0&&w.push(w[0].slice()),w}function Yo(o,l){return o.feature?i({},o.feature,{geometry:l}):Gc(l)}function Gc(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Yf={toGeoJSON:function(o){return Yo(this,{type:"Point",coordinates:Jf(this.getLatLng(),o)})}};Bc.include(Yf),Zf.include(Yf),Hc.include(Yf),oi.include({toGeoJSON:function(o){var l=!h(this._latlngs),d=Wc(this._latlngs,l?1:0,!1,o);return Yo(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Jo.include({toGeoJSON:function(o){var l=!h(this._latlngs),d=l&&!h(this._latlngs[0]),m=Wc(this._latlngs,d?2:l?1:0,!0,o);return l||(m=[m]),Yo(this,{type:(d?"Multi":"")+"Polygon",coordinates:m})}}),ct.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(o).geometry.coordinates)}),Yo(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var d=l==="GeometryCollection",m=[];return this.eachLayer(function(w){if(w.toGeoJSON){var I=w.toGeoJSON(o);if(d)m.push(I.geometry);else{var B=Gc(I);B.type==="FeatureCollection"?m.push.apply(m,B.features):m.push(B)}}}),d?Yo(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Yy(o,l){return new ai(o,l)}var bC=Yy,Kc=Je.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,d){this._url=o,this._bounds=be(l),P(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ti(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=be(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:Fe("img");if(Ae(l,"leaflet-image-layer"),this._zoomAnimated&&Ae(l,"leaflet-zoom-animated"),this.options.className&&Ae(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ir(this._image,d,l)},_reset:function(){var o=this._image,l=new fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Ie(o,l.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),RC=function(o,l,d){return new Kc(o,l,d)},Xy=Kc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:Fe("video");if(Ae(l,"leaflet-image-layer"),this._zoomAnimated&&Ae(l,"leaflet-zoom-animated"),this.options.className&&Ae(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),o){for(var d=l.getElementsByTagName("source"),m=[],w=0;w<d.length;w++)m.push(d[w].src);this._url=d.length>0?m:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var B=Fe("source");B.src=this._url[I],l.appendChild(B)}}});function NC(o,l,d){return new Xy(o,l,d)}var ev=Kc.extend({_initImage:function(){var o=this._image=this._url;Ae(o,"leaflet-image-layer"),this._zoomAnimated&&Ae(o,"leaflet-zoom-animated"),this.options.className&&Ae(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function LC(o,l,d){return new ev(o,l,d)}var kr=Je.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Se||k(o))?(this._latlng=he(o),P(this,l)):(P(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(a(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=he(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ti(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof yt){l=null;var d=this._source._layers;for(var m in d)if(d[m]._map){l=d[m];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=O(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ie(this._container,o.add(d)):l=l.add(o).add(d);var m=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});De.include({_initOverlay:function(o,l,d,m){var w=l;return w instanceof o||(w=new o(m).setContent(l)),d&&w.setLatLng(d),w}}),Je.include({_initOverlay:function(o,l,d,m){var w=d;return w instanceof o?(P(w,m),w._source=this):(w=l&&!m?l:new o(m,this),w.setContent(d)),w}});var Zc=kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,kr.prototype.openOn.call(this,o)},onAdd:function(o){kr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hi||this._source.on("preclick",Qn))},onRemove:function(o){kr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hi||this._source.off("preclick",Qn))},getEvents:function(){var o=kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Fe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Fe("div",o+"-content-wrapper",l);if(this._contentNode=Fe("div",o+"-content",d),ji(l),zi(this._contentNode),we(l,"contextmenu",Qn),this._tipContainer=Fe("div",o+"-tip-container",l),this._tip=Fe("div",o+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Fe("a",o+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',we(m,"click",function(w){ut(w),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var m=o.offsetHeight,w=this.options.maxHeight,I="leaflet-popup-scrolled";w&&m>w?(l.height=w+"px",Ae(o,I)):ot(o,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();Ie(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(Di(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,m=this._containerWidth,w=new K(this._containerLeft,-d-this._containerBottom);w._add(Gn(this._container));var I=o.layerPointToContainerPoint(w),B=O(this.options.autoPanPadding),G=O(this.options.autoPanPaddingTopLeft||B),Z=O(this.options.autoPanPaddingBottomRight||B),ee=o.getSize(),ae=0,Ee=0;I.x+m+Z.x>ee.x&&(ae=I.x+m-ee.x+Z.x),I.x-ae-G.x<0&&(ae=I.x-G.x),I.y+d+Z.y>ee.y&&(Ee=I.y+d-ee.y+Z.y),I.y-Ee-G.y<0&&(Ee=I.y-G.y),(ae||Ee)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ae,Ee]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),OC=function(o,l){return new Zc(o,l)};De.mergeOptions({closePopupOnClick:!0}),De.include({openPopup:function(o,l,d){return this._initOverlay(Zc,o,l,d).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Je.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Zc,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof yt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Rn(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Qc=kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){kr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){kr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=kr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,d,m=this._map,w=this._container,I=m.latLngToContainerPoint(m.getCenter()),B=m.layerPointToContainerPoint(o),G=this.options.direction,Z=w.offsetWidth,ee=w.offsetHeight,ae=O(this.options.offset),Ee=this._getAnchor();G==="top"?(l=Z/2,d=ee):G==="bottom"?(l=Z/2,d=0):G==="center"?(l=Z/2,d=ee/2):G==="right"?(l=0,d=ee/2):G==="left"?(l=Z,d=ee/2):B.x<I.x?(G="right",l=0,d=ee/2):(G="left",l=Z+(ae.x+Ee.x)*2,d=ee/2),o=o.subtract(O(l,d,!0)).add(ae).add(Ee),ot(w,"leaflet-tooltip-right"),ot(w,"leaflet-tooltip-left"),ot(w,"leaflet-tooltip-top"),ot(w,"leaflet-tooltip-bottom"),Ae(w,"leaflet-tooltip-"+G),Ie(w,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&mt(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),MC=function(o,l){return new Qc(o,l)};De.include({openTooltip:function(o,l,d){return this._initOverlay(Qc,o,l,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Je.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qc,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof yt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(we(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),we(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,d,m;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),m=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var tv=Cr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Hs(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var m=O(d.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function DC(o){return new tv(o)}Cr.Default=Rl;var Nl=Je.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){P(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ye(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof K?o:new K(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,d=-o(-1/0,1/0),m=0,w=l.length,I;m<w;m++)I=l[m].style.zIndex,l[m]!==this._container&&I&&(d=o(d,+I));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe.ielt9){mt(this._container,this.options.opacity);var o=+new Date,l=!1,d=!1;for(var m in this._tiles){var w=this._tiles[m];if(!(!w.current||!w.loaded)){var I=Math.min(1,(o-w.loaded)/200);mt(w.el,I),I<1?l=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=l-Math.abs(o-d),this._onUpdateLevel(d)):(Ye(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var m=this._levels[o],w=this._map;return m||(m=this._levels[o]={},m.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=w.project(w.unproject(w.getPixelOrigin()),o).round(),m.zoom=o,this._setZoomTransform(m,w.getCenter(),w.getZoom()),g(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ye(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,d,m){var w=Math.floor(o/2),I=Math.floor(l/2),B=d-1,G=new K(+w,+I);G.z=+B;var Z=this._tileCoordsToKey(G),ee=this._tiles[Z];return ee&&ee.active?(ee.retain=!0,!0):(ee&&ee.loaded&&(ee.retain=!0),B>m?this._retainParent(w,I,B,m):!1)},_retainChildren:function(o,l,d,m){for(var w=2*o;w<2*o+2;w++)for(var I=2*l;I<2*l+2;I++){var B=new K(w,I);B.z=d+1;var G=this._tileCoordsToKey(B),Z=this._tiles[G];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);d+1<m&&this._retainChildren(w,I,d+1,m)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,d,m){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var I=this.options.updateWhenZooming&&w!==this._tileZoom;(!m||I)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,l)},_setZoomTransform:function(o,l,d){var m=this._map.getZoomScale(d,o.zoom),w=o.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,d)).round();pe.any3d?Ir(o.el,w,m):Ie(o.el,w)},_resetGrid:function(){var o=this._map,l=o.options.crs,d=this._tileSize=this.getTileSize(),m=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],m).x/d.x),Math.ceil(o.project([0,l.wrapLng[1]],m).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],m).y/d.x),Math.ceil(o.project([l.wrapLat[1],0],m).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(d,this._tileZoom),w=l.project(o,this._tileZoom).floor(),I=l.getSize().divideBy(m*2);return new fe(w.subtract(I),w.add(I))},_update:function(o){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(o),w=this._pxBoundsToTileRange(m),I=w.getCenter(),B=[],G=this.options.keepBuffer,Z=new fe(w.getBottomLeft().subtract([G,-G]),w.getTopRight().add([G,-G]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ee in this._tiles){var ae=this._tiles[ee].coords;(ae.z!==this._tileZoom||!Z.contains(new K(ae.x,ae.y)))&&(this._tiles[ee].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(o,d);return}for(var Ee=w.min.y;Ee<=w.max.y;Ee++)for(var Me=w.min.x;Me<=w.max.x;Me++){var cn=new K(Me,Ee);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var Ot=this._tiles[this._tileCoordsToKey(cn)];Ot?Ot.current=!0:B.push(cn)}}if(B.sort(function(_n,ea){return _n.distanceTo(I)-ea.distanceTo(I)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yn=document.createDocumentFragment();for(Me=0;Me<B.length;Me++)this._addTile(B[Me],Yn);this._level.el.appendChild(Yn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!l.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(o);return be(this.options.bounds).overlaps(m)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,d=this.getTileSize(),m=o.scaleBy(d),w=m.add(d),I=l.unproject(m,o.z),B=l.unproject(w,o.z);return[I,B]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),d=new j(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),d=new K(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(o){var l=this._tiles[o];l&&(Ye(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ae(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=g,o.onmousemove=g,pe.ielt9&&this.options.opacity<1&&mt(o,this.options.opacity)},_addTile:function(o,l){var d=this._getTilePos(o),m=this._tileCoordsToKey(o),w=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(w),this.createTile.length<2&&V(a(this._tileReady,this,o,null,w)),Ie(w,d),this._tiles[m]={el:w,coords:o,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:o})},_tileReady:function(o,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:o});var m=this._tileCoordsToKey(o);d=this._tiles[m],d&&(d.loaded=+new Date,this._map._fadeAnimated?(mt(d.el,0),z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Ae(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new K(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new fe(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function VC(o){return new Nl(o)}var Xo=Nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=P(this,l),l.detectRetina&&pe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var d=document.createElement("img");return we(d,"load",a(this._tileOnLoad,this,l,d)),we(d,"error",a(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var l={r:pe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=d),l["-y"]=d}return A(this._url,i(l,this.options))},_tileOnLoad:function(o,l){pe.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,d){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),o(d,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,m=this.options.zoomOffset;return d&&(o=l-o),o+m},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=g,l.onerror=g,!l.complete)){l.src=W;var d=this._tiles[o].coords;Ye(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",W),Nl.prototype._removeTile.call(this,o)},_tileReady:function(o,l,d){if(!(!this._map||d&&d.getAttribute("src")===W))return Nl.prototype._tileReady.call(this,o,l,d)}});function nv(o,l){return new Xo(o,l)}var rv=Xo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var d=i({},this.defaultWmsParams);for(var m in l)m in this.options||(d[m]=l[m]);l=P(this,l);var w=l.detectRetina&&pe.retina?2:1,I=this.getTileSize();d.width=I.x*w,d.height=I.y*w,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Xo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),d=this._crs,m=ye(d.project(l[0]),d.project(l[1])),w=m.min,I=m.max,B=(this._wmsVersion>=1.3&&this._crs===Tt?[w.y,w.x,I.y,I.x]:[w.x,w.y,I.x,I.y]).join(","),G=Xo.prototype.getTileUrl.call(this,o);return G+M(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function FC(o,l){return new rv(o,l)}Xo.WMS=rv,nv.wms=FC;var li=Je.extend({options:{padding:.1},initialize:function(o){P(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var d=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),I=m.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(o,l));pe.any3d?Ir(this._container,I,d):Ie(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new fe(d,d.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),iv=li.extend({options:{tolerance:0},getEvents:function(){var o=li.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");we(o,"mousemove",this._onMouseMove,this),we(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),we(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Ye(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var o=this._bounds,l=this._container,d=o.getSize(),m=pe.retina?2:1;Ie(l,o.min),l.width=m*d.x,l.height=m*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,d=l.next,m=l.prev;d?d.prev=m:this._drawLast=m,m?m.next=d:this._drawFirst=d,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),d=[],m,w;for(w=0;w<l.length;w++){if(m=Number(l[w]),isNaN(m))return;d.push(m)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new fe,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)o=m.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var d,m,w,I,B=o._parts,G=B.length,Z=this._ctx;if(G){for(Z.beginPath(),d=0;d<G;d++){for(m=0,w=B[d].length;m<w;m++)I=B[d][m],Z[m?"lineTo":"moveTo"](I.x,I.y);l&&Z.closePath()}this._fillStroke(Z,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,d=this._ctx,m=Math.max(Math.round(o._radius),1),w=(Math.max(Math.round(o._radiusY),1)||m)/m;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(l.x,l.y/w,m,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,l){var d=l.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),d,m,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(m=d);this._fireEvent(m?[m]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(ot(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var d,m,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(m=d);m!==this._hoveredLayer&&(this._handleMouseOut(o),m&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,d){this._map._fireDOMEvent(l,d||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var d=l.next,m=l.prev;if(d)d.prev=m;else return;m?m.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var d=l.next,m=l.prev;if(m)m.next=d;else return;d?d.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function sv(o){return pe.canvas?new iv(o):null}var Ll=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zC={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(li.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Ll("shape");Ae(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Ll("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Ye(l),o.removeInteractiveTarget(l),delete this._layers[c(o)]},_updateStyle:function(o){var l=o._stroke,d=o._fill,m=o.options,w=o._container;w.stroked=!!m.stroke,w.filled=!!m.fill,m.stroke?(l||(l=o._stroke=Ll("stroke")),w.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=k(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(w.removeChild(l),o._stroke=null),m.fill?(d||(d=o._fill=Ll("fill")),w.appendChild(d),d.color=m.fillColor||m.color,d.opacity=m.fillOpacity):d&&(w.removeChild(d),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),d=Math.round(o._radius),m=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+m+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){ti(o._container)},_bringToBack:function(o){Vi(o._container)}},Jc=pe.vml?Ll:Qr,Ol=li.extend({_initContainer:function(){this._container=Jc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var o=this._bounds,l=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Ie(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Jc("path");o.options.className&&Ae(l,o.options.className),o.options.interactive&&Ae(l,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ye(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,d=o.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,bi(o._parts,l))},_updateCircle:function(o){var l=o._point,d=Math.max(Math.round(o._radius),1),m=Math.max(Math.round(o._radiusY),1)||d,w="a"+d+","+m+" 0 1,0 ",I=o._empty()?"M0 0":"M"+(l.x-d)+","+l.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(o,I)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){ti(o._path)},_bringToBack:function(o){Vi(o._path)}});pe.vml&&Ol.include(zC);function ov(o){return pe.svg||pe.vml?new Ol(o):null}De.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&sv(o)||ov(o)}});var av=Jo.extend({initialize:function(o,l){Jo.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=be(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function jC(o,l){return new av(o,l)}Ol.create=Jc,Ol.pointsToPath=bi,ai.geometryToLayer=$c,ai.coordsToLatLng=Qf,ai.coordsToLatLngs=qc,ai.latLngToCoords=Jf,ai.latLngsToCoords=Wc,ai.getFeature=Yo,ai.asFeature=Gc,De.mergeOptions({boxZoom:!0});var lv=Nn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hr(),_l(),this._startPoint=this._map.mouseEventToContainerPoint(o),we(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new fe(this._point,this._startPoint),d=l.getSize();Ie(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ye(this._box),ot(this._container,"leaflet-crosshair")),dr(),yl(),Qe(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});De.addInitHook("addHandler","boxZoom",lv),De.mergeOptions({doubleClickZoom:!0});var uv=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,d=l.getZoom(),m=l.options.zoomDelta,w=o.originalEvent.shiftKey?d-m:d+m;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(o.containerPoint,w)}});De.addInitHook("addHandler","doubleClickZoom",uv),De.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cv=Nn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new fr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ot(this._map._container,"leaflet-grab"),ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=be(this._map.options.maxBounds);this._offsetLimit=ye(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),d=this._initialWorldOffset,m=this._draggable._newPos.x,w=(m-l+d)%o+l-d,I=(m+l+d)%o-l-d,B=Math.abs(w+d)<Math.abs(I+d)?w:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(o){var l=this._map,d=l.options,m=!d.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),m)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,B=d.easeLinearity,G=w.multiplyBy(B/I),Z=G.distanceTo([0,0]),ee=Math.min(d.inertiaMaxSpeed,Z),ae=G.multiplyBy(ee/Z),Ee=ee/(d.inertiaDeceleration*B),Me=ae.multiplyBy(-Ee/2).round();!Me.x&&!Me.y?l.fire("moveend"):(Me=l._limitOffset(Me,l.options.maxBounds),V(function(){l.panBy(Me,{duration:Ee,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});De.addInitHook("addHandler","dragging",cv),De.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hv=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),we(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,d=o.scrollTop||l.scrollTop,m=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},d=this.keyCodes,m,w;for(m=0,w=d.left.length;m<w;m++)l[d.left[m]]=[-1*o,0];for(m=0,w=d.right.length;m<w;m++)l[d.right[m]]=[o,0];for(m=0,w=d.down.length;m<w;m++)l[d.down[m]]=[0,o];for(m=0,w=d.up.length;m<w;m++)l[d.up[m]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},d=this.keyCodes,m,w;for(m=0,w=d.zoomIn.length;m<w;m++)l[d.zoomIn[m]]=o;for(m=0,w=d.zoomOut.length;m<w;m++)l[d.zoomOut[m]]=-o},_addHooks:function(){we(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,d=this._map,m;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(m=this._panKeys[l],o.shiftKey&&(m=O(m).multiplyBy(3)),d.options.maxBounds&&(m=d._limitOffset(O(m),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(m)));d.panTo(w)}else d.panBy(m)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Rn(o)}}});De.addInitHook("addHandler","keyboard",hv),De.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dv=Nn.extend({addHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Mc(o),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var m=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),m),Rn(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,I=d?Math.ceil(w/d)*d:w,B=o._limitZoom(l+(this._delta>0?I:-I))-l;this._delta=0,this._startTime=null,B&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+B):o.setZoomAround(this._lastMousePos,l+B))}});De.addInitHook("addHandler","scrollWheelZoom",dv);var UC=600;De.mergeOptions({tapHold:pe.touchNative&&pe.safari&&pe.mobile,tapTolerance:15});var fv=Nn.extend({addHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new K(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(we(document,"touchend",ut),we(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),UC),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Qe(document,"touchend",ut),Qe(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new K(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});De.addInitHook("addHandler","tapHold",fv),De.mergeOptions({touchZoom:pe.touch,bounceAtZoomLimits:!0});var pv=Nn.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(m)._divideBy(2))),this._startDist=d.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),ut(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]),w=d.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var I=d._add(m)._divideBy(2)._subtract(this._centerPoint);if(w===1&&I.x===0&&I.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var B=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(B,this,!0),ut(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});De.addInitHook("addHandler","touchZoom",pv),De.BoxZoom=lv,De.DoubleClickZoom=uv,De.Drag=cv,De.Keyboard=hv,De.ScrollWheelZoom=dv,De.TapHold=fv,De.TouchZoom=pv,n.Bounds=fe,n.Browser=pe,n.CRS=nt,n.Canvas=iv,n.Circle=Zf,n.CircleMarker=Hc,n.Class=me,n.Control=gn,n.DivIcon=tv,n.DivOverlay=kr,n.DomEvent=Dc,n.DomUtil=Lc,n.Draggable=fr,n.Evented=oe,n.FeatureGroup=yt,n.GeoJSON=ai,n.GridLayer=Nl,n.Handler=Nn,n.Icon=Cr,n.ImageOverlay=Kc,n.LatLng=Se,n.LatLngBounds=j,n.Layer=Je,n.LayerGroup=ct,n.LineUtil=b,n.Map=De,n.Marker=Bc,n.Mixin=$s,n.Path=Hi,n.Point=K,n.PolyUtil=Ko,n.Polygon=Jo,n.Polyline=oi,n.Popup=Zc,n.PosAnimation=Il,n.Projection=se,n.Rectangle=av,n.Renderer=li,n.SVG=Ol,n.SVGOverlay=ev,n.TileLayer=Xo,n.Tooltip=Qc,n.Transformation=An,n.Util=F,n.VideoOverlay=Xy,n.bind=a,n.bounds=ye,n.canvas=sv,n.circle=CC,n.circleMarker=PC,n.control=un,n.divIcon=DC,n.extend=i,n.featureGroup=Qo,n.geoJSON=Yy,n.geoJson=bC,n.gridLayer=VC,n.icon=SC,n.imageOverlay=RC,n.latLng=he,n.latLngBounds=be,n.layerGroup=Bi,n.map=Bo,n.marker=IC,n.point=O,n.polygon=AC,n.polyline=kC,n.popup=OC,n.rectangle=jC,n.setOptions=P,n.stamp=c,n.svg=ov,n.svgOverlay=LC,n.tileLayer=nv,n.tooltip=MC,n.transformation=lr,n.version=r,n.videoOverlay=NC;var BC=window.L;n.noConflict=function(){return window.L=BC,this},window.L=n})})(og,og.exports);var AO=og.exports;const Qs=Qd(AO);function U1(t,e){return function(){return t.apply(e,arguments)}}const{toString:bO}=Object.prototype,{getPrototypeOf:G_}=Object,xf=(t=>e=>{const n=bO.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=t=>(t=t.toLowerCase(),e=>xf(e)===t),Sf=t=>e=>typeof e===t,{isArray:Ya}=Array,$u=Sf("undefined");function RO(t){return t!==null&&!$u(t)&&t.constructor!==null&&!$u(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const B1=Sr("ArrayBuffer");function NO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&B1(t.buffer),e}const LO=Sf("string"),zn=Sf("function"),H1=Sf("number"),If=t=>t!==null&&typeof t=="object",OO=t=>t===!0||t===!1,Bh=t=>{if(xf(t)!=="object")return!1;const e=G_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MO=Sr("Date"),DO=Sr("File"),VO=Sr("Blob"),FO=Sr("FileList"),zO=t=>If(t)&&zn(t.pipe),jO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=xf(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},UO=Sr("URLSearchParams"),[BO,HO,$O,qO]=["ReadableStream","Request","Response","Headers"].map(Sr),WO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ya(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let u;for(r=0;r<a;r++)u=s[r],e.call(null,t[u],u,t)}}function $1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const to=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q1=t=>!$u(t)&&t!==to;function ag(){const{caseless:t}=q1(this)&&this||{},e={},n=(r,i)=>{const s=t&&$1(e,i)||i;Bh(e[s])&&Bh(r)?e[s]=ag(e[s],r):Bh(r)?e[s]=ag({},r):Ya(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hc(arguments[r],n);return e}const GO=(t,e,n,{allOwnKeys:r}={})=>(hc(e,(i,s)=>{n&&zn(i)?t[s]=U1(i,n):t[s]=i},{allOwnKeys:r}),t),KO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZO=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},QO=(t,e,n,r)=>{let i,s,a;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&G_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},JO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},YO=t=>{if(!t)return null;if(Ya(t))return t;let e=t.length;if(!H1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},XO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&G_(Uint8Array)),eM=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},tM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},nM=Sr("HTMLFormElement"),rM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),g0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iM=Sr("RegExp"),W1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hc(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},sM=t=>{W1(t,(e,n)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oM=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ya(t)?r(t):r(String(t).split(e)),n},aM=()=>{},lM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uM(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const cM=t=>{const e=new Array(10),n=(r,i)=>{if(If(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ya(r)?[]:{};return hc(r,(a,u)=>{const c=n(a,i+1);!$u(c)&&(s[u]=c)}),e[i]=void 0,s}}return r};return n(t,0)},hM=Sr("AsyncFunction"),dM=t=>t&&(If(t)||zn(t))&&zn(t.then)&&zn(t.catch),G1=((t,e)=>t?setImmediate:e?((n,r)=>(to.addEventListener("message",({source:i,data:s})=>{i===to&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),to.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zn(to.postMessage)),fM=typeof queueMicrotask<"u"?queueMicrotask.bind(to):typeof process<"u"&&process.nextTick||G1,Y={isArray:Ya,isArrayBuffer:B1,isBuffer:RO,isFormData:jO,isArrayBufferView:NO,isString:LO,isNumber:H1,isBoolean:OO,isObject:If,isPlainObject:Bh,isReadableStream:BO,isRequest:HO,isResponse:$O,isHeaders:qO,isUndefined:$u,isDate:MO,isFile:DO,isBlob:VO,isRegExp:iM,isFunction:zn,isStream:zO,isURLSearchParams:UO,isTypedArray:XO,isFileList:FO,forEach:hc,merge:ag,extend:GO,trim:WO,stripBOM:KO,inherits:ZO,toFlatObject:QO,kindOf:xf,kindOfTest:Sr,endsWith:JO,toArray:YO,forEachEntry:eM,matchAll:tM,isHTMLForm:nM,hasOwnProperty:g0,hasOwnProp:g0,reduceDescriptors:W1,freezeMethods:sM,toObjectSet:oM,toCamelCase:rM,noop:aM,toFiniteNumber:lM,findKey:$1,global:to,isContextDefined:q1,isSpecCompliantForm:uM,toJSONObject:cM,isAsyncFn:hM,isThenable:dM,setImmediate:G1,asap:fM};function Ne(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Y.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const K1=Ne.prototype,Z1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Z1[t]={value:t}});Object.defineProperties(Ne,Z1);Object.defineProperty(K1,"isAxiosError",{value:!0});Ne.from=(t,e,n,r,i,s)=>{const a=Object.create(K1);return Y.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Ne.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const pM=null;function lg(t){return Y.isPlainObject(t)||Y.isArray(t)}function Q1(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function _0(t,e,n){return t?t.concat(e).map(function(i,s){return i=Q1(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function mM(t){return Y.isArray(t)&&!t.some(lg)}const gM=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Pf(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,M){return!Y.isUndefined(M[P])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(Y.isDate(x))return x.toISOString();if(!c&&Y.isBlob(x))throw new Ne("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(x)||Y.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function p(x,P,M){let S=x;if(x&&!M&&typeof x=="object"){if(Y.endsWith(P,"{}"))P=r?P:P.slice(0,-2),x=JSON.stringify(x);else if(Y.isArray(x)&&mM(x)||(Y.isFileList(x)||Y.endsWith(P,"[]"))&&(S=Y.toArray(x)))return P=Q1(P),S.forEach(function(k,H){!(Y.isUndefined(k)||k===null)&&e.append(a===!0?_0([P],H,s):a===null?P:P+"[]",f(k))}),!1}return lg(x)?!0:(e.append(_0(M,P,s),f(x)),!1)}const g=[],y=Object.assign(gM,{defaultVisitor:p,convertValue:f,isVisitable:lg});function v(x,P){if(!Y.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+P.join("."));g.push(x),Y.forEach(x,function(S,A){(!(Y.isUndefined(S)||S===null)&&i.call(e,S,Y.isString(A)?A.trim():A,P,y))===!0&&v(S,P?P.concat(A):[A])}),g.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return v(t),e}function y0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function K_(t,e){this._pairs=[],t&&Pf(t,this,e)}const J1=K_.prototype;J1.append=function(e,n){this._pairs.push([e,n])};J1.toString=function(e){const n=e?function(r){return e.call(this,r,y0)}:y0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _M(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y1(t,e,n){if(!e)return t;const r=n&&n.encode||_M;Y.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Y.isURLSearchParams(e)?e.toString():new K_(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class v0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const X1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yM=typeof URLSearchParams<"u"?URLSearchParams:K_,vM=typeof FormData<"u"?FormData:null,wM=typeof Blob<"u"?Blob:null,EM={isBrowser:!0,classes:{URLSearchParams:yM,FormData:vM,Blob:wM},protocols:["http","https","file","blob","url","data"]},Z_=typeof window<"u"&&typeof document<"u",ug=typeof navigator=="object"&&navigator||void 0,TM=Z_&&(!ug||["ReactNative","NativeScript","NS"].indexOf(ug.product)<0),xM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SM=Z_&&window.location.href||"http://localhost",IM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z_,hasStandardBrowserEnv:TM,hasStandardBrowserWebWorkerEnv:xM,navigator:ug,origin:SM},Symbol.toStringTag,{value:"Module"})),en={...IM,...EM};function PM(t,e){return Pf(t,new en.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return en.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function CM(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kM(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function eI(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),c=s>=n.length;return a=!a&&Y.isArray(i)?i.length:a,c?(Y.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!u):((!i[a]||!Y.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Y.isArray(i[a])&&(i[a]=kM(i[a])),!u)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,i)=>{e(CM(r),i,n,0)}),n}return null}function AM(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const dc={transitional:X1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i?JSON.stringify(eI(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return PM(e,this.formSerializer).toString();if((u=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pf(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),AM(e)):e}],transformResponse:[function(e){const n=this.transitional||dc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?Ne.from(u,Ne.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{dc.headers[t]={}});const bM=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RM=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&bM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},w0=Symbol("internals");function Hl(t){return t&&String(t).trim().toLowerCase()}function Hh(t){return t===!1||t==null?t:Y.isArray(t)?t.map(Hh):String(t)}function NM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const LM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Op(t,e,n,r,i){if(Y.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function OM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function MM(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(u,c,f){const p=Hl(c);if(!p)throw new Error("header name must be a non-empty string");const g=Y.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||c]=Hh(u))}const a=(u,c)=>Y.forEach(u,(f,p)=>s(f,p,c));if(Y.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Y.isString(e)&&(e=e.trim())&&!LM(e))a(RM(e),n);else if(Y.isHeaders(e))for(const[u,c]of e.entries())s(c,u,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Hl(e),e){const r=Y.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return NM(i);if(Y.isFunction(n))return n.call(this,i,r);if(Y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hl(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Op(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Hl(a),a){const u=Y.findKey(r,a);u&&(!n||Op(r,r[u],u,n))&&(delete r[u],i=!0)}}return Y.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Op(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Y.forEach(this,(i,s)=>{const a=Y.findKey(r,s);if(a){n[a]=Hh(i),delete n[s];return}const u=e?OM(s):String(s).trim();u!==s&&delete n[s],n[u]=Hh(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[w0]=this[w0]={accessors:{}}).accessors,i=this.prototype;function s(a){const u=Hl(a);r[u]||(MM(i,a),r[u]=!0)}return Y.isArray(e)?e.forEach(s):s(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Y.freezeMethods(In);function Mp(t,e){const n=this||dc,r=e||n,i=In.from(r.headers);let s=r.data;return Y.forEach(t,function(u){s=u.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function tI(t){return!!(t&&t.__CANCEL__)}function Xa(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Xa,Ne,{__CANCEL__:!0});function nI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function DM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),p=r[s];a||(a=f),n[i]=c,r[i]=f;let g=s,y=0;for(;g!==i;)y+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const v=p&&f-p;return v?Math.round(y*1e3/v):void 0}}function FM(t,e){let n=0,r=1e3/e,i,s;const a=(f,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t.apply(null,f)};return[(...f)=>{const p=Date.now(),g=p-n;g>=r?a(f,p):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-g)))},()=>i&&a(i)]}const Od=(t,e,n=3)=>{let r=0;const i=VM(50,250);return FM(s=>{const a=s.loaded,u=s.lengthComputable?s.total:void 0,c=a-r,f=i(c),p=a<=u;r=a;const g={loaded:a,total:u,progress:u?a/u:void 0,bytes:c,rate:f||void 0,estimated:f&&u&&p?(u-a)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},E0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},T0=t=>(...e)=>Y.asap(()=>t(...e)),zM=en.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,en.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,jM=en.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&a.push("path="+r),Y.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function BM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rI(t,e,n){let r=!UM(e);return t&&(r||n==!1)?BM(t,e):e}const x0=t=>t instanceof In?{...t}:t;function go(t,e){e=e||{};const n={};function r(f,p,g,y){return Y.isPlainObject(f)&&Y.isPlainObject(p)?Y.merge.call({caseless:y},f,p):Y.isPlainObject(p)?Y.merge({},p):Y.isArray(p)?p.slice():p}function i(f,p,g,y){if(Y.isUndefined(p)){if(!Y.isUndefined(f))return r(void 0,f,g,y)}else return r(f,p,g,y)}function s(f,p){if(!Y.isUndefined(p))return r(void 0,p)}function a(f,p){if(Y.isUndefined(p)){if(!Y.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function u(f,p,g){if(g in e)return r(f,p);if(g in t)return r(void 0,f)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,p,g)=>i(x0(f),x0(p),g,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=c[p]||i,y=g(t[p],e[p],p);Y.isUndefined(y)&&g!==u||(n[p]=y)}),n}const iI=t=>{const e=go({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:u}=e;e.headers=a=In.from(a),e.url=Y1(rI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(Y.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[f,...p]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...p].join("; "))}}if(en.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&zM(e.url))){const f=i&&s&&jM.read(s);f&&a.set(i,f)}return e},HM=typeof XMLHttpRequest<"u",$M=HM&&function(t){return new Promise(function(n,r){const i=iI(t);let s=i.data;const a=In.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:f}=i,p,g,y,v,x;function P(){v&&v(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function S(){if(!M)return;const k=In.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),W={data:!u||u==="text"||u==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:k,config:t,request:M};nI(function(R){n(R),P()},function(R){r(R),P()},W),M=null}"onloadend"in M?M.onloadend=S:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(S)},M.onabort=function(){M&&(r(new Ne("Request aborted",Ne.ECONNABORTED,t,M)),M=null)},M.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,t,M)),M=null},M.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||X1;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Ne(H,W.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,M)),M=null},s===void 0&&a.setContentType(null),"setRequestHeader"in M&&Y.forEach(a.toJSON(),function(H,W){M.setRequestHeader(W,H)}),Y.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),u&&u!=="json"&&(M.responseType=i.responseType),f&&([y,x]=Od(f,!0),M.addEventListener("progress",y)),c&&M.upload&&([g,v]=Od(c),M.upload.addEventListener("progress",g),M.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=k=>{M&&(r(!k||k.type?new Xa(null,t,M):k),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const A=DM(i.url);if(A&&en.protocols.indexOf(A)===-1){r(new Ne("Unsupported protocol "+A+":",Ne.ERR_BAD_REQUEST,t));return}M.send(s||null)})},qM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,u();const p=f instanceof Error?f:this.reason;r.abort(p instanceof Ne?p:new Xa(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,s(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const u=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Y.asap(u),c}},WM=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},GM=async function*(t,e){for await(const n of KM(t))yield*WM(n,e)},KM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},S0=(t,e,n,r)=>{const i=GM(t,e);let s=0,a,u=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:f,value:p}=await i.next();if(f){u(),c.close();return}let g=p.byteLength;if(n){let y=s+=g;n(y)}c.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},Cf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sI=Cf&&typeof ReadableStream=="function",ZM=Cf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),oI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},QM=sI&&oI(()=>{let t=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),I0=64*1024,cg=sI&&oI(()=>Y.isReadableStream(new Response("").body)),Md={stream:cg&&(t=>t.body)};Cf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Md[e]&&(Md[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const JM=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(en.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await ZM(t)).byteLength},YM=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??JM(e)},XM=Cf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:u,onUploadProgress:c,responseType:f,headers:p,withCredentials:g="same-origin",fetchOptions:y}=iI(t);f=f?(f+"").toLowerCase():"text";let v=qM([i,s&&s.toAbortSignal()],a),x;const P=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let M;try{if(c&&QM&&n!=="get"&&n!=="head"&&(M=await YM(p,r))!==0){let W=new Request(e,{method:"POST",body:r,duplex:"half"}),U;if(Y.isFormData(r)&&(U=W.headers.get("content-type"))&&p.setContentType(U),W.body){const[R,C]=E0(M,Od(T0(c)));r=S0(W.body,I0,R,C)}}Y.isString(g)||(g=g?"include":"omit");const S="credentials"in Request.prototype;x=new Request(e,{...y,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:S?g:void 0});let A=await fetch(x);const k=cg&&(f==="stream"||f==="response");if(cg&&(u||k&&P)){const W={};["status","statusText","headers"].forEach(N=>{W[N]=A[N]});const U=Y.toFiniteNumber(A.headers.get("content-length")),[R,C]=u&&E0(U,Od(T0(u),!0))||[];A=new Response(S0(A.body,I0,R,()=>{C&&C(),P&&P()}),W)}f=f||"text";let H=await Md[Y.findKey(Md,f)||"text"](A,t);return!k&&P&&P(),await new Promise((W,U)=>{nI(W,U,{data:H,headers:In.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:x})})}catch(S){throw P&&P(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,x),{cause:S.cause||S}):Ne.from(S,S&&S.code,t,x)}}),hg={http:pM,xhr:$M,fetch:XM};Y.forEach(hg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const P0=t=>`- ${t}`,eD=t=>Y.isFunction(t)||t===null||t===!1,aI={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!eD(n)&&(r=hg[(a=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(P0).join(`
`):" "+P0(s[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:hg};function Dp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xa(null,t)}function C0(t){return Dp(t),t.headers=In.from(t.headers),t.data=Mp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aI.getAdapter(t.adapter||dc.adapter)(t).then(function(r){return Dp(t),r.data=Mp.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return tI(r)||(Dp(t),r&&r.response&&(r.response.data=Mp.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const lI="1.8.4",kf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{kf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const k0={};kf.transitional=function(e,n,r){function i(s,a){return"[Axios v"+lI+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,u)=>{if(e===!1)throw new Ne(i(a," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!k0[a]&&(k0[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,u):!0}};kf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tD(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const u=t[s],c=u===void 0||a(u,s,t);if(c!==!0)throw new Ne("option "+s+" must be "+c,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+s,Ne.ERR_BAD_OPTION)}}const $h={assertOptions:tD,validators:kf},br=$h.validators;let so=class{constructor(e){this.defaults=e,this.interceptors={request:new v0,response:new v0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=go(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&$h.assertOptions(r,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean)},!1),i!=null&&(Y.isFunction(i)?n.paramsSerializer={serialize:i}:$h.assertOptions(i,{encode:br.function,serialize:br.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$h.assertOptions(n,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Y.merge(s.common,s[n.method]);s&&Y.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=In.concat(a,s);const u=[];let c=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(n)===!1||(c=c&&P.synchronous,u.unshift(P.fulfilled,P.rejected))});const f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});let p,g=0,y;if(!c){const x=[C0.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,f),y=x.length,p=Promise.resolve(n);g<y;)p=p.then(x[g++],x[g++]);return p}y=u.length;let v=n;for(g=0;g<y;){const x=u[g++],P=u[g++];try{v=x(v)}catch(M){P.call(this,M);break}}try{p=C0.call(this,v)}catch(x){return Promise.reject(x)}for(g=0,y=f.length;g<y;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=go(this.defaults,e);const n=rI(e.baseURL,e.url,e.allowAbsoluteUrls);return Y1(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){so.prototype[e]=function(n,r){return this.request(go(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,u){return this.request(go(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}so.prototype[e]=n(),so.prototype[e+"Form"]=n(!0)});let nD=class uI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(u=>{r.subscribe(u),s=u}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,u){r.reason||(r.reason=new Xa(s,a,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new uI(function(i){e=i}),cancel:e}}};function rD(t){return function(n){return t.apply(null,n)}}function iD(t){return Y.isObject(t)&&t.isAxiosError===!0}const dg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dg).forEach(([t,e])=>{dg[e]=t});function cI(t){const e=new so(t),n=U1(so.prototype.request,e);return Y.extend(n,so.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cI(go(t,i))},n}const Et=cI(dc);Et.Axios=so;Et.CanceledError=Xa;Et.CancelToken=nD;Et.isCancel=tI;Et.VERSION=lI;Et.toFormData=Pf;Et.AxiosError=Ne;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=rD;Et.isAxiosError=iD;Et.mergeConfig=go;Et.AxiosHeaders=In;Et.formToJSON=t=>eI(Y.isHTMLForm(t)?new FormData(t):t);Et.getAdapter=aI.getAdapter;Et.HttpStatusCode=dg;Et.default=Et;const{Axios:nB,AxiosError:rB,CanceledError:iB,isCancel:sB,CancelToken:oB,VERSION:aB,all:lB,Cancel:uB,isAxiosError:cB,spread:hB,toFormData:dB,AxiosHeaders:fB,HttpStatusCode:pB,formToJSON:mB,getAdapter:gB,mergeConfig:_B}=Et;var sD="firebase",oD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(sD,oD,"app");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,hI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function N(){}N.prototype=C.prototype,R.D=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(D,V,z){for(var F=Array(arguments.length-2),me=2;me<arguments.length;me++)F[me-2]=arguments[me];return C.prototype[V].apply(D,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,N){N||(N=0);var D=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)D[V]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(V=0;16>V;++V)D[V]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],V=R.g[2];var z=R.g[3],F=C+(z^N&(V^z))+D[0]+3614090360&4294967295;C=N+(F<<7&4294967295|F>>>25),F=z+(V^C&(N^V))+D[1]+3905402710&4294967295,z=C+(F<<12&4294967295|F>>>20),F=V+(N^z&(C^N))+D[2]+606105819&4294967295,V=z+(F<<17&4294967295|F>>>15),F=N+(C^V&(z^C))+D[3]+3250441966&4294967295,N=V+(F<<22&4294967295|F>>>10),F=C+(z^N&(V^z))+D[4]+4118548399&4294967295,C=N+(F<<7&4294967295|F>>>25),F=z+(V^C&(N^V))+D[5]+1200080426&4294967295,z=C+(F<<12&4294967295|F>>>20),F=V+(N^z&(C^N))+D[6]+2821735955&4294967295,V=z+(F<<17&4294967295|F>>>15),F=N+(C^V&(z^C))+D[7]+4249261313&4294967295,N=V+(F<<22&4294967295|F>>>10),F=C+(z^N&(V^z))+D[8]+1770035416&4294967295,C=N+(F<<7&4294967295|F>>>25),F=z+(V^C&(N^V))+D[9]+2336552879&4294967295,z=C+(F<<12&4294967295|F>>>20),F=V+(N^z&(C^N))+D[10]+4294925233&4294967295,V=z+(F<<17&4294967295|F>>>15),F=N+(C^V&(z^C))+D[11]+2304563134&4294967295,N=V+(F<<22&4294967295|F>>>10),F=C+(z^N&(V^z))+D[12]+1804603682&4294967295,C=N+(F<<7&4294967295|F>>>25),F=z+(V^C&(N^V))+D[13]+4254626195&4294967295,z=C+(F<<12&4294967295|F>>>20),F=V+(N^z&(C^N))+D[14]+2792965006&4294967295,V=z+(F<<17&4294967295|F>>>15),F=N+(C^V&(z^C))+D[15]+1236535329&4294967295,N=V+(F<<22&4294967295|F>>>10),F=C+(V^z&(N^V))+D[1]+4129170786&4294967295,C=N+(F<<5&4294967295|F>>>27),F=z+(N^V&(C^N))+D[6]+3225465664&4294967295,z=C+(F<<9&4294967295|F>>>23),F=V+(C^N&(z^C))+D[11]+643717713&4294967295,V=z+(F<<14&4294967295|F>>>18),F=N+(z^C&(V^z))+D[0]+3921069994&4294967295,N=V+(F<<20&4294967295|F>>>12),F=C+(V^z&(N^V))+D[5]+3593408605&4294967295,C=N+(F<<5&4294967295|F>>>27),F=z+(N^V&(C^N))+D[10]+38016083&4294967295,z=C+(F<<9&4294967295|F>>>23),F=V+(C^N&(z^C))+D[15]+3634488961&4294967295,V=z+(F<<14&4294967295|F>>>18),F=N+(z^C&(V^z))+D[4]+3889429448&4294967295,N=V+(F<<20&4294967295|F>>>12),F=C+(V^z&(N^V))+D[9]+568446438&4294967295,C=N+(F<<5&4294967295|F>>>27),F=z+(N^V&(C^N))+D[14]+3275163606&4294967295,z=C+(F<<9&4294967295|F>>>23),F=V+(C^N&(z^C))+D[3]+4107603335&4294967295,V=z+(F<<14&4294967295|F>>>18),F=N+(z^C&(V^z))+D[8]+1163531501&4294967295,N=V+(F<<20&4294967295|F>>>12),F=C+(V^z&(N^V))+D[13]+2850285829&4294967295,C=N+(F<<5&4294967295|F>>>27),F=z+(N^V&(C^N))+D[2]+4243563512&4294967295,z=C+(F<<9&4294967295|F>>>23),F=V+(C^N&(z^C))+D[7]+1735328473&4294967295,V=z+(F<<14&4294967295|F>>>18),F=N+(z^C&(V^z))+D[12]+2368359562&4294967295,N=V+(F<<20&4294967295|F>>>12),F=C+(N^V^z)+D[5]+4294588738&4294967295,C=N+(F<<4&4294967295|F>>>28),F=z+(C^N^V)+D[8]+2272392833&4294967295,z=C+(F<<11&4294967295|F>>>21),F=V+(z^C^N)+D[11]+1839030562&4294967295,V=z+(F<<16&4294967295|F>>>16),F=N+(V^z^C)+D[14]+4259657740&4294967295,N=V+(F<<23&4294967295|F>>>9),F=C+(N^V^z)+D[1]+2763975236&4294967295,C=N+(F<<4&4294967295|F>>>28),F=z+(C^N^V)+D[4]+1272893353&4294967295,z=C+(F<<11&4294967295|F>>>21),F=V+(z^C^N)+D[7]+4139469664&4294967295,V=z+(F<<16&4294967295|F>>>16),F=N+(V^z^C)+D[10]+3200236656&4294967295,N=V+(F<<23&4294967295|F>>>9),F=C+(N^V^z)+D[13]+681279174&4294967295,C=N+(F<<4&4294967295|F>>>28),F=z+(C^N^V)+D[0]+3936430074&4294967295,z=C+(F<<11&4294967295|F>>>21),F=V+(z^C^N)+D[3]+3572445317&4294967295,V=z+(F<<16&4294967295|F>>>16),F=N+(V^z^C)+D[6]+76029189&4294967295,N=V+(F<<23&4294967295|F>>>9),F=C+(N^V^z)+D[9]+3654602809&4294967295,C=N+(F<<4&4294967295|F>>>28),F=z+(C^N^V)+D[12]+3873151461&4294967295,z=C+(F<<11&4294967295|F>>>21),F=V+(z^C^N)+D[15]+530742520&4294967295,V=z+(F<<16&4294967295|F>>>16),F=N+(V^z^C)+D[2]+3299628645&4294967295,N=V+(F<<23&4294967295|F>>>9),F=C+(V^(N|~z))+D[0]+4096336452&4294967295,C=N+(F<<6&4294967295|F>>>26),F=z+(N^(C|~V))+D[7]+1126891415&4294967295,z=C+(F<<10&4294967295|F>>>22),F=V+(C^(z|~N))+D[14]+2878612391&4294967295,V=z+(F<<15&4294967295|F>>>17),F=N+(z^(V|~C))+D[5]+4237533241&4294967295,N=V+(F<<21&4294967295|F>>>11),F=C+(V^(N|~z))+D[12]+1700485571&4294967295,C=N+(F<<6&4294967295|F>>>26),F=z+(N^(C|~V))+D[3]+2399980690&4294967295,z=C+(F<<10&4294967295|F>>>22),F=V+(C^(z|~N))+D[10]+4293915773&4294967295,V=z+(F<<15&4294967295|F>>>17),F=N+(z^(V|~C))+D[1]+2240044497&4294967295,N=V+(F<<21&4294967295|F>>>11),F=C+(V^(N|~z))+D[8]+1873313359&4294967295,C=N+(F<<6&4294967295|F>>>26),F=z+(N^(C|~V))+D[15]+4264355552&4294967295,z=C+(F<<10&4294967295|F>>>22),F=V+(C^(z|~N))+D[6]+2734768916&4294967295,V=z+(F<<15&4294967295|F>>>17),F=N+(z^(V|~C))+D[13]+1309151649&4294967295,N=V+(F<<21&4294967295|F>>>11),F=C+(V^(N|~z))+D[4]+4149444226&4294967295,C=N+(F<<6&4294967295|F>>>26),F=z+(N^(C|~V))+D[11]+3174756917&4294967295,z=C+(F<<10&4294967295|F>>>22),F=V+(C^(z|~N))+D[2]+718787259&4294967295,V=z+(F<<15&4294967295|F>>>17),F=N+(z^(V|~C))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var N=C-this.blockSize,D=this.B,V=this.h,z=0;z<C;){if(V==0)for(;z<=N;)i(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<C;)if(D[V++]=R.charCodeAt(z++),V==this.blockSize){i(this,D),V=0;break}}else for(;z<C;)if(D[V++]=R[z++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var N=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=N&255,N/=256;for(this.u(R),R=Array(16),C=N=0;4>C;++C)for(var D=0;32>D;D+=8)R[N++]=this.g[C]>>>D&255;return R};function s(R,C){var N=u;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function a(R,C){this.h=C;for(var N=[],D=!0,V=R.length-1;0<=V;V--){var z=R[V]|0;D&&z==C||(N[V]=z,D=!1)}this.g=N}var u={};function c(R){return-128<=R&&128>R?s(R,function(C){return new a([C|0],0>C?-1:0)}):new a([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return M(f(-R));for(var C=[],N=1,D=0;R>=N;D++)C[D]=R/N|0,N*=4294967296;return new a(C,0)}function p(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return M(p(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(C,8)),D=g,V=0;V<R.length;V+=8){var z=Math.min(8,R.length-V),F=parseInt(R.substring(V,V+z),C);8>z?(z=f(Math.pow(C,z)),D=D.j(z).add(f(F))):(D=D.j(N),D=D.add(f(F)))}return D}var g=c(0),y=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(P(this))return-M(this).m();for(var R=0,C=1,N=0;N<this.g.length;N++){var D=this.i(N);R+=(0<=D?D:4294967296+D)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(P(this))return"-"+M(this).toString(R);for(var C=f(Math.pow(R,6)),N=this,D="";;){var V=H(N,C).g;N=S(N,V.j(C));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=V,x(N))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function P(R){return R.h==-1}t.l=function(R){return R=S(this,R),P(R)?-1:x(R)?0:1};function M(R){for(var C=R.g.length,N=[],D=0;D<C;D++)N[D]=~R.g[D];return new a(N,~R.h).add(y)}t.abs=function(){return P(this)?M(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],D=0,V=0;V<=C;V++){var z=D+(this.i(V)&65535)+(R.i(V)&65535),F=(z>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);D=F>>>16,z&=65535,F&=65535,N[V]=F<<16|z}return new a(N,N[N.length-1]&-2147483648?-1:0)};function S(R,C){return R.add(M(C))}t.j=function(R){if(x(this)||x(R))return g;if(P(this))return P(R)?M(this).j(M(R)):M(M(this).j(R));if(P(R))return M(this.j(M(R)));if(0>this.l(v)&&0>R.l(v))return f(this.m()*R.m());for(var C=this.g.length+R.g.length,N=[],D=0;D<2*C;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<R.g.length;V++){var z=this.i(D)>>>16,F=this.i(D)&65535,me=R.i(V)>>>16,ge=R.i(V)&65535;N[2*D+2*V]+=F*ge,A(N,2*D+2*V),N[2*D+2*V+1]+=z*ge,A(N,2*D+2*V+1),N[2*D+2*V+1]+=F*me,A(N,2*D+2*V+1),N[2*D+2*V+2]+=z*me,A(N,2*D+2*V+2)}for(D=0;D<C;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=C;D<2*C;D++)N[D]=0;return new a(N,0)};function A(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function k(R,C){this.g=R,this.h=C}function H(R,C){if(x(C))throw Error("division by zero");if(x(R))return new k(g,g);if(P(R))return C=H(M(R),C),new k(M(C.g),M(C.h));if(P(C))return C=H(R,M(C)),new k(M(C.g),C.h);if(30<R.g.length){if(P(R)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var N=y,D=C;0>=D.l(R);)N=W(N),D=W(D);var V=U(N,1),z=U(D,1);for(D=U(D,2),N=U(N,2);!x(D);){var F=z.add(D);0>=F.l(R)&&(V=V.add(N),z=F),D=U(D,1),N=U(N,1)}return C=S(R,V.j(C)),new k(V,C)}for(V=g;0<=R.l(C);){for(N=Math.max(1,Math.floor(R.m()/C.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=f(N),F=z.j(C);P(F)||0<F.l(R);)N-=D,z=f(N),F=z.j(C);x(z)&&(z=y),V=V.add(z),R=S(R,F)}return new k(V,R)}t.A=function(R){return H(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],D=0;D<C;D++)N[D]=this.i(D)&R.i(D);return new a(N,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],D=0;D<C;D++)N[D]=this.i(D)|R.i(D);return new a(N,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],D=0;D<C;D++)N[D]=this.i(D)^R.i(D);return new a(N,this.h^R.h)};function W(R){for(var C=R.g.length+1,N=[],D=0;D<C;D++)N[D]=R.i(D)<<1|R.i(D-1)>>>31;return new a(N,R.h)}function U(R,C){var N=C>>5;C%=32;for(var D=R.g.length-N,V=[],z=0;z<D;z++)V[z]=0<C?R.i(z+N)>>>C|R.i(z+N+1)<<32-C:R.i(z+N);return new a(V,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,oo=a}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dI,Xl,fI,qh,fg,pI,mI,gI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,E){return h==Array.prototype||h==Object.prototype||(h[_]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var E=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var q=h[b];if(!(q in E))break e;E=E[q]}h=h[h.length-1],b=E[h],_=_(b),_!=b&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var E=0,b=!1,q={next:function(){if(!b&&E<h.length){var Q=E++;return{value:_(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),h.apply(_,q)}}return function(){return h.apply(_,arguments)}}function y(h,_,E){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function x(h,_){function E(){}E.prototype=_.prototype,h.aa=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(b,q,Q){for(var se=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)se[Ge-2]=arguments[Ge];return _.prototype[q].apply(b,se)}}function P(h){const _=h.length;if(0<_){const E=Array(_);for(let b=0;b<_;b++)E[b]=h[b];return E}return[]}function M(h,_){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(c(b)){const q=h.length||0,Q=b.length||0;h.length=q+Q;for(let se=0;se<Q;se++)h[q+se]=b[se]}else h.push(b)}}class S{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(h){return/^[\s\xa0]*$/.test(h)}function k(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var W=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(h,_,E){for(const b in h)_.call(E,h[b],b,h)}function R(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function C(h){const _={};for(const E in h)_[E]=h[E];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,_){let E,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(E in b)h[E]=b[E];for(let Q=0;Q<N.length;Q++)E=N[Q],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function V(h){var _=1;h=h.split(":");const E=[];for(;0<_&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function z(h){u.setTimeout(()=>{throw h},0)}function F(){var h=ue;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class me{constructor(){this.h=this.g=null}add(_,E){const b=ge.get();b.set(_,E),this.h?this.h.next=b:this.g=b,this.h=b}}var ge=new S(()=>new Oe,h=>h.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,K=!1,ue=new me,O=()=>{const h=u.Promise.resolve(void 0);oe=()=>{h.then(fe)}};var fe=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(E){z(E)}var _=ge;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}K=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h}();function Se(h,_){if(j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(W){e:{try{H(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement);this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Se.aa.h.call(this)}}x(Se,j);var he={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),At=0;function ar(h,_,E,b,q){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!b,this.ha=q,this.key=++At,this.da=this.fa=!1}function sn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function An(h){this.src=h,this.g={},this.h=0}An.prototype.add=function(h,_,E,b,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var se=Zr(h,_,b,q);return-1<se?(_=h[se],E||(_.fa=!1)):(_=new ar(_,this.src,Q,!!b,q),_.fa=E,h.push(_)),_};function lr(h,_){var E=_.type;if(E in h.g){var b=h.g[E],q=Array.prototype.indexOf.call(b,_,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(b,q,1),Q&&(sn(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Zr(h,_,E,b){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==b)return q}return-1}var Ls="closure_lm_"+(1e6*Math.random()|0),Qr={};function bi(h,_,E,b,q){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)bi(h,_[Q],E,b,q);return null}return E=bo(E),h&&h[nt]?h.K(_,E,f(b)?!!b.capture:!1,q):Ri(h,_,E,!1,b,q)}function Ri(h,_,E,b,q,Q){if(!_)throw Error("Invalid event type");var se=f(q)?!!q.capture:!!q,Ge=Oi(h);if(Ge||(h[Ls]=Ge=new An(h)),E=Ge.add(_,E,b,se,Q),E.proxy)return E;if(b=Ni(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)be||(q=se),q===void 0&&(q=!1),h.addEventListener(_.toString(),b,q);else if(h.attachEvent)h.attachEvent(Li(_.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ni(){function h(E){return _.call(h.src,h.listener,E)}const _=Ao;return h}function Os(h,_,E,b,q){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Os(h,_[Q],E,b,q);else b=f(b)?!!b.capture:!!b,E=bo(E),h&&h[nt]?(h=h.i,_=String(_).toString(),_ in h.g&&(Q=h.g[_],E=Zr(Q,E,b,q),-1<E&&(sn(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete h.g[_],h.h--)))):h&&(h=Oi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Zr(_,E,b,q)),(E=-1<h?_[h]:null)&&Jr(E))}function Jr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[nt])lr(_.i,h);else{var E=h.type,b=h.proxy;_.removeEventListener?_.removeEventListener(E,b,h.capture):_.detachEvent?_.detachEvent(Li(E),b):_.addListener&&_.removeListener&&_.removeListener(b),(E=Oi(_))?(lr(E,h),E.h==0&&(E.src=null,_[Ls]=null)):sn(h)}}}function Li(h){return h in Qr?Qr[h]:Qr[h]="on"+h}function Ao(h,_){if(h.da)h=!0;else{_=new Se(_,this);var E=h.listener,b=h.ha||h.src;h.fa&&Jr(h),h=E.call(b,_)}return h}function Oi(h){return h=h[Ls],h instanceof An?h:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(h){return typeof h=="function"?h:(h[Ms]||(h[Ms]=function(_){return h.handleEvent(_)}),h[Ms])}function J(){ye.call(this),this.i=new An(this),this.M=this,this.F=null}x(J,ye),J.prototype[nt]=!0,J.prototype.removeEventListener=function(h,_,E,b){Os(this,h,_,E,b)};function ne(h,_){var E,b=h.F;if(b)for(E=[];b;b=b.F)E.push(b);if(h=h.M,b=_.type||_,typeof _=="string")_=new j(_,h);else if(_ instanceof j)_.target=_.target||h;else{var q=_;_=new j(b,h),D(_,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var se=_.g=E[Q];q=ve(se,b,!0,_)&&q}if(se=_.g=h,q=ve(se,b,!0,_)&&q,q=ve(se,b,!1,_)&&q,E)for(Q=0;Q<E.length;Q++)se=_.g=E[Q],q=ve(se,b,!1,_)&&q}J.prototype.N=function(){if(J.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var E=h.g[_],b=0;b<E.length;b++)sn(E[b]);delete h.g[_],h.h--}}this.F=null},J.prototype.K=function(h,_,E,b){return this.i.add(String(h),_,!1,E,b)},J.prototype.L=function(h,_,E,b){return this.i.add(String(h),_,!0,E,b)};function ve(h,_,E,b){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,Q=0;Q<_.length;++Q){var se=_[Q];if(se&&!se.da&&se.capture==E){var Ge=se.listener,Tt=se.ha||se.src;se.fa&&lr(h.i,se),q=Ge.call(Tt,b)!==!1&&q}}return q&&!b.defaultPrevented}function Le(h,_,E){if(typeof h=="function")E&&(h=y(h,E));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(h,_||0)}function He(h){h.g=Le(()=>{h.g=null,h.i&&(h.i=!1,He(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Gt extends ye{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function on(h){ye.call(this),this.h=h,this.g={}}x(on,ye);var an=[];function Hn(h){U(h.g,function(_,E){this.g.hasOwnProperty(E)&&Jr(_)},h),h.g={}}on.prototype.N=function(){on.aa.N.call(this),Hn(this)},on.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=u.JSON.stringify,Ft=u.JSON.parse,mn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ln(){}ln.prototype.h=null;function xc(h){return h.h||(h.h=h.i())}function ol(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ro(){j.call(this,"d")}x(Ro,j);function al(){j.call(this,"c")}x(al,j);var Yr={},Sc=null;function No(){return Sc=Sc||new J}Yr.La="serverreachability";function Ic(h){j.call(this,Yr.La,h)}x(Ic,j);function Ds(h){const _=No();ne(_,new Ic(_))}Yr.STAT_EVENT="statevent";function Lo(h,_){j.call(this,Yr.STAT_EVENT,h),this.stat=_}x(Lo,j);function zt(h){const _=No();ne(_,new Lo(_,h))}Yr.Ma="timingevent";function Pc(h,_){j.call(this,Yr.Ma,h),this.size=_}x(Pc,j);function Vs(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Fs(){this.g=!0}Fs.prototype.xa=function(){this.g=!1};function qn(h,_,E,b,q,Q){h.info(function(){if(h.g)if(Q)for(var se="",Ge=Q.split("&"),Tt=0;Tt<Ge.length;Tt++){var Ue=Ge[Tt].split("=");if(1<Ue.length){var Je=Ue[0];Ue=Ue[1];var ct=Je.split("_");se=2<=ct.length&&ct[1]=="type"?se+(Je+"="+Ue+"&"):se+(Je+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+_+`
`+E+`
`+se})}function pe(h,_,E,b,q,Q,se){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+_+`
`+E+`
`+Q+" "+se})}function Xr(h,_,E,b){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+kc(h,E)+(b?" "+b:"")})}function Cc(h,_){h.info(function(){return"TIMEOUT: "+_})}Fs.prototype.info=function(){};function kc(h,_){if(!h.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var b=E[h];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return $n(E)}catch{return _}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mo;function ur(){}x(ur,ln),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},Mo=new ur;function cr(h,_,E,b){this.j=h,this.i=_,this.l=E,this.R=b||1,this.U=new on(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ac}function Ac(){this.i=null,this.g="",this.h=!1}var bc={},ll={};function ul(h,_,E){h.L=1,h.v=Gn(mt(_)),h.m=E,h.P=!0,cl(h,null)}function cl(h,_){h.F=Date.now(),Vo(h),h.A=mt(h.v);var E=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),Lc(E.i,"t",b),h.C=0,E=h.j.J,h.h=new Ac,h.g=jc(h.j,E?_:null,!h.m),0<h.O&&(h.M=new Gt(y(h.Y,h,h.g),h.O)),_=h.U,E=h.g,b=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(an[0]=q.toString()),q=an);for(var Q=0;Q<q.length;Q++){var se=bi(E,q[Q],b||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Ds(),qn(h.i,h.u,h.A,h.l,h.R,h.m)}cr.prototype.ca=function(h){h=h.target;const _=this.M;_&&un(h)==3?_.j():this.Y(h)},cr.prototype.Y=function(h){try{if(h==this.g)e:{const ct=un(this.g);var _=this.g.Ba();const Bi=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Pl(this.g)))){this.J||ct!=4||_==7||(_==8||0>=Bi?Ds(3):Ds(2)),hl(this);var E=this.g.Z();this.X=E;t:if(Rc(this)){var b=Pl(this.g);h="";var q=b.length,Q=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),js(this);var se="";break t}this.h.i=new u.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,h+=this.h.i.decode(b[_],{stream:!(Q&&_==q-1)});b.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,pe(this.i,this.u,this.A,this.l,this.R,ct,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Tt=this.g;if((Ge=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ge)){var Ue=Ge;break t}}Ue=null}if(E=Ue)Xr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,E);else{this.o=!1,this.s=3,zt(12),ei(this),js(this);break e}}if(this.P){E=!0;let yt;for(;!this.J&&this.C<se.length;)if(yt=Do(this,se),yt==ll){ct==4&&(this.s=4,zt(14),E=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==bc){this.s=4,zt(15),Xr(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else Xr(this.i,this.l,yt,null),Us(this,yt);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||se.length!=0||this.h.h||(this.s=1,zt(16),E=!1),this.o=this.o&&E,!E)Xr(this.i,this.l,se,"[Invalid Chunked Response]"),ei(this),js(this);else if(0<se.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Wo(Je),Je.M=!0,zt(11))}}else Xr(this.i,this.l,se,null),Us(this,se);ct==4&&ei(this),this.o&&!this.J&&(ct==4?kl(this.j,this):(this.o=!1,Vo(this)))}else Gf(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),ei(this),js(this)}}}catch{}finally{}};function Rc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Do(h,_){var E=h.C,b=_.indexOf(`
`,E);return b==-1?ll:(E=Number(_.substring(E,b)),isNaN(E)?bc:(b+=1,b+E>_.length?ll:(_=_.slice(b,b+E),h.C=b+E,_)))}cr.prototype.cancel=function(){this.J=!0,ei(this)};function Vo(h){h.S=Date.now()+h.I,Nc(h,h.I)}function Nc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Vs(y(h.ba,h),_)}function hl(h){h.B&&(u.clearTimeout(h.B),h.B=null)}cr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(Ds(),zt(17)),ei(this),this.s=2,js(this)):Nc(this,this.S-h)};function js(h){h.j.G==0||h.J||kl(h.j,h)}function ei(h){hl(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Hn(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Us(h,_){try{var E=h.j;if(E.G!=0&&(E.g==h||Fe(E.h,h))){if(!h.K&&Fe(E.h,h)&&E.G==3){try{var b=E.Da.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Ko(E),$o(E);else break e;qo(E),zt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Vs(y(E.Za,E),6e3));if(1>=Di(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else si(E,11)}else if((h.K||E.g==h)&&Ko(E),!A(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let Ue=q[_];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const Je=Ue[3];Je!=null&&(E.la=Je,E.j.info("VER="+E.la));const ct=Ue[4];ct!=null&&(E.Aa=ct,E.j.info("SVER="+E.Aa));const Bi=Ue[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(b=1.5*Bi,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const yt=h.g;if(yt){const Qo=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var Q=b.h;Q.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ye(Q,Q.h),Q.h=null))}if(b.D){const Cr=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cr&&(b.ya=Cr,Ie(b.I,b.D,Cr))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var se=h;if(b.qa=Zo(b,b.J?b.ia:null,b.W),se.K){Hs(b.h,se);var Ge=se,Tt=b.L;Tt&&(Ge.I=Tt),Ge.B&&(hl(Ge),Vo(Ge)),b.g=se}else fr(b);0<E.i.length&&Ui(E)}else Ue[0]!="stop"&&Ue[0]!="close"||si(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?si(E,7):Ho(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Ds(4)}catch{}}var Bs=class{constructor(h,_){this.g=h,this.map=_}};function dl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Fe(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ye(h,_){h.g?h.g.add(_):h.h=_}function Hs(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}dl.prototype.cancel=function(){if(this.i=ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ti(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.D);return _}return P(h.i)}function Vi(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var _=[],E=h.length,b=0;b<E;b++)_.push(h[b]);return _}_=[],E=0;for(b in h)_[E++]=h[b];return _}function pl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var _=[];h=h.length;for(var E=0;E<h;E++)_.push(E);return _}_=[],E=0;for(const b in h)_[E++]=b;return _}}}function Ae(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var E=pl(h),b=Vi(h),q=b.length,Q=0;Q<q;Q++)_.call(void 0,b[Q],E&&E[Q],h)}var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(h,_){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var b=h[E].indexOf("="),q=null;if(0<=b){var Q=h[E].substring(0,b);q=h[E].substring(b+1)}else Q=h[E];_(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Wn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wn){this.h=h.h,Fo(this,h.j),this.o=h.o,this.g=h.g,ni(this,h.s),this.l=h.l;var _=h.i,E=new ri;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ir(this,E),this.m=h.m}else h&&(_=String(h).match(ot))?(this.h=!1,Fo(this,_[1]||"",!0),this.o=hr(_[2]||""),this.g=hr(_[3]||"",!0),ni(this,_[4]),this.l=hr(_[5]||"",!0),Ir(this,_[6]||"",!0),this.m=hr(_[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Wn.prototype.toString=function(){var h=[],_=this.j;_&&h.push(dr(_,Fi,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(dr(_,Fi,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(dr(E,E.charAt(0)=="/"?yl:_l,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",dr(E,vl)),h.join("")};function mt(h){return new Wn(h)}function Fo(h,_,E){h.j=E?hr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ni(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Ir(h,_,E){_ instanceof ri?(h.i=_,Kn(h.i,h.h)):(E||(_=dr(_,zo)),h.i=new ri(_,h.h))}function Ie(h,_,E){h.i.set(_,E)}function Gn(h){return Ie(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function hr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function dr(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,gl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fi=/[#\/\?@]/g,_l=/[#\?:]/g,yl=/[#\?]/g,zo=/[#\?@]/g,vl=/#/g;function ri(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&ml(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=ri.prototype,t.add=function(h,_){bn(this),this.i=null,h=we(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function wl(h,_){bn(h),_=we(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function jo(h,_){return bn(h),_=we(h,_),h.g.has(_)}t.forEach=function(h,_){bn(this),this.g.forEach(function(E,b){E.forEach(function(q){h.call(_,q,b,this)},this)},this)},t.na=function(){bn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let b=0;b<_.length;b++){const q=h[b];for(let Q=0;Q<q.length;Q++)E.push(_[b])}return E},t.V=function(h){bn(this);let _=[];if(typeof h=="string")jo(this,h)&&(_=_.concat(this.g.get(we(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)_=_.concat(h[E])}return _},t.set=function(h,_){return bn(this),this.i=null,h=we(this,h),jo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Lc(h,_,E){wl(h,_),0<E.length&&(h.i=null,h.g.set(we(h,_),P(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var b=_[E];const Q=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var q=Q;se[b]!==""&&(q+="="+encodeURIComponent(String(se[b]))),h.push(q)}}return this.i=h.join("&")};function we(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Kn(h,_){_&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,b){var q=b.toLowerCase();b!=q&&(wl(this,b),Lc(this,q,E))},h)),h.j=_}function Qe(h,_){const E=new Fs;if(u.Image){const b=new Image;b.onload=v(Zn,E,"TestLoadImage: loaded",!0,_,b),b.onerror=v(Zn,E,"TestLoadImage: error",!1,_,b),b.onabort=v(Zn,E,"TestLoadImage: abort",!1,_,b),b.ontimeout=v(Zn,E,"TestLoadImage: timeout",!1,_,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else _(!1)}function Oc(h,_){const E=new Fs,b=new AbortController,q=setTimeout(()=>{b.abort(),Zn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?Zn(E,"TestPingServer: ok",!0,_):Zn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Zn(E,"TestPingServer: error",!1,_)})}function Zn(h,_,E,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(E)}catch{}}function El(){this.g=new mn}function Tl(h,_,E){const b=E||"";try{Ae(h,function(q,Q){let se=q;f(q)&&(se=$n(q)),_.push(b+Q+"="+encodeURIComponent(se))})}catch(q){throw _.push(b+"type="+encodeURIComponent("_badmap")),q}}function Qn(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Qn,ln),Qn.prototype.g=function(){return new zi(this.l,this.j)},Qn.prototype.i=function(h){return function(){return h}}({});function zi(h,_){J.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(zi,J),t=zi.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Rn(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ut(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ji(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ji(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ut(this):Rn(this),this.readyState==3&&ji(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ut(this))},t.Qa=function(h){this.g&&(this.response=h,ut(this))},t.ga=function(){this.g&&ut(this)};function ut(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Rn(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Rn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xl(h){let _="";return U(h,function(E,b){_+=b,_+=":",_+=E,_+=`\r
`}),_}function Uo(h,_,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=xl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ie(h,_,E))}function at(h){J.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(at,J);var Mc=/^https?$/i,Sl=["POST","PUT"];t=at.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mo.g(),this.v=this.o?xc(this.o):xc(Mo),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){Dc(this,Q);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)E.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())E.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Sl,_,void 0))||b||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of E)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Dc(this,Q)}};function Dc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Il(h),Bo(h)}function Il(h){h.A||(h.A=!0,ne(h,"complete"),ne(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ne(this,"complete"),ne(this,"abort"),Bo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bo(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?De(this):this.bb())},t.bb=function(){De(this)};function De(h){if(h.h&&typeof a<"u"&&(!h.v[1]||un(h)!=4||h.Z()!=2)){if(h.u&&un(h)==4)Le(h.Ea,0,h);else if(ne(h,"readystatechange"),un(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var b;if(b=se===0){var q=String(h.D).match(ot)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),b=!Mc.test(q?q.toLowerCase():"")}E=b}if(E)ne(h,"complete"),ne(h,"success");else{h.m=6;try{var Q=2<un(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Il(h)}}finally{Bo(h)}}}}function Bo(h,_){if(h.g){gn(h);const E=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||ne(h,"ready");try{E.onreadystatechange=b}catch{}}}function gn(h){h.I&&(u.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function un(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ft(_)}};function Pl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(h){const _={};h=(h.g&&2<=un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(A(h[b]))continue;var E=V(h[b]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[q]||[];_[q]=Q,Q.push(E)}R(_,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Vc(h){this.Aa=0,this.i=[],this.j=new Fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,h),this.cb=ii("retryDelaySeedMs",1e4,h),this.Wa=ii("forwardChannelMaxRetries",2,h),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new dl(h&&h.concurrentRequestLimit),this.Da=new El,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vc.prototype,t.la=8,t.G=1,t.connect=function(h,_,E,b){zt(0),this.W=h,this.H=_||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=Zo(this,null,this.W),Ui(this)};function Ho(h){if(Fc(h),h.G==3){var _=h.U++,E=mt(h.I);if(Ie(E,"SID",h.K),Ie(E,"RID",_),Ie(E,"TYPE","terminate"),$s(h,E),_=new cr(h,h.j,_),_.L=2,_.v=Gn(mt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=jc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Vo(_)}zc(h)}function $o(h){h.g&&(Wo(h),h.g.cancel(),h.g=null)}function Fc(h){$o(h),h.u&&(u.clearTimeout(h.u),h.u=null),Ko(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Ui(h){if(!fl(h.h)&&!h.s){h.s=!0;var _=h.Ga;oe||O(),K||(oe(),K=!0),ue.add(_,h),h.B=0}}function Kf(h,_){return Di(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Vs(y(h.Ga,h,_),Al(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new cr(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=C(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Cl(this,q,_),E=mt(this.I),Ie(E,"RID",h),Ie(E,"CVER",22),this.D&&Ie(E,"X-HTTP-Session-Id",this.D),$s(this,E),Q&&(this.O?_="headers="+encodeURIComponent(String(xl(Q)))+"&"+_:this.m&&Uo(E,this.m,Q)),Ye(this.h,q),this.Ua&&Ie(E,"TYPE","init"),this.P?(Ie(E,"$req",_),Ie(E,"SID","null"),q.T=!0,ul(q,E,null)):ul(q,E,_),this.G=2}}else this.G==3&&(h?Nn(this,h):this.i.length==0||fl(this.h)||Nn(this))};function Nn(h,_){var E;_?E=_.l:E=h.U++;const b=mt(h.I);Ie(b,"SID",h.K),Ie(b,"RID",E),Ie(b,"AID",h.T),$s(h,b),h.m&&h.o&&Uo(b,h.m,h.o),E=new cr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Cl(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ye(h.h,E),ul(E,b,_)}function $s(h,_){h.H&&U(h.H,function(E,b){Ie(_,b,E)}),h.l&&Ae({},function(E,b){Ie(_,b,E)})}function Cl(h,_,E){E=Math.min(h.i.length,E);var b=h.l?y(h.l.Na,h.l,h):null;e:{var q=h.i;let Q=-1;for(;;){const se=["count="+E];Q==-1?0<E?(Q=q[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let Ge=!0;for(let Tt=0;Tt<E;Tt++){let Ue=q[Tt].g;const Je=q[Tt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,q[Tt].g-100),Ge=!1;else try{Tl(Je,se,"req"+Ue+"_")}catch{b&&b(Je)}}if(Ge){b=se.join("&");break e}}}return h=h.i.splice(0,E),_.D=h,b}function fr(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;oe||O(),K||(oe(),K=!0),ue.add(_,h),h.v=0}}function qo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Vs(y(h.Fa,h),Al(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Vs(y(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),$o(this),Go(this))};function Wo(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Go(h){h.g=new cr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=mt(h.qa);Ie(_,"RID","rpc"),Ie(_,"SID",h.K),Ie(_,"AID",h.T),Ie(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ie(_,"TO",h.ja),Ie(_,"TYPE","xmlhttp"),$s(h,_),h.m&&h.o&&Uo(_,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Gn(mt(_)),E.m=null,E.P=!0,cl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,$o(this),qo(this),zt(19))};function Ko(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function kl(h,_){var E=null;if(h.g==_){Ko(h),Wo(h),h.g=null;var b=2}else if(Fe(h.h,_))E=_.D,Hs(h.h,_),b=1;else return;if(h.G!=0){if(_.o)if(b==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=h.B;b=No(),ne(b,new Pc(b,E)),Ui(h)}else fr(h);else if(q=_.s,q==3||q==0&&0<_.X||!(b==1&&Kf(h,_)||b==2&&qo(h)))switch(E&&0<E.length&&(_=h.h,_.i=_.i.concat(E)),q){case 1:si(h,5);break;case 4:si(h,10);break;case 3:si(h,6);break;default:si(h,2)}}}function Al(h,_){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*_}function si(h,_){if(h.j.info("Error code "+_),_==2){var E=y(h.fb,h),b=h.Xa;const q=!b;b=new Wn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fo(b,"https"),Gn(b),q?Qe(b.toString(),E):Oc(b.toString(),E)}else zt(2);h.G=0,h.l&&h.l.sa(_),zc(h),Fc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function zc(h){if(h.G=0,h.ka=[],h.l){const _=ti(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ka,_),M(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function Zo(h,_,E){var b=E instanceof Wn?mt(E):new Wn(E);if(b.g!="")_&&(b.g=_+"."+b.g),ni(b,b.s);else{var q=u.location;b=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var Q=new Wn(null);b&&Fo(Q,b),_&&(Q.g=_),q&&ni(Q,q),E&&(Q.l=E),b=Q}return E=h.D,_=h.ya,E&&_&&Ie(b,E,_),Ie(b,"VER",h.la),$s(h,b),b}function jc(h,_,E){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new at(new Qn({eb:E})):new at(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bl(){}t=bl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qs(){}qs.prototype.g=function(h,_){return new Lt(h,_)};function Lt(h,_){J.call(this),this.g=new Vc(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!A(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Jn(this)}x(Lt,J),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ho(this.g)},Lt.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=$n(h),h=E);_.i.push(new Bs(_.Ya++,h)),_.G==3&&Ui(_)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,Lt.aa.N.call(this)};function Pr(h){Ro.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}x(Pr,Ro);function Uc(){al.call(this),this.status=1}x(Uc,al);function Jn(h){this.g=h}x(Jn,bl),Jn.prototype.ua=function(){ne(this.g,"a")},Jn.prototype.ta=function(h){ne(this.g,new Pr(h))},Jn.prototype.sa=function(h){ne(this.g,new Uc)},Jn.prototype.ra=function(){ne(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,gI=function(){return new qs},mI=function(){return No()},pI=Yr,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,qh=zs,Oo.COMPLETE="complete",fI=Oo,ol.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",J.prototype.listen=J.prototype.K,Xl=ol,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,dI=at}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new M_("@firebase/firestore");function $l(){return _o.logLevel}function de(t,...e){if(_o.logLevel<=je.DEBUG){const n=e.map(Q_);_o.debug(`Firestore (${el}): ${t}`,...n)}}function Ci(t,...e){if(_o.logLevel<=je.ERROR){const n=e.map(Q_);_o.error(`Firestore (${el}): ${t}`,...n)}}function za(t,...e){if(_o.logLevel<=je.WARN){const n=e.map(Q_);_o.warn(`Firestore (${el}): ${t}`,...n)}}function Q_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function Ze(t,e){t||Pe()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uD{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new _I(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Jt(e)}}class cD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,de("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new dD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Nt(0,0))}static max(){return new Ce(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends qu{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const mD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends qu{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return mD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function gD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Es(i,_e.empty(),e)}function _D(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(Ce.min(),_e.empty(),-1)}static max(){return new Es(Ce.max(),_e.empty(),-1)}}function yD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==vD)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(p=>{a[f]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ED(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}J_.oe=-1;function Af(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function TD(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new $t(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wI("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=xD.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function X_(t){const e=t.mapValue.fields.__previous_value__;return Y_(e)?X_(e):e}function Wu(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,r,i,s,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class Gu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh={mapValue:{}};function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y_(t)?4:PD(t)?9007199254740991:ID(t)?10:11:Pe()}function $r(t,e){if(t===e)return!0;const n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ts(i.timestampValue),u=Ts(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yo(i.bytesValue).isEqual(yo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vt(i.geoPointValue.latitude)===vt(s.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vt(i.integerValue)===vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=vt(i.doubleValue),u=vt(s.doubleValue);return a===u?Dd(a)===Dd(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(R0(a)!==R0(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!$r(a[c],u[c])))return!1;return!0}(t,e);default:return Pe()}}function Ku(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=vo(t),r=vo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=vt(s.integerValue||s.doubleValue),c=vt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return L0(t.timestampValue,e.timestampValue);case 4:return L0(Wu(t),Wu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,a){const u=yo(s),c=yo(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=qe(u[f],c[f]);if(p!==0)return p}return qe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=qe(vt(s.latitude),vt(a.latitude));return u!==0?u:qe(vt(s.longitude),vt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O0(t.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,f,p;const g=s.fields||{},y=a.fields||{},v=(u=g.value)===null||u===void 0?void 0:u.arrayValue,x=(c=y.value)===null||c===void 0?void 0:c.arrayValue,P=qe(((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:O0(v,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===vh.mapValue&&a===vh.mapValue)return 0;if(s===vh.mapValue)return 1;if(a===vh.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=a.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=qe(c[g],p[g]);if(y!==0)return y;const v=Ua(u[c[g]],f[p[g]]);if(v!==0)return v}return qe(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function L0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ts(t),r=Ts(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function O0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ua(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function Ba(t){return pg(t)}function pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${pg(n.fields[a])}`;return i+"}"}(t.mapValue):Pe()}function M0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mg(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function D0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function ID(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=fu(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(fu(this.value))}}function EI(t){const e=[];return Io(t.fields,(n,r)=>{const i=new Bt([n]);if(Wh(r)){const s=EI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Xt(e,0,Ce.min(),Ce.min(),Ce.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ce.min(),Ce.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ce.min(),Ce.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.position=e,this.inclusive=n}}function F0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(a.referenceValue),n.key):r=Ua(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function CD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{}class Ct extends TI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AD(e,n,r):n==="array-contains"?new ND(e,r):n==="in"?new LD(e,r):n==="not-in"?new OD(e,r):n==="array-contains-any"?new MD(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bD(e,r):new RD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ua(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends TI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xr(e,n)}matches(e){return xI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xI(t){return t.op==="and"}function SI(t){return kD(t)&&xI(t)}function kD(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function gg(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(SI(t))return t.filters.map(e=>gg(e)).join(",");{const e=t.filters.map(n=>gg(n)).join(",");return`${t.op}(${e})`}}function II(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&II(a,i.filters[u]),!0):!1}(t,e):void Pe()}function PI(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(PI).join(" ,")+"}"}(t):"Filter"}class AD extends Ct{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class bD extends Ct{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RD extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class ND extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ey(n)&&Ku(n.arrayValue,this.value)}}class LD extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class OD extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ku(this.value.arrayValue,n)}}class MD extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function j0(t,e=null,n=[],r=[],i=null,s=null,a=null){return new DD(t,e,n,r,i,s,a)}function ty(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.ue=n}return e.ue}function ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!II(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function _g(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VD(t,e,n,r,i,s,a,u){return new mc(t,e,n,r,i,s,a,u)}function ry(t){return new mc(t)}function U0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kI(t){return t.collectionGroup!==null}function pu(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new $t(Bt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fd(s,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Fd(Bt.keyField(),r))}return e.ce}function Ur(t){const e=ke(t);return e.le||(e.le=FD(e,pu(t))),e.le}function FD(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fd(i.field,s)});const n=t.endAt?new Vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vd(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yg(t,e){const n=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return ny(Ur(t),Ur(e))&&t.limitType===e.limitType}function AI(t){return`${ty(Ur(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PI(i)).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of pu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const f=F0(a,u,c);return a.inclusive?f<=0:f<0}(r.startAt,pu(r),i)||r.endAt&&!function(a,u,c){const f=F0(a,u,c);return a.inclusive?f>=0:f>0}(r.endAt,pu(r),i))}(t,e)}function zD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bI(t){return(e,n)=>{let r=!1;for(const i of pu(t)){const s=jD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jD(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),f=u.data.field(s);return c!==null&&f!==null?Ua(c,f):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new pt(_e.comparator);function ki(){return UD}const RI=new pt(_e.comparator);function eu(...t){let e=RI;for(const n of t)e=e.insert(n.key,n);return e}function NI(t){let e=RI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return mu()}function LI(){return mu()}function mu(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const BD=new pt(_e.comparator),HD=new $t(_e.comparator);function ze(...t){let e=HD;for(const n of t)e=e.add(n);return e}const $D=new $t(qe);function qD(){return $D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function OI(t){return{integerValue:""+t}}function WD(t,e){return TD(e)?OI(e):iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function GD(t,e,n){return t instanceof zd?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Y_(s)&&(s=X_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Zu?DI(t,e):t instanceof Qu?VI(t,e):function(i,s){const a=MI(i,s),u=B0(a)+B0(i.Pe);return mg(a)&&mg(i.Pe)?OI(u):iy(i.serializer,u)}(t,e)}function KD(t,e,n){return t instanceof Zu?DI(t,e):t instanceof Qu?VI(t,e):n}function MI(t,e){return t instanceof jd?function(r){return mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zd extends Nf{}class Zu extends Nf{constructor(e){super(),this.elements=e}}function DI(t,e){const n=FI(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends Nf{constructor(e){super(),this.elements=e}}function VI(t,e){let n=FI(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class jd extends Nf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function B0(t){return vt(t.integerValue||t.doubleValue)}function FI(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zu&&i instanceof Zu||r instanceof Qu&&i instanceof Qu?ja(r.elements,i.elements,$r):r instanceof jd&&i instanceof jd?$r(r.Pe,i.Pe):r instanceof zd&&i instanceof zd}(t.transform,e.transform)}class QD{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new UI(t.key,Br.none()):new gc(t.key,t.data,Br.none());{const n=t.data,r=wn.empty();let i=new $t(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new bs(t.key,r,new Dn(i.toArray()),Br.none())}}function JD(t,e,n){t instanceof gc?function(i,s,a){const u=i.value.clone(),c=$0(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,s,a){if(!Gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=$0(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(jI(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof gc?function(s,a,u,c){if(!Gh(s.precondition,a))return u;const f=s.value.clone(),p=q0(s.fieldTransforms,c,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(s,a,u,c){if(!Gh(s.precondition,a))return u;const f=q0(s.fieldTransforms,c,a),p=a.data;return p.setAll(jI(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return Gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function YD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MI(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function H0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ja(r,i,(s,a)=>ZD(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gc extends Lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends Lf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $0(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,KD(a,u,n[i]))}return r}function q0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,GD(s,a,e))}return r}class UI extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XD extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LI();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=zI(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>H0(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>H0(n,r))}}class sy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return BD}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new sy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function r4(t){switch(t){default:return Pe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function BI(t){if(t===void 0)return Ci("GRPC error has no .code"),X.UNKNOWN;switch(t){case St.OK:return X.OK;case St.CANCELLED:return X.CANCELLED;case St.UNKNOWN:return X.UNKNOWN;case St.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case St.INTERNAL:return X.INTERNAL;case St.UNAVAILABLE:return X.UNAVAILABLE;case St.UNAUTHENTICATED:return X.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case St.NOT_FOUND:return X.NOT_FOUND;case St.ALREADY_EXISTS:return X.ALREADY_EXISTS;case St.PERMISSION_DENIED:return X.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case St.ABORTED:return X.ABORTED;case St.OUT_OF_RANGE:return X.OUT_OF_RANGE;case St.UNIMPLEMENTED:return X.UNIMPLEMENTED;case St.DATA_LOSS:return X.DATA_LOSS;default:return Pe()}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new oo([4294967295,4294967295],0);function W0(t){const e=i4().encode(t),n=new hI;return n.update(e),new Uint8Array(n.digest())}function G0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oo([n,r],0),new oo([i,s],0)]}class oy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=oo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(oo.fromNumber(r)));return i.compare(s4)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=W0(e),[r,i]=G0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new oy(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=W0(e),[r,i]=G0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Of(Ce.min(),i,new pt(qe),ki(),ze())}}class _c{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _c(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class HI{constructor(e,n){this.targetId=e,this.me=n}}class $I{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class K0{constructor(){this.fe=0,this.ge=Q0(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new _c(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Q0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class o4{constructor(e){this.Le=e,this.Be=new Map,this.ke=ki(),this.qe=Z0(),this.Qe=new pt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_g(s))if(r===0){const a=new _e(s.path);this.Ue(n,a,Xt.newNoDocument(a,Ce.min()))}else Ze(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=yo(r).toUint8Array()}catch(c){if(c instanceof wI)return za("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new oy(a,i,s)}catch(c){return za(c instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&_g(u.target)){const c=new _e(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Xt.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=ze();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Of(e,n,this.Qe,this.ke,r);return this.ke=ki(),this.qe=Z0(),this.Qe=new pt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new K0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new K0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z0(){return new pt(_e.comparator)}function Q0(){return new pt(_e.comparator)}const a4={asc:"ASCENDING",desc:"DESCENDING"},l4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u4={and:"AND",or:"OR"};class c4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wg(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h4(t,e){return Ud(t,e.toTimestamp())}function Hr(t){return Ze(!!t),Ce.fromTimestamp(function(n){const r=Ts(n);return new Nt(r.seconds,r.nanos)}(t))}function ay(t,e){return Eg(t,e).canonicalString()}function Eg(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WI(t){const e=it.fromString(t);return Ze(JI(e)),e}function Tg(t,e){return ay(t.databaseId,e.path)}function Vp(t,e){const n=WI(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(KI(n))}function GI(t,e){return ay(t.databaseId,e)}function d4(t){const e=WI(t);return e.length===4?it.emptyPath():KI(e)}function xg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KI(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function J0(t,e,n){return{name:Tg(t,e),fields:n.value.mapValue.fields}}function f4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(Ze(p===void 0||typeof p=="string"),Wt.fromBase64String(p||"")):(Ze(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Wt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const p=f.code===void 0?X.UNKNOWN:BI(f.code);return new ce(p,f.message||"")}(a);n=new $I(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vp(t,r.document.name),s=Hr(r.document.updateTime),a=r.document.createTime?Hr(r.document.createTime):Ce.min(),u=new wn({mapValue:{fields:r.document.fields}}),c=Xt.newFoundDocument(i,s,a,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new Kh(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vp(t,r.document),s=r.readTime?Hr(r.readTime):Ce.min(),a=Xt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Kh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vp(t,r.document),s=r.removedTargetIds||[];n=new Kh([],s,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new n4(i,s),u=r.targetId;n=new HI(u,a)}}return n}function p4(t,e){let n;if(e instanceof gc)n={update:J0(t,e.key,e.value)};else if(e instanceof UI)n={delete:Tg(t,e.key)};else if(e instanceof bs)n={update:J0(t,e.key,e.data),updateMask:x4(e.fieldMask)};else{if(!(e instanceof XD))return Pe();n={verify:Tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof zd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Zu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Qu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof jd)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe()}(t,e.precondition)),n}function m4(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Hr(i.updateTime):Hr(s);return a.isEqual(Ce.min())&&(a=Hr(s)),new QD(a,i.transformResults||[])}(n,e))):[]}function g4(t,e){return{documents:[GI(t,e.path)]}}function _4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GI(t,i);const s=function(f){if(f.length!==0)return QI(xr.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:ia(y.field),direction:w4(y.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=wg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function y4(t){let e=d4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const y=ZI(g);return y instanceof xr&&SI(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(x){return new Fd(sa(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Af(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(g){const y=!!g.before,v=g.values||[];return new Vd(v,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,v=g.values||[];return new Vd(v,y)}(n.endAt)),VD(e,i,a,s,u,"F",c,f)}function v4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sa(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sa(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sa(n.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=sa(n.unaryFilter.field);return Ct.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(sa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>ZI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function w4(t){return a4[t]}function E4(t){return l4[t]}function T4(t){return u4[t]}function ia(t){return{fieldPath:t.canonicalString()}}function sa(t){return Bt.fromServerFormat(t.fieldPath)}function QI(t){return t instanceof Ct?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:E4(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>QI(i));return r.length===1?r[0]:{compositeFilter:{op:T4(n.op),filters:r}}}(t):Pe()}function x4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,s=Ce.min(),a=Ce.min(),u=Wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.ct=e}}function I4(t){const e=y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.un=new C4}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Es.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class C4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,Dn.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=eu();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=ki();const a=mu(),u=function(){return mu()}();return n.forEach((c,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof bs)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),gu(p.mutation,f,p.mutation.getFieldMask(),Nt.now())):a.set(f.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var g;return u.set(f,new A4(p,(g=a.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=mu();let i=new pt((a,u)=>a-u),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let p=r.get(c)||Dn.empty();p=u.applyToLocalView(f,p),r.set(c,p);const g=(i.get(u.batchId)||ze()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,g=LI();p.forEach(y=>{if(!s.has(y)){const v=zI(n.get(y),r.get(y));v!==null&&g.set(y,v),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(no());let u=-1,c=s;return a.next(f=>te.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?te.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,ze())).next(p=>({batchId:u,changes:NI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=eu();return this.indexManager.getCollectionParents(e,s).next(u=>te.forEach(u,c=>{const f=function(g,y){return new mc(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,Xt.newInvalidDocument(p)))});let u=eu();return a.forEach((c,f)=>{const p=s.get(c);p!==void 0&&gu(p.mutation,f,Dn.empty(),Nt.now()),Rf(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:I4(i.bundledQuery),readTime:Hr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.overlays=new pt(_e.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=no(),s=n.length+1,a=new _e(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=no(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=no(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return te.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new t4(n,r));let s=this.Ir.get(n);s===void 0&&(s=ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Tr=new $t(Mt.Er),this.dr=new $t(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new _e(new it([])),r=new Mt(n,e),i=new Mt(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new it([])),r=new Mt(n,e),i=new Mt(n,e+1);let s=ze();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $t(Mt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new e4(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new Mt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const u=this.Dr(a.wr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(qe);return n.forEach(i=>{const s=new Mt(i,0),a=new Mt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const a=new Mt(new _e(s),0);let u=new $t(qe);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},a),te.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const s=new Mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Mt(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.Mr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ki();const a=n.path,u=new _e(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||yD(_D(p),r)<=0||(i.has(p.key)||Rf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Pe()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D4(this)}getSize(e){return te.resolve(this.size)}}class D4 extends k4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.persistence=e,this.Nr=new tl(n=>ty(n),ny),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ly,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new J_(0),this.Kr=!1,this.Kr=!0,this.$r=new L4,this.referenceDelegate=e(this),this.Ur=new V4(this),this.indexManager=new P4,this.remoteDocumentCache=function(i){return new M4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new S4(n),this.Gr=new R4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new z4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class z4 extends wD{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Jr=new ly,this.Yr=null}static Zr(e){return new uy(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=_e.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return UR()?8:ED(nn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new j4;return this.Xi(e,n,a).next(u=>{if(s.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($l()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):($l()<=je.DEBUG&&de("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($l()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):te.resolve())}Yi(e,n){if(U0(n))return te.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ze(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,u);return this.ns(n,f,a,c.readTime)?this.Yi(e,vg(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return U0(n)||i.isEqual(Ce.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?te.resolve(null):($l()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.rs(e,a,n,gD(i,-1)).next(u=>u))})}ts(e,n){let r=new $t(bI(e));return n.forEach((i,s)=>{Rf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return $l()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ra(n)),this.Ji.getDocumentsMatchingQuery(e,n,Es.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt(qe),this._s=new tl(s=>ty(s),ny),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function H4(t,e,n,r){return new B4(t,e,n,r)}async function YI(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=ze();for(const f of i){a.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function $4(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,p){const g=f.batch,y=g.keys();let v=te.resolve();return y.forEach(x=>{v=v.next(()=>p.getEntry(c,x)).next(P=>{const M=f.docVersions.get(x);Ze(M!==null),P.version.compareTo(M)<0&&(g.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),p.addEntry(P)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XI(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function q4(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Wt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(g,v),function(P,M,S){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,v,p)&&u.push(n.Ur.updateTargetData(s,v))});let c=ki(),f=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(W4(s,a,e.documentUpdates).next(p=>{c=p.Ps,f=p.Is})),!r.isEqual(Ce.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return te.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.os=i,s))}function W4(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ki();return n.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ce.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):de("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function G4(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K4(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new is(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sg(t,e,n){const r=ke(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!pc(a))throw a;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Y0(t,e,n){const r=ke(t);let i=Ce.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,p){const g=ke(c),y=g._s.get(p);return y!==void 0?te.resolve(g.os.get(y)):g.Ur.getTargetData(f,p)}(r,a,Ur(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ce.min(),n?s:ze())).next(u=>(Z4(r,zD(e),u),{documents:u,Ts:s})))}function Z4(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class X0{constructor(){this.activeTargetIds=qD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q4{constructor(){this.so=new X0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new X0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function Fp(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class eV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const u=Fp(),c=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,c,f,i).then(p=>(de("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw za("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(n,r,i,s,a,u){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=Y4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Fp();return new Promise((a,u)=>{const c=new dI;c.setWithCredentials(!0),c.listenOnce(fI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qh.NO_ERROR:const p=c.getResponseJson();de(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case qh.TIMEOUT:de(Qt,`RPC '${e}' ${s} timed out`),u(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const g=c.getStatus();if(de(Qt,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y==null?void 0:y.error;if(v&&v.status&&v.message){const x=function(M){const S=M.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(S)>=0?S:X.UNKNOWN}(v.status);u(new ce(x,v.message))}else u(new ce(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{de(Qt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);de(Qt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=Fp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gI(),u=mI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");de(Qt,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);let y=!1,v=!1;const x=new X4({Io:M=>{v?de(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(de(Qt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),de(Qt,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),P=(M,S,A)=>{M.listen(S,k=>{try{A(k)}catch(H){setTimeout(()=>{throw H},0)}})};return P(g,Xl.EventType.OPEN,()=>{v||(de(Qt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),P(g,Xl.EventType.CLOSE,()=>{v||(v=!0,de(Qt,`RPC '${e}' stream ${i} transport closed`),x.So())}),P(g,Xl.EventType.ERROR,M=>{v||(v=!0,za(Qt,`RPC '${e}' stream ${i} transport errored:`,M),x.So(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),P(g,Xl.EventType.MESSAGE,M=>{var S;if(!v){const A=M.data[0];Ze(!!A);const k=A,H=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(H){de(Qt,`RPC '${e}' stream ${i} received error:`,H);const W=H.status;let U=function(N){const D=St[N];if(D!==void 0)return BI(D)}(W),R=H.message;U===void 0&&(U=X.INTERNAL,R="Unknown error status: "+W+" with message "+H.message),v=!0,x.So(new ce(U,R)),g.close()}else de(Qt,`RPC '${e}' stream ${i} received:`,A),x.bo(A)}}),P(u,pI.STAT_EVENT,M=>{M.stat===fg.PROXY?de(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===fg.NOPROXY&&de(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){return new c4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tV extends tP{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=f4(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Hr(a.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xg(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=_g(c)?{documents:g4(s,c)}:{query:_4(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=qI(s,a.resumeToken);const f=wg(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ce.min())>0){u.readTime=Ud(s,a.snapshotVersion.toTimestamp());const f=wg(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=v4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xg(this.serializer),n.removeTarget=e,this.a_(n)}}class nV extends tP{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=m4(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Eg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(X.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,Eg(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ci(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Po(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=ke(c);f.L_.add(4),await yc(f),f.q_.set("Unknown"),f.L_.delete(4),await Df(f)}(this))})}),this.q_=new iV(r,i)}}async function Df(t){if(Po(t))for(const e of t.B_)await e(!0)}async function yc(t){for(const e of t.B_)await e(!1)}function nP(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),py(n)?fy(n):nl(n).r_()&&dy(n,e))}function hy(t,e){const n=ke(t),r=nl(n);n.N_.delete(e),r.r_()&&rP(n,e),n.N_.size===0&&(r.r_()?r.o_():Po(n)&&n.q_.set("Unknown"))}function dy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).A_(e)}function rP(t,e){t.Q_.xe(e),nl(t).R_(e)}function fy(t){t.Q_=new o4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.q_.v_()}function py(t){return Po(t)&&!nl(t).n_()&&t.N_.size>0}function Po(t){return ke(t).L_.size===0}function iP(t){t.Q_=void 0}async function oV(t){t.q_.set("Online")}async function aV(t){t.N_.forEach((e,n)=>{dy(t,e)})}async function lV(t,e){iP(t),py(t)?(t.q_.M_(e),fy(t)):t.q_.set("Unknown")}async function uV(t,e,n){if(t.q_.set("Online"),e instanceof $I&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bd(t,r)}else if(e instanceof Kh?t.Q_.Ke(e):e instanceof HI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await XI(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,f)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(Wt.EMPTY_BYTE_STRING,p.snapshotVersion)),rP(s,c);const g=new is(p.target,c,f,p.sequenceNumber);dy(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Bd(t,r)}}async function Bd(t,e,n){if(!pc(e))throw e;t.L_.add(1),await yc(t),t.q_.set("Offline"),n||(n=()=>XI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Df(t)})}function sP(t,e){return e().catch(n=>Bd(t,n,e))}async function Vf(t){const e=ke(t),n=xs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cV(e);)try{const i=await G4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hV(e,i)}catch(i){await Bd(e,i)}oP(e)&&aP(e)}function cV(t){return Po(t)&&t.O_.length<10}function hV(t,e){t.O_.push(e);const n=xs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oP(t){return Po(t)&&!xs(t).n_()&&t.O_.length>0}function aP(t){xs(t).start()}async function dV(t){xs(t).p_()}async function fV(t){const e=xs(t);for(const n of t.O_)e.m_(n.mutations)}async function pV(t,e,n){const r=t.O_.shift(),i=sy.from(r,e,n);await sP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vf(t)}async function mV(t,e){e&&xs(t).V_&&await async function(r,i){if(function(a){return r4(a)&&a!==X.ABORTED}(i.code)){const s=r.O_.shift();xs(r).s_(),await sP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vf(r)}}(t,e),oP(t)&&aP(t)}async function tE(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Po(n);n.L_.add(3),await yc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Df(n)}async function gV(t,e){const n=ke(t);e?(n.L_.delete(2),await Df(n)):e||(n.L_.add(2),await yc(n),n.q_.set("Unknown"))}function nl(t){return t.K_||(t.K_=function(n,r,i){const s=ke(n);return s.w_(),new tV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oV.bind(null,t),Ro:aV.bind(null,t),mo:lV.bind(null,t),d_:uV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),py(t)?fy(t):t.q_.set("Unknown")):(await t.K_.stop(),iP(t))})),t.K_}function xs(t){return t.U_||(t.U_=function(n,r,i){const s=ke(n);return s.w_(),new nV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dV.bind(null,t),mo:mV.bind(null,t),f_:fV.bind(null,t),g_:pV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vf(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new my(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),pc(t))return new ce(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.W_=new pt(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $a{constructor(e,n,r,i,s,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new $a(e,n,ka.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yV{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ke(n),s=i.queries;i.queries=rE(),s.forEach((a,u)=>{for(const c of u.j_)c.onError(r)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function rE(){return new tl(t=>AI(t),bf)}async function lP(t,e){const n=ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _V,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=gy(a,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&_y(n)}async function uP(t,e){const n=ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vV(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&_y(n)}function wV(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function _y(t){t.Y_.forEach(e=>{e.next()})}var Ig,iE;(iE=Ig||(Ig={})).ea="default",iE.Cache="cache";class cP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.key=e}}class dP{constructor(e){this.key=e}}class EV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=bI(e),this.Ra=new ka(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new nE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),v=Rf(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let M=!1;y&&v?y.data.isEqual(v.data)?x!==P&&(r.track({type:3,doc:v}),M=!0):this.ga(y,v)||(r.track({type:2,doc:v}),M=!0,(c&&this.Aa(v,c)>0||f&&this.Aa(v,f)<0)&&(u=!0)):!y&&v?(r.track({type:0,doc:v}),M=!0):y&&!v&&(r.track({type:1,doc:y}),M=!0,(c||f)&&(u=!0)),M&&(v?(a=a.add(v),s=P?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,g)=>function(v,x){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return P(v)-P(x)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new $a(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class TV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xV{constructor(e){this.key=e,this.va=!1}}class SV{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new tl(u=>AI(u),bf),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(_e.comparator),this.Na=new Map,this.La=new ly,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IV(t,e,n=!0){const r=yP(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await fP(r,e,n,!0),i}async function PV(t,e){const n=yP(t);await fP(n,e,!0,!1)}async function fP(t,e,n,r){const i=await K4(t.localStore,Ur(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await CV(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&nP(t.remoteStore,i),u}async function CV(t,e,n,r,i){t.Ka=(g,y,v)=>async function(P,M,S,A){let k=M.view.ma(S);k.ns&&(k=await Y0(P.localStore,M.query,!1).then(({documents:R})=>M.view.ma(R,k)));const H=A&&A.targetChanges.get(M.targetId),W=A&&A.targetMismatches.get(M.targetId)!=null,U=M.view.applyChanges(k,P.isPrimaryClient,H,W);return oE(P,M.targetId,U.wa),U.snapshot}(t,g,y,v);const s=await Y0(t.localStore,e,!0),a=new EV(e,s.Ts),u=a.ma(s.documents),c=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);oE(t,n,f.wa);const p=new TV(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function kV(t,e,n){const r=ke(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!bf(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hy(r.remoteStore,i.targetId),Pg(r,i.targetId)}).catch(fc)):(Pg(r,i.targetId),await Sg(r.localStore,i.targetId,!0))}async function AV(t,e){const n=ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hy(n.remoteStore,r.targetId))}async function bV(t,e,n){const r=VV(t);try{const i=await function(a,u){const c=ke(a),f=Nt.now(),p=u.reduce((v,x)=>v.add(x.key),ze());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=ki(),P=ze();return c.cs.getEntries(v,p).next(M=>{x=M,x.forEach((S,A)=>{A.isValidDocument()||(P=P.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(M=>{g=M;const S=[];for(const A of u){const k=YD(A,g.get(A.key).overlayedDocument);k!=null&&S.push(new bs(A.key,k,EI(k.value.mapValue),Br.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,S,u)}).next(M=>{y=M;const S=M.applyToLocalDocumentSet(g,P);return c.documentOverlayCache.saveOverlays(v,M.batchId,S)})}).then(()=>({batchId:y.batchId,changes:NI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new pt(qe)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,n),await vc(r,i.changes),await Vf(r.remoteStore)}catch(i){const s=gy(i,"Failed to persist write");n.reject(s)}}async function pP(t,e){const n=ke(t);try{const r=await q4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ze(a.va):i.removedDocuments.size>0&&(Ze(a.va),a.va=!1))}),await vc(n,r,e)}catch(r){await fc(r)}}function sE(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=ke(a);c.onlineState=u;let f=!1;c.queries.forEach((p,g)=>{for(const y of g.j_)y.Z_(u)&&(f=!0)}),f&&_y(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RV(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new pt(_e.comparator);a=a.insert(s,Xt.newNoDocument(s,Ce.min()));const u=ze().add(s),c=new Of(Ce.min(),new Map,new pt(qe),a,u);await pP(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),yy(r)}else await Sg(r.localStore,e,!1).then(()=>Pg(r,e,n)).catch(fc)}async function NV(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await $4(n.localStore,e);gP(n,r,null),mP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await fc(i)}}async function LV(t,e,n){const r=ke(t);try{const i=await function(a,u){const c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next(g=>(Ze(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(r.localStore,e);gP(r,e,n),mP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await fc(i)}}function mP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gP(t,e,n){const r=ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_P(t,r)})}function _P(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yy(t))}function oE(t,e,n){for(const r of n)r instanceof hP?(t.La.addReference(r.key,e),OV(t,r)):r instanceof dP?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_P(t,r.key)):Pe()}function OV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),yy(t))}function yy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(it.fromString(e)),r=t.qa.next();t.Na.set(r,new xV(n)),t.Oa=t.Oa.insert(n,r),nP(t.remoteStore,new is(Ur(ry(n.path)),r,"TargetPurposeLimboResolution",J_.oe))}}async function vc(t,e,n){const r=ke(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{a.push(r.Ka(c,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){i.push(f);const g=cy.Wi(c.targetId,f);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,f){const p=ke(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(f,y=>te.forEach(y.$i,v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v)).next(()=>te.forEach(y.Ui,v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))}catch(g){if(!pc(g))throw g;de("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const v=p.os.get(y),x=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(y,P)}}}(r.localStore,s))}async function MV(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await YI(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new ce(X.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.hs)}}function DV(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const u=n.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function yP(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RV.bind(null,e),e.Ca.d_=vV.bind(null,e.eventManager),e.Ca.$a=wV.bind(null,e.eventManager),e}function VV(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LV.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return H4(this.persistence,new U4,e.initialUser,this.serializer)}Ga(e){return new F4(uy.Zr,this.serializer)}Wa(e){return new Q4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class Cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MV.bind(null,this.syncEngine),await gV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yV}()}createDatastore(e){const n=Mf(e.databaseInfo.databaseId),r=function(s){return new eV(s)}(e.databaseInfo);return function(s,a,u,c){return new rV(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new sV(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return eE.D()?new eE:new J4}())}createSyncEngine(e,n){return function(i,s,a,u,c,f,p){const g=new SV(i,s,a,u,c,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ke(i);de("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=yI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{de("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(de("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jp(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zV(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tE(e.remoteStore,i)),t._onlineComponents=e}async function zV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await jp(t,new Hd)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await jp(t,new Hd);return t._offlineComponents}async function wP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await aE(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await aE(t,new Cg))),t._onlineComponents}function jV(t){return wP(t).then(e=>e.syncEngine)}async function kg(t){const e=await wP(t),n=e.eventManager;return n.onListen=IV.bind(null,e.syncEngine),n.onUnlisten=kV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AV.bind(null,e.syncEngine),n}function UV(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const p=new vP({next:y=>{p.Za(),a.enqueueAndForget(()=>uP(s,g)),y.fromCache&&c.source==="server"?f.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new cP(u,p,{includeMetadataChanges:!0,_a:!0});return lP(s,g)}(await kg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BV(t,e,n,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uE(t){if(!_e.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cE(t){if(_e.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(t);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aD;switch(r.type){case"firstParty":return new hD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lE.get(n);r&&(de("ComponentProvider","Removing Datastore"),lE.delete(n),r.terminate())}(this),Promise.resolve()}}function HV(t,e,n,r={}){var i;const s=(t=wi(t,zf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Jt.MOCK_USER;else{u=QS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Jt(f)}t._authCredentials=new lD(new _I(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class _s extends Co{constructor(e,n,r){super(e,n,ry(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new _e(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function rl(t,e,...n){if(t=kt(t),TP("collection","path",e),t instanceof zf){const r=it.fromString(e,...n);return cE(r),new _s(t,null,r)}{if(!(t instanceof Pn||t instanceof _s))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return cE(r),new _s(t.firestore,null,r)}}function vy(t,e,...n){if(t=kt(t),arguments.length===1&&(e=yI.newId()),TP("doc","path",e),t instanceof zf){const r=it.fromString(e,...n);return uE(r),new Pn(t,null,new _e(r))}{if(!(t instanceof Pn||t instanceof _s))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return uE(r),new Pn(t.firestore,t instanceof _s?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eP(this,"async_queue_retry"),this.Vu=()=>{const r=zp();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pc(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=my.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function fE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends zf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function $V(t,e){const n=typeof t=="object"?t:V_(),r=typeof t=="string"?t:"(default)",i=vf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GS("firestore");s&&HV(i,...s)}return i}function wy(t){if(t._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qV(t),t._firestoreClient}function qV(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,f,p){return new SD(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,EP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FV(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(Wt.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wa(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^__.*__$/;class GV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gc(e,this.data,n,this.fieldTransforms)}}class xP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Sy{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $d(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SP(this.Cu)&&WV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class KV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mf(e)}Qu(e,n,r,i=!1){return new Sy({Cu:e,methodName:n,qu:r,path:Bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(t){const e=t._freezeSettings(),n=Mf(t._databaseId);return new KV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZV(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",a,r);const u=IP(r,a);let c,f;if(s.merge)c=new Dn(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Ag(e,g,n);if(!a.contains(y))throw new ce(X.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);CP(p,y)||p.push(y)}c=new Dn(p),f=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=a.fieldTransforms;return new GV(new wn(u),c,f)}class Uf extends Ey{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function QV(t,e,n,r){const i=t.Qu(1,e,n);Py("Data must be an object, but it was:",i,r);const s=[],a=wn.empty();Io(r,(c,f)=>{const p=Cy(e,c,n);f=kt(f);const g=i.Nu(p);if(f instanceof Uf)s.push(p);else{const y=wc(f,g);y!=null&&(s.push(p),a.set(p,y))}});const u=new Dn(s);return new xP(a,u,i.fieldTransforms)}function JV(t,e,n,r,i,s){const a=t.Qu(1,e,n),u=[Ag(e,r,n)],c=[i];if(s.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Ag(e,s[y])),c.push(s[y+1]);const f=[],p=wn.empty();for(let y=u.length-1;y>=0;--y)if(!CP(f,u[y])){const v=u[y];let x=c[y];x=kt(x);const P=a.Nu(v);if(x instanceof Uf)f.push(v);else{const M=wc(x,P);M!=null&&(f.push(v),p.set(v,M))}}const g=new Dn(f);return new xP(p,g,a.fieldTransforms)}function YV(t,e,n,r=!1){return wc(n,t.Qu(r?4:3,e))}function wc(t,e){if(PP(t=kt(t)))return Py("Unsupported field value:",e,t),IP(t,e);if(t instanceof Ey)return function(r,i){if(!SP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=wc(u,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:Ud(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,s)}}if(r instanceof Ty)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wa)return{bytesValue:qI(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ay(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xy)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return iy(u.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ff(r)}`)}(t,e)}function IP(t,e){const n={};return vI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,i)=>{const s=wc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function PP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Ty||t instanceof Wa||t instanceof Pn||t instanceof Ey||t instanceof xy)}function Py(t,e,n){if(!PP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ff(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ag(t,e,n){if((e=kt(e))instanceof jf)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const XV=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(XV)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jf(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ce(X.INVALID_ARGUMENT,u+t+c)}function CP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eF extends kP{data(){return super.data()}}function ky(t,e){return typeof e=="string"?Cy(t,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class tF extends Ay{}function bP(t,e,...n){let r=[];e instanceof Ay&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof by).length,u=s.filter(c=>c instanceof Bf).length;if(a>1||a>0&&u>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bf extends tF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return RP(e._query,n),new Co(e.firestore,e.converter,yg(e._query,n))}_parse(e){const n=Iy(e.firestore);return function(s,a,u,c,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mE(g,p);const v=[];for(const x of g)v.push(pE(c,s,x));y={arrayValue:{values:v}}}else y=pE(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mE(g,p),y=YV(u,a,g,p==="in"||p==="not-in");return Ct.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nF(t,e,n){const r=e,i=ky("where",t);return Bf._create(i,r,n)}class by extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new by(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)RP(a,c),a=yg(a,c)}(e._query,n),new Co(e.firestore,e.converter,yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pE(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&n.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!_e.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M0(t,new _e(r))}if(n instanceof Pn)return M0(t,n._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function mE(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RP(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rF{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>vt(a.doubleValue));return new xy(s)}convertGeoPoint(e){return new Ty(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ze(JI(r));const i=new Gu(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NP extends kP{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zh extends NP{data(e={}){return super.data(e)}}class LP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zh(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Zh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Zh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:sF(u.type),doc:c,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class Ry extends rF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function OP(t){t=wi(t,Co);const e=wi(t.firestore,qa),n=wy(e),r=new Ry(e);return AP(t._query),UV(n,t._query).then(i=>new LP(e,r,t,i))}function qd(t,e,n,...r){t=wi(t,Pn);const i=wi(t.firestore,qa),s=Iy(i);let a;return a=typeof(e=kt(e))=="string"||e instanceof jf?JV(s,"updateDoc",t._key,e,n,r):QV(s,"updateDoc",t._key,e),MP(i,[a.toMutation(t._key,Br.exists(!0))])}function oF(t,e){const n=wi(t.firestore,qa),r=vy(t),i=iF(t.converter,e);return MP(n,[ZV(Iy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function Ny(t,...e){var n,r,i;t=kt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||fE(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fE(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,f,p;if(t instanceof Pn)f=wi(t.firestore,qa),p=ry(t._key.path),c={next:g=>{e[a]&&e[a](aF(f,t,g))},error:e[a+1],complete:e[a+2]};else{const g=wi(t,Co);f=wi(g.firestore,qa),p=g._query;const y=new Ry(f);c={next:v=>{e[a]&&e[a](new LP(f,y,g,v))},error:e[a+1],complete:e[a+2]},AP(t._query)}return function(y,v,x,P){const M=new vP(P),S=new cP(v,M,x);return y.asyncQueue.enqueueAndForget(async()=>lP(await kg(y),S)),()=>{M.Za(),y.asyncQueue.enqueueAndForget(async()=>uP(await kg(y),S))}}(wy(f),p,u,c)}function MP(t,e){return function(r,i){const s=new gs;return r.asyncQueue.enqueueAndForget(async()=>bV(await jV(r),i,s)),s.promise}(wy(t),e)}function aF(t,e,n){const r=n.docs.get(e._key),i=new Ry(t);return new NP(t,i,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){el=i})(xo),fo(new ws("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new qa(new uD(r.getProvider("auth-internal")),new fD(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(f.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Fr(b0,"4.7.3",e),Fr(b0,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebasestorage.googleapis.com",lF="storageBucket",uF=2*60*1e3,cF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Gr{constructor(e,n,r=0){super(Up(e),`Firebase Storage: ${n} (${Up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qr||(qr={}));function Up(t){return"storage/"+t}function hF(){const t="An unknown error occurred, please check the error payload for server response.";return new Kr(qr.UNKNOWN,t)}function dF(){return new Kr(qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fF(){return new Kr(qr.CANCELED,"User canceled the upload/download.")}function pF(t){return new Kr(qr.INVALID_URL,"Invalid URL '"+t+"'.")}function mF(t){return new Kr(qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gE(t){return new Kr(qr.INVALID_ARGUMENT,t)}function VP(){return new Kr(qr.APP_DELETED,"The Firebase app was deleted.")}function gF(t){return new Kr(qr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw mF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),x={bucket:1,path:3},P=n===DP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",S=new RegExp(`^https?://${P}/${i}/${M}`,"i"),k=[{regex:u,indices:c,postModify:s},{regex:v,indices:x,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<k.length;H++){const W=k[H],U=W.regex.exec(e);if(U){const R=U[W.indices.bucket];let C=U[W.indices.path];C||(C=""),r=new yr(R,C),W.postModify(r);break}}if(r==null)throw pF(e);return r}}class _F{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e,n){let r=1,i=null,s=null,a=!1,u=0;function c(){return u===2}let f=!1;function p(...M){f||(f=!0,e.apply(null,M))}function g(M){i=setTimeout(()=>{i=null,t(v,c())},M)}function y(){s&&clearTimeout(s)}function v(M,...S){if(f){y();return}if(M){y(),p.call(null,M,...S);return}if(c()||a){y(),p.call(null,M,...S);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,g(k)}let x=!1;function P(M){x||(x=!0,y(),!f&&(i!==null?(M||(u=2),clearTimeout(i),g(0)):M||(u=1)))}return g(0),s=setTimeout(()=>{a=!0,P(!0)},n),P}function vF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){return t!==void 0}function _E(t,e,n,r){if(r<e)throw gE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gE(`Invalid value for '${t}'. Expected ${n} or less.`)}function EF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wd||(Wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n,r,i,s,a,u,c,f,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,x)=>{this.resolve_=v,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Eh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===Wd.NO_ERROR,c=s.getStatus();if(!u||TF(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Wd.ABORT;r(!1,new Eh(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Eh(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());wF(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=hF();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?VP():fF();a(c)}else{const c=dF();a(c)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=yF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kF(t,e,n,r,i,s,a=!0){const u=EF(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return PF(f,e),SF(f,n),IF(f,s),CF(f,r),new xF(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gd(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bF(this._location.path)}get storage(){return this._service}get parent(){const e=AF(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new Gd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gF(e)}}function yE(t,e){const n=e==null?void 0:e[lF];return n==null?null:yr.makeFromBucketSpec(n,t)}function RF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:QS(i,t.app.options.projectId))}class NF{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uF,this._maxUploadRetryTime=cF,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=yE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=yE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _F(VP());{const a=kF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vE="@firebase/storage",wE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="storage";function LF(t=V_(),e){t=kt(t);const r=vf(t,FP).getImmediate({identifier:e}),i=GS("storage");return i&&OF(r,...i),r}function OF(t,e,n,r={}){RF(t,e,n,r)}function MF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NF(n,r,i,e,xo)}function DF(){fo(new ws(FP,MF,"PUBLIC").setMultipleInstances(!0)),Fr(vE,wE,""),Fr(vE,wE,"esm2017")}DF();const VF={apiKey:"AIzaSyADAy8ySvJsUP5diMyR9eIUgtPFimpydcA",authDomain:"sap-jdc.firebaseapp.com",projectId:"sap-jdc",storageBucket:"sap-jdc.firebasestorage.app",messagingSenderId:"1079234336489",appId:"1:1079234336489:web:2428621b62a393068ec278",measurementId:"G-PRWSK0TEFZ"},Ly=XS(VF),EE=Hu(Ly),Rs=$V(Ly);LF(Ly);const zP=async t=>{try{return(await OP(rl(Rs,t))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error(`Error fetching collection ${t}:`,e),e}},FF=async(t,e,n)=>{try{const r=vy(Rs,t,e);await qd(r,n)}catch(r){throw console.error(`Error updating document ${e} in ${t}:`,r),r}},Oy=async()=>{try{const t=[{id:"CHR"},{id:"HACCP"},{id:"Kezia"},{id:"Tabac"}];return console.log("Sectors data fetched:",t),t}catch(t){throw console.error("Error fetching sectors:",t),t}},zF=(t,e)=>{const n=bP(rl(Rs,t));return Ny(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));e(s)},i=>{console.error(`Error listening to collection ${t}:`,i),e([])})},jP=(t,e)=>{const n=rl(Rs,t);return Ny(n,i=>{const s=[],a=[];console.log(`[firebaseService] Received snapshot for sector ${t} with ${i.docs.length} docs.`),i.docs.forEach(u=>{var y;const c=u.data();console.log(`[firebaseService] Processing ticket ${u.id} in sector ${t}. Raw data:`,c),console.log("[firebaseService]   >> Does it have 'Adresse'?",c.hasOwnProperty("Adresse")),console.log("[firebaseService]   >> Value of 'Adresse':",c.Adresse);let f=c.statut;((y=c.demandeSAP)==null?void 0:y.toLowerCase().includes("demande de rma"))&&f!=="Demande de RMA"?(f="Demande de RMA",a.push(qd(u.ref,{statut:f})),console.log(`Updating ticket ${u.id} in sector ${t} to status: ${f} based on demandeSAP.`)):f||(f="en cours",a.push(qd(u.ref,{statut:f})),console.log(`Updating ticket ${u.id} in sector ${t} to default status: ${f} as it was missing.`)),s.push({id:u.id,...c,statut:f,secteur:t})}),e(s),a.length>0&&Promise.all(a).then(()=>console.log(`Finished background status updates for sector ${t}.`)).catch(u=>console.error(`Error during background status updates for sector ${t}:`,u))},i=>{console.error(`Error listening to tickets for sector ${t}:`,i),e([])})},Th=async(t,e,n)=>{try{const r=vy(Rs,t,e);await qd(r,n)}catch(r){throw console.error(`Error updating ticket ${e} in ${t}:`,r),r}},jF=async()=>{try{return await zP("Envoi")}catch(t){throw console.error("Error fetching envois:",t),t}},UF=async t=>{try{const e=rl(Rs,"geocodes"),n=bP(e,nF("address","==",t)),r=await OP(n);return r.empty?null:r.docs[0].data()}catch(e){return console.error("Error fetching geocode from Firestore:",e),null}},BF=async(t,e,n)=>{console.log(`Storing geocode for address: ${t} with coordinates: ${e}, ${n}`);try{const r=rl(Rs,"geocodes");await oF(r,{address:t,latitude:e,longitude:n,timestamp:new Date}),console.log(`Geocode successfully stored for address: ${t}`)}catch(r){console.error("Error storing geocode in Firestore:",r)}},bg=async()=>{try{return await zP("users")}catch(t){throw console.error("Error fetching users:",t),t}},HF=t=>{const e=rl(Rs,"Envoi");return Ny(e,r=>{t(r.size)},r=>{console.error("Error listening to envois count:",r),t(0)})},Bp="b93a76ecb4b0439dbfe9e64c3c6aff07",$F="https://api.opencagedata.com/geocode/v1/json",qF=t=>{const[e,n]=$.useState([]),[r,i]=$.useState(!1),[s,a]=$.useState(null),u=$.useRef([]),c=$.useRef(!1),f=$.useRef(null);return $.useEffect(()=>{if(console.log("[useGeoCoding] useEffect triggered. Input addresses:",t),t==null||!Array.isArray(t)){console.log("[useGeoCoding] Safeguard: Addresses is not a valid array:",t),(e.length>0||r||s)&&(console.log("[useGeoCoding] Resetting state due to invalid addresses."),n([]),i(!1),a(null)),u.current=[],c.current=!1,f.current&&clearTimeout(f.current);return}const p=t.length!==u.current.length||t.some((g,y)=>g!==u.current[y]);if(!p&&c.current){console.log("[useGeoCoding] Addresses have not changed since last successful processing, skipping.");return}return console.log(`[useGeoCoding] Addresses changed or initial run. Changed: ${p}, InitialFetchDone: ${c.current}`),f.current&&(console.log("[useGeoCoding] Clearing previous debounce timeout."),clearTimeout(f.current)),console.log("[useGeoCoding] Setting new debounce timeout (500ms)."),f.current=setTimeout(()=>{console.log("[useGeoCoding] Debounce timeout expired. Starting fetchCoordinates."),c.current=!1,(async y=>{var S,A,k,H,W;console.log("[useGeoCoding] fetchCoordinates started."),i(!0),a(null);const v=[...new Set(y)].filter(Boolean),x={};let P=null;if(console.log(`[useGeoCoding] Starting geocoding for ${v.length} unique non-empty addresses.`),v.length===0){console.log("[useGeoCoding] No unique non-empty addresses to process."),n([]),i(!1),u.current=[...y],c.current=!0;return}for(const U of v)try{console.log(`[useGeoCoding] Checking DB for: "${U}"`);const R=await UF(U);if(R)console.log(`[useGeoCoding] DB Hit for: "${U}"`,R),x[U]={lat:R.latitude,lng:R.longitude};else{console.log(`[useGeoCoding] DB Miss for: "${U}". Fetching from API.`);try{const C=await Et.get($F,{params:{q:U,key:Bp,language:"fr",countrycode:"fr",limit:1},timeout:7e3});if(C.data.results&&C.data.results.length>0){const N=C.data.results[0].geometry;if(N&&typeof N.lat=="number"&&typeof N.lng=="number"){const D={lat:N.lat,lng:N.lng};x[U]=D,console.log(`[useGeoCoding] API Success for: "${U}"`,D),BF(U,D.lat,D.lng).then(()=>console.log(`[useGeoCoding] Stored geocode for: "${U}"`)).catch(V=>console.error(`[useGeoCoding] Failed to store geocode for "${U}":`,V))}else x[U]=null,console.warn(`[useGeoCoding] No valid geometry from API for: "${U}"`,C.data.results[0])}else x[U]=null,console.warn(`[useGeoCoding] No results from API for: "${U}"`)}catch(C){x[U]=null;let N=`Erreur API pour "${U}"`;C.message==="Cl API manquante"?(N="Cl API manquante ou invalide.",console.error("[useGeoCoding] API Key is missing!")):C.code==="ECONNABORTED"?(N=`Timeout API pour "${U}"`,console.error("[useGeoCoding] Geocoding API timeout:",C.message)):((S=C.response)==null?void 0:S.status)===401||((A=C.response)==null?void 0:A.status)===403?(N="Cl API invalide (401/403)",console.error("[useGeoCoding] Geocoding API Auth error:",C.message)):((k=C.response)==null?void 0:k.status)===402?(N="Limite API atteinte (402)",console.error("[useGeoCoding] Geocoding API 402 error:",C.message)):((H=C.response)==null?void 0:H.status)===429?(N="Trop de requtes API (429)",console.error("[useGeoCoding] Geocoding API 429 error:",C.message)):console.error("[useGeoCoding] Geocoding API error:",C.message,(W=C.response)==null?void 0:W.data),P=P?`${P}, ${N}`:N}}}catch(R){x[U]=null;const C=`Erreur DB pour "${U}"`;P=P?`${P}, ${C}`:C,console.error("[useGeoCoding] Geocoding DB error:",R.message)}const M=y.map(U=>U==null||U===""?null:x[U]??null);console.log("[useGeoCoding] Geocoding finished. Final coordinates:",M),n(M),a(P),i(!1),u.current=[...y],c.current=!0,console.log("[useGeoCoding] State updated. isLoading: false.")})(t)},500),()=>{console.log("[useGeoCoding] Cleanup: Clearing debounce timeout."),f.current&&clearTimeout(f.current)}},[t]),{coordinates:e,isLoading:r,error:s}},WF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",GF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",KF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",ZF=Qs.divIcon({className:"custom-ticket-marker",html:'<span style="background-color: #3498db; width: 1rem; height: 1rem; display: block; border-radius: 50%; border: 2px solid #ffffff; box-shadow: 0 0 3px rgba(0,0,0,0.5);"></span>',iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-10]});Qs.icon({iconRetinaUrl:WF,iconUrl:GF,shadowUrl:KF,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});const QF=({tickets:t})=>{const[e,n]=$.useState(null),r=$.useRef(null),i=$.useRef(null),[s,a]=$.useState([]),u=$.useMemo(()=>{console.log("[InteractiveMap] Filtering tickets for map display. Input tickets:",t);const v=(Array.isArray(t)?t:[]).filter(x=>typeof x.adresse=="string"&&x.adresse.trim()!==""&&x.adresse!=="Non trouv");return console.log("[InteractiveMap] Filtered valid tickets for map:",v),v},[t]),c=$.useMemo(()=>{console.log("[InteractiveMap] Extracting addresses from validTicketsForMap.");const y=u.map(v=>v.adresse);return console.log("[InteractiveMap] Extracted addresses to geocode:",y),y},[u]),{coordinates:f,isLoading:p,error:g}=qF(c);return $.useEffect(()=>{if(r.current){console.log("[InteractiveMap] Map already initialized.");return}console.log("[InteractiveMap] Initializing map...");const y=Qs.map("map").setView([46.2276,2.2137],6);return Qs.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(y),n(y),r.current=y,i.current=Qs.layerGroup().addTo(y),console.log("[InteractiveMap] Map initialized:",r.current),console.log("[InteractiveMap] Marker layer group created:",i.current),()=>{r.current&&(console.log("[InteractiveMap] Removing map..."),r.current.remove(),r.current=null,console.log("[InteractiveMap] Map removed"))}},[]),$.useEffect(()=>{if(console.log("[InteractiveMap] Marker update effect triggered."),!r.current||!i.current){console.warn("[InteractiveMap] Map or Layer Group not ready. Skipping marker update.");return}if(p){console.log("[InteractiveMap] Geocoding in progress. Skipping marker update.");return}if(console.log("[InteractiveMap] Conditions met for marker update."),console.log("[InteractiveMap] Received tickets prop:",t),console.log("[InteractiveMap] Calculated validTicketsForMap:",u),console.log("[InteractiveMap] Received fetchedCoordinates from useGeoCoding:",f),console.log("[InteractiveMap] Geocoding isLoading:",p),console.log("[InteractiveMap] Geocoding error:",g),!Array.isArray(u)){console.warn("[InteractiveMap] Skipping marker update: validTicketsForMap is not an array."),i.current.clearLayers(),a([]);return}if(!Array.isArray(f)){console.warn("[InteractiveMap] Skipping marker update: fetchedCoordinates is not an array."),i.current.clearLayers(),a([]);return}console.log("[InteractiveMap] Clearing existing markers from layer group."),i.current.clearLayers();let y=[];if(u.length!==f.length){console.warn(`[InteractiveMap] Skipping marker update: Mismatch between validTicketsForMap length (${u.length}) and fetchedCoordinates length (${f.length}). This might happen if geocoding failed for some addresses or if the input changed rapidly.`),a([]);return}console.log(`[InteractiveMap] Proceeding to create markers for ${u.length} tickets.`),u.forEach((v,x)=>{const P=v.adresse,M=f[x];if(M&&typeof M.lat=="number"&&typeof M.lng=="number"){const{lat:S,lng:A}=M;console.log(`[InteractiveMap] Adding marker for Ticket ID: ${v.id} (${v.raisonSociale||"N/A"}) at [${S}, ${A}] using address: "${P}"`);try{const k=Qs.marker([S,A],{icon:ZF}).bindPopup(`<b>${v.raisonSociale||"Client inconnu"}</b><br>Ticket ID: ${v.id}<br>Statut: ${v.statut||"N/A"}<br>Adresse: ${P}`);y.push(k)}catch(k){console.error(`[InteractiveMap] Error creating marker instance for Ticket ID: ${v.id}:`,k)}}else console.log(M?`[InteractiveMap] Skipping marker for Ticket ID: ${v.id} (Address: "${P}") due to invalid coordinate format. Coordinate received:`:`[InteractiveMap] Skipping marker for Ticket ID: ${v.id} (Address: "${P}") because corresponding coordinate is null or invalid. Geocoding might have failed. Coordinate received:`,M)}),y.length>0?(console.log(`[InteractiveMap] Adding ${y.length} new markers to the layer group.`),y.forEach(v=>v.addTo(i.current))):console.log("[InteractiveMap] No valid markers were created."),a(y),console.log(`[InteractiveMap] Marker update process finished. State updated with ${y.length} markers.`)},[t,f,p,g,u]),$.useEffect(()=>{if(r.current&&!p)if(console.log(`[InteractiveMap] Fit bounds effect triggered. Markers count: ${s.length}, Geocoding loading: ${p}`),s.length>0){console.log(`[InteractiveMap] Fitting bounds for ${s.length} markers.`);try{const v=Qs.featureGroup(s).getBounds();v.isValid()?(r.current.fitBounds(v,{padding:[50,50],maxZoom:15}),console.log("[InteractiveMap] Map bounds fitted.")):(console.warn("[InteractiveMap] Cannot fit bounds: Feature group bounds are invalid (possibly single marker or identical coordinates)."),s.length===1?(r.current.setView(s[0].getLatLng(),15),console.log("[InteractiveMap] Centered on single marker.")):(r.current.setView([46.2276,2.2137],6),console.log("[InteractiveMap] Resetting view due to invalid bounds for multiple markers.")))}catch(y){console.error("[InteractiveMap] Error fitting map bounds:",y)}}else console.log("[InteractiveMap] No markers to display, resetting map view."),r.current.setView([46.2276,2.2137],6);else r.current&&p?console.log("[InteractiveMap] Skipping bounds update while loading coordinates."):r.current||console.log("[InteractiveMap] Skipping bounds update: Map not initialized yet.")},[s,p]),g&&console.error("[InteractiveMap] Rendering geocoding error message:",g),T.jsxs("div",{className:"relative",children:[p&&T.jsxs("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-[1000]",children:[T.jsx("span",{className:"loading loading-dots loading-lg text-white"}),T.jsx("p",{className:"ml-3 text-white font-semibold",children:"Gocodage des adresses..."})]}),g&&T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-2 bg-error text-error-content text-center z-[1000] shadow-lg",children:["Erreur de gocodage: ",g]}),T.jsx("div",{id:"map",style:{height:"500px",width:"100%"}})]})},TE=()=>{const[t,e]=$.useState(0),[n,r]=$.useState(0),[i,s]=$.useState([]),[a,u]=$.useState(!0),[c,f]=$.useState(!0),[p,g]=$.useState(null),[y,v]=$.useState(null),x=$.useRef([]),P=$.useRef({});return $.useEffect(()=>{u(!0),f(!0),g(null),v(null),P.current={};let M=!0;const S=HF(k=>{M&&e(k)});return(async()=>{try{console.log("[DashboardPage] Fetching sectors...");const k=await Oy();if(!M)return;console.log(`[DashboardPage] Fetched ${k.length} sectors. Setting up listeners...`);let H=0;const W=[];P.current={},k.length===0&&(console.warn("[DashboardPage] No sectors found. Map data will likely be empty."),f(!1)),k.forEach(U=>{const R=U.id;P.current[R]=[],console.log(`[DashboardPage] Setting up listener for sector: ${R}`);const C=jP(R,N=>{if(M){console.log(`[DashboardPage] Received ${N.length} tickets for sector: ${R}`),P.current[R]=N;let D=[],V=0;Object.values(P.current).forEach(z=>{D=D.concat(z),V+=z.length}),console.log(`[DashboardPage] Updating state. Total tickets: ${V}, Combined tickets for map:`,D.length),s(D),r(V),c&&(console.log("[DashboardPage] Setting loadingMapData to false."),f(!1)),v(null)}else console.log(`[DashboardPage] Listener update for sector ${R} ignored (component unmounted).`)},N=>{console.error(`[DashboardPage] Error listening to tickets for sector ${R}:`,N),M&&v(D=>D?`${D}, Erreur secteur ${R}`:`Erreur secteur ${R}`)});W.push(C)}),x.current=W,u(!1)}catch(k){console.error("[DashboardPage] Error fetching sectors or setting up ticket listeners:",k),M&&(g("Erreur chargement secteurs/tickets."),v("Erreur chargement donnes carte."),u(!1),f(!1))}})(),()=>{M=!1,S(),console.log(`[DashboardPage] Cleaning up ${x.current.length} ticket listeners.`),x.current.forEach(k=>k()),x.current=[],console.log("[DashboardPage] Dashboard listeners cleaned up.")}},[]),console.log("[DashboardPage] Rendering. LoadingMapData:",c,"ErrorMapData:",y,"TicketsData length:",i.length),T.jsxs("div",{className:"space-y-6",children:[T.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Tableau de Bord"}),T.jsx(kO,{envoisCount:t,ticketsCount:n,loading:a,error:p}),T.jsx("div",{className:"card bg-base-100 shadow-xl",children:T.jsxs("div",{className:"card-body",children:[T.jsx("h2",{className:"card-title",children:"Carte Interactive des Tickets SAP"}),c&&T.jsxs("div",{className:"flex justify-center items-center h-64",children:[T.jsx("span",{className:"loading loading-spinner loading-lg"}),T.jsx("p",{className:"ml-2",children:"Chargement des donnes de la carte..."})]}),y&&T.jsxs("div",{className:"text-error text-center p-4",children:["Erreur lors du chargement des donnes de la carte: ",y]}),!c&&!y&&T.jsx(QF,{tickets:i}),!c&&!y&&i.length===0&&T.jsx("div",{className:"text-center p-4 text-gray-500",children:"Aucun ticket avec une adresse  afficher sur la carte."})]})})]})},JF=t=>{switch(t==null?void 0:t.toLowerCase()){case"en cours":return"badge-warning";case" clturer":return"badge-info";case"termine":return"badge-success";case"demande de rma":return"badge-secondary";default:return"badge-ghost"}},YF=({groupedTickets:t,onSelectTicket:e,selectedTicketId:n})=>{const r=Object.keys(t).sort();return r.length===0?T.jsx("p",{className:"text-center p-4 text-gray-500",children:"Aucun ticket  afficher pour la slection ou les filtres actuels."}):T.jsxs("div",{className:"w-full",children:[" ",r.map(i=>T.jsxs("div",{className:"w-full mb-6 p-4 border rounded-lg shadow-sm bg-base-200",children:[T.jsxs("h3",{className:"text-xl font-semibold mb-3 sticky top-0 bg-base-200 py-2 z-10",children:[i," (",t[i].length,")"]}),T.jsxs("div",{className:"space-y-3",children:[" ",t[i].map(s=>T.jsx("div",{onClick:()=>e(s),className:`
                  card w-full bg-base-100 shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-200
                  ${n===s.id?"ring-2 ring-primary ring-offset-2":""}
                `,children:T.jsxs("div",{className:"card-body p-3",children:[" ",T.jsxs("p",{className:"text-sm font-medium truncate",title:s.raisonSociale,children:[T.jsx("b",{children:"Code Client:"})," ",s.codeClient||"N/A"]}),T.jsxs("p",{className:"text-xs text-gray-600",children:[T.jsx("b",{children:"Tlphone:"})," ",s.telephone||"N/A"]}),T.jsxs("p",{className:"text-xs text-gray-600",children:[T.jsx("b",{children:"Date:"})," ",s.date||"N/A"," "]}),s.numeroSAP&&T.jsxs("p",{className:"text-xs text-gray-600",children:[T.jsx("b",{children:"N SAP:"})," ",s.numeroSAP]}),T.jsx("div",{className:"card-actions justify-end items-center mt-1",children:T.jsx("div",{className:`badge badge-sm ${JF(s.statut)}`,children:s.statut||"N/A"})})]})},s.id))]})]},i))]})},xE="AIzaSyAZqeCNWSWu1D4iFthrCW7sx9Ky2jlqoUg",XF="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",SE=t=>{const[e,n]=$.useState(null),[r,i]=$.useState(!1),[s,a]=$.useState(null);return $.useEffect(()=>{if(!t){n(null);return}(async()=>{i(!0),a(null);try{console.log("Prompt sent to Gemini:",t),console.log("Gemini API Key:",xE);const c=JSON.stringify({contents:[{parts:[{text:t}]}]}),f=await fetch(`${XF}?key=${xE}`,{method:"POST",headers:{"Content-Type":"application/json"},body:c});if(!f.ok){const g=await f.json();console.error("Gemini summary error (fetch error):",g),a(`Erreur lors de la requte: ${f.status} - ${f.statusText}`),n(null),i(!1);return}const p=await f.json();if(console.log("Gemini API response:",p),p.candidates&&p.candidates.length>0){const g=p.candidates[0].content.parts[0].text;n(g),console.log("Gemini summary generated successfully:",g)}else a("Impossible de gnrer un rsum: Rponse inattendue de l'API"),n(null),console.error("Gemini API response unexpected:",p)}catch(c){a(`Erreur lors de la gnration du rsum: ${c.message}`),n(null),console.error("Gemini summary error:",c)}finally{i(!1)}})()},[t]),{summary:e,isLoading:r,error:s}};function e3(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const t3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,r3={};function IE(t,e){return(r3.jsx?n3:t3).test(t)}const i3=/[ \t\n\f\r]/g;function s3(t){return typeof t=="object"?t.type==="text"?PE(t.value):!1:PE(t)}function PE(t){return t.replace(i3,"")===""}class Ec{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ec.prototype.normal={};Ec.prototype.property={};Ec.prototype.space=void 0;function UP(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ec(n,r,e)}function Rg(t){return t.toLowerCase()}class kn{constructor(e,n){this.attribute=n,this.property=e}}kn.prototype.attribute="";kn.prototype.booleanish=!1;kn.prototype.boolean=!1;kn.prototype.commaOrSpaceSeparated=!1;kn.prototype.commaSeparated=!1;kn.prototype.defined=!1;kn.prototype.mustUseProperty=!1;kn.prototype.number=!1;kn.prototype.overloadedBoolean=!1;kn.prototype.property="";kn.prototype.spaceSeparated=!1;kn.prototype.space=void 0;let o3=0;const Re=ko(),It=ko(),BP=ko(),ie=ko(),Xe=ko(),Aa=ko(),Ln=ko();function ko(){return 2**++o3}const Ng=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:It,commaOrSpaceSeparated:Ln,commaSeparated:Aa,number:ie,overloadedBoolean:BP,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),Hp=Object.keys(Ng);class My extends kn{constructor(e,n,r,i){let s=-1;if(super(e,n),CE(this,"space",i),typeof r=="number")for(;++s<Hp.length;){const a=Hp[s];CE(this,Hp[s],(r&Ng[a])===Ng[a])}}}My.prototype.defined=!0;function CE(t,e,n){n&&(t[e]=n)}function il(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new My(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Rg(r)]=r,n[Rg(s.attribute)]=r}return new Ec(e,n,t.space)}const HP=il({properties:{ariaActiveDescendant:null,ariaAtomic:It,ariaAutoComplete:null,ariaBusy:It,ariaChecked:It,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:It,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:It,ariaFlowTo:Xe,ariaGrabbed:It,ariaHasPopup:null,ariaHidden:It,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:ie,ariaLive:null,ariaModal:It,ariaMultiLine:It,ariaMultiSelectable:It,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:It,ariaReadOnly:It,ariaRelevant:null,ariaRequired:It,ariaRoleDescription:Xe,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:It,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $P(t,e){return e in t?t[e]:e}function qP(t,e){return $P(t,e.toLowerCase())}const a3=il({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Aa,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:Xe,autoFocus:Re,autoPlay:Re,blocking:Xe,capture:null,charSet:null,checked:Re,cite:null,className:Xe,cols:ie,colSpan:null,content:null,contentEditable:It,controls:Re,controlsList:Xe,coords:ie|Aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:BP,draggable:It,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:Xe,height:ie,hidden:Re,high:ie,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:Re,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:ie,pattern:null,ping:Xe,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:Xe,required:Re,reversed:Re,rows:ie,rowSpan:ie,sandbox:Xe,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:It,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:It,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:It,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:ie,security:null,unselectable:null},space:"html",transform:qP}),l3=il({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ln,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Aa,g2:Aa,glyphName:Aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:Ln,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ln,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ln,rev:Ln,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ln,requiredFeatures:Ln,requiredFonts:Ln,requiredFormats:Ln,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:Ln,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ln,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ln,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$P}),WP=il({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),GP=il({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qP}),KP=il({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),u3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},c3=/[A-Z]/g,kE=/-[a-z]/g,h3=/^data[-\w.:]+$/i;function d3(t,e){const n=Rg(e);let r=e,i=kn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&h3.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(kE,p3);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!kE.test(s)){let a=s.replace(c3,f3);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=My}return new i(r,e)}function f3(t){return"-"+t.toLowerCase()}function p3(t){return t.charAt(1).toUpperCase()}const m3=UP([HP,a3,WP,GP,KP],"html"),Dy=UP([HP,l3,WP,GP,KP],"svg");function g3(t){return t.join(" ").trim()}var Vy={},AE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,_3=/\n/g,y3=/^\s*/,v3=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,w3=/^:\s*/,E3=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,T3=/^[;\s]*/,x3=/^\s+|\s+$/g,S3=`
`,bE="/",RE="*",Js="",I3="comment",P3="declaration",C3=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(x){var P=x.match(_3);P&&(n+=P.length);var M=x.lastIndexOf(S3);r=~M?x.length-M:r+x.length}function s(){var x={line:n,column:r};return function(P){return P.position=new a(x),f(),P}}function a(x){this.start=x,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function u(x){var P=new Error(e.source+":"+n+":"+r+": "+x);if(P.reason=x,P.filename=e.source,P.line=n,P.column=r,P.source=t,!e.silent)throw P}function c(x){var P=x.exec(t);if(P){var M=P[0];return i(M),t=t.slice(M.length),P}}function f(){c(y3)}function p(x){var P;for(x=x||[];P=g();)P!==!1&&x.push(P);return x}function g(){var x=s();if(!(bE!=t.charAt(0)||RE!=t.charAt(1))){for(var P=2;Js!=t.charAt(P)&&(RE!=t.charAt(P)||bE!=t.charAt(P+1));)++P;if(P+=2,Js===t.charAt(P-1))return u("End of comment missing");var M=t.slice(2,P-2);return r+=2,i(M),t=t.slice(P),r+=2,x({type:I3,comment:M})}}function y(){var x=s(),P=c(v3);if(P){if(g(),!c(w3))return u("property missing ':'");var M=c(E3),S=x({type:P3,property:NE(P[0].replace(AE,Js)),value:M?NE(M[0].replace(AE,Js)):Js});return c(T3),S}}function v(){var x=[];p(x);for(var P;P=y();)P!==!1&&(x.push(P),p(x));return x}return f(),v()};function NE(t){return t?t.replace(x3,Js):Js}var k3=wu&&wu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.default=b3;var A3=k3(C3);function b3(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,A3.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,u=s.value;i?e(a,u,s):u&&(n=n||{},n[a]=u)}}),n}var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.camelCase=void 0;var R3=/^--[a-zA-Z0-9_-]+$/,N3=/-([a-z])/g,L3=/^[^-]+$/,O3=/^-(webkit|moz|ms|o|khtml)-/,M3=/^-(ms)-/,D3=function(t){return!t||L3.test(t)||R3.test(t)},V3=function(t,e){return e.toUpperCase()},LE=function(t,e){return"".concat(e,"-")},F3=function(t,e){return e===void 0&&(e={}),D3(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(M3,LE):t=t.replace(O3,LE),t.replace(N3,V3))};Hf.camelCase=F3;var z3=wu&&wu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},j3=z3(Vy),U3=Hf;function Lg(t,e){var n={};return!t||typeof t!="string"||(0,j3.default)(t,function(r,i){r&&i&&(n[(0,U3.camelCase)(r,e)]=i)}),n}Lg.default=Lg;var B3=Lg;const H3=Qd(B3),ZP=QP("end"),Fy=QP("start");function QP(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $3(t){const e=Fy(t),n=ZP(t);if(e&&n)return{start:e,end:n}}function _u(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?OE(t.position):"start"in t||"end"in t?OE(t):"line"in t||"column"in t?Og(t):""}function Og(t){return ME(t&&t.line)+":"+ME(t&&t.column)}function OE(t){return Og(t&&t.start)+"-"+Og(t&&t.end)}function ME(t){return t&&typeof t=="number"?t:1}class rn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=u?u.line:void 0,this.name=_u(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}rn.prototype.file="";rn.prototype.name="";rn.prototype.reason="";rn.prototype.message="";rn.prototype.stack="";rn.prototype.column=void 0;rn.prototype.line=void 0;rn.prototype.ancestors=void 0;rn.prototype.cause=void 0;rn.prototype.fatal=void 0;rn.prototype.place=void 0;rn.prototype.ruleId=void 0;rn.prototype.source=void 0;const zy={}.hasOwnProperty,q3=new Map,W3=/[A-Z]/g,G3=new Set(["table","tbody","thead","tfoot","tr"]),K3=new Set(["td","th"]),JP="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Z3(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=rz(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=nz(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Dy:m3,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=YP(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function YP(t,e,n){if(e.type==="element")return Q3(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return J3(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return X3(t,e,n);if(e.type==="mdxjsEsm")return Y3(t,e);if(e.type==="root")return ez(t,e,n);if(e.type==="text")return tz(t,e)}function Q3(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Dy,t.schema=i),t.ancestors.push(e);const s=eC(t,e.tagName,!1),a=iz(t,e);let u=Uy(t,e);return G3.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!s3(c):!0})),XP(t,a,s,e),jy(a,u),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function J3(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ju(t,e.position)}function Y3(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ju(t,e.position)}function X3(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Dy,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:eC(t,e.name,!0),a=sz(t,e),u=Uy(t,e);return XP(t,a,s,e),jy(a,u),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function ez(t,e,n){const r={};return jy(r,Uy(t,e)),t.create(e,t.Fragment,r,n)}function tz(t,e){return e.value}function XP(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function jy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function nz(t,e,n){return r;function r(i,s,a,u){const f=Array.isArray(a.children)?n:e;return u?f(s,a,u):f(s,a)}}function rz(t,e){return n;function n(r,i,s,a){const u=Array.isArray(s.children),c=Fy(r);return e(i,s,a,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function iz(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&zy.call(e.properties,i)){const s=oz(t,i,e.properties[i]);if(s){const[a,u]=s;t.tableCellAlignToStyle&&a==="align"&&typeof u=="string"&&K3.has(e.tagName)?r=u:n[a]=u}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function sz(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const u=a.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else Ju(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,s=t.evaluater.evaluateExpression(u.expression)}else Ju(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Uy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:q3;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const f=i.get(c)||0;a=c+"-"+f,i.set(c,f+1)}}const u=YP(t,s,a);u!==void 0&&n.push(u)}return n}function oz(t,e,n){const r=d3(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?e3(n):g3(n)),r.property==="style"){let i=typeof n=="object"?n:az(t,String(n));return t.stylePropertyNameCase==="css"&&(i=lz(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?u3[r.property]||r.property:r.attribute,n]}}function az(t,e){try{return H3(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new rn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=JP+"#cannot-parse-style-attribute",i}}function eC(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const u=IE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}r=a}else r=IE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return zy.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ju(t)}function Ju(t,e){const n=new rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=JP+"#cannot-handle-mdx-estrees-without-createevaluater",n}function lz(t){const e={};let n;for(n in t)zy.call(t,n)&&(e[uz(n)]=t[n]);return e}function uz(t){let e=t.replace(W3,cz);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cz(t){return"-"+t.toLowerCase()}const $p={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hz={};function dz(t,e){const n=hz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tC(t,r,i)}function tC(t,e,n){if(fz(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return DE(t.children,e,n)}return Array.isArray(t)?DE(t,e,n):""}function DE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=tC(t[i],e,n);return r.join("")}function fz(t){return!!(t&&typeof t=="object")}const VE=document.createElement("i");function By(t){const e="&"+t+";";VE.innerHTML=e;const n=VE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Wr(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function tr(t,e){return t.length>0?(Wr(t,t.length,0,e),t):e}const FE={}.hasOwnProperty;function pz(t){const e={};let n=-1;for(;++n<t.length;)mz(e,t[n]);return e}function mz(t,e){let n;for(n in e){const i=(FE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){FE.call(i,a)||(i[a]=[]);const u=s[a];gz(i[a],Array.isArray(u)?u:u?[u]:[])}}}function gz(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Wr(t,0,0,r)}function nC(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ba(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Or=Ns(/[A-Za-z]/),Vn=Ns(/[\dA-Za-z]/),_z=Ns(/[#-'*+\--9=?A-Z^-~]/);function Mg(t){return t!==null&&(t<32||t===127)}const Dg=Ns(/\d/),yz=Ns(/[\dA-Fa-f]/),vz=Ns(/[!-/:-@[-`{-~]/);function xe(t){return t!==null&&t<-2}function Cn(t){return t!==null&&(t<0||t===32)}function We(t){return t===-2||t===-1||t===32}const wz=Ns(new RegExp("\\p{P}|\\p{S}","u")),Ez=Ns(/\s/);function Ns(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function sl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Vn(t.charCodeAt(n+1))&&Vn(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const u=t.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(a=String.fromCharCode(s,u),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function tt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return We(c)?(t.enter(n),u(c)):e(c)}function u(c){return We(c)&&s++<i?(t.consume(c),u):(t.exit(n),e(c))}}const Tz={tokenize:xz};function xz(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),tt(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),s(u)}function s(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(u)}function a(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return xe(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),a)}}const Sz={tokenize:Iz},zE={tokenize:Pz};function Iz(t){const e=this,n=[];let r=0,i,s,a;return u;function u(k){if(r<n.length){const H=n[r];return e.containerState=H[1],t.attempt(H[0].continuation,c,f)(k)}return f(k)}function c(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&A();const H=e.events.length;let W=H,U;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){U=e.events[W][1].end;break}S(r);let R=H;for(;R<e.events.length;)e.events[R][1].end={...U},R++;return Wr(e.events,W+1,0,e.events.slice(H)),e.events.length=R,f(k)}return u(k)}function f(k){if(r===n.length){if(!i)return y(k);if(i.currentConstruct&&i.currentConstruct.concrete)return x(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(zE,p,g)(k)}function p(k){return i&&A(),S(r),y(k)}function g(k){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,x(k)}function y(k){return e.containerState={},t.attempt(zE,v,x)(k)}function v(k){return r++,n.push([e.currentConstruct,e.containerState]),y(k)}function x(k){if(k===null){i&&A(),S(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),P(k)}function P(k){if(k===null){M(t.exit("chunkFlow"),!0),S(0),t.consume(k);return}return xe(k)?(t.consume(k),M(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(k),P)}function M(k,H){const W=e.sliceStream(k);if(H&&W.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(W),e.parser.lazy[k.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<a&&(!i.events[U][1].end||i.events[U][1].end.offset>a))return;const R=e.events.length;let C=R,N,D;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(N){D=e.events[C][1].end;break}N=!0}for(S(r),U=R;U<e.events.length;)e.events[U][1].end={...D},U++;Wr(e.events,C+1,0,e.events.slice(R)),e.events.length=U}}function S(k){let H=n.length;for(;H-- >k;){const W=n[H];e.containerState=W[1],W[0].exit.call(e,t)}n.length=k}function A(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Pz(t,e,n){return tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jE(t){if(t===null||Cn(t)||Ez(t))return 1;if(wz(t))return 2}function Hy(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Vg={name:"attention",resolveAll:Cz,tokenize:kz};function Cz(t,e){let n=-1,r,i,s,a,u,c,f,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},y={...t[n][1].start};UE(g,-c),UE(y,c),a={type:c>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},t[r][1].end={...a.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=tr(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=tr(f,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),f=tr(f,Hy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=tr(f,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,f=tr(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Wr(t,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kz(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jE(r);let s;return a;function a(c){return s=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===s)return t.consume(c),u;const f=t.exit("attentionSequence"),p=jE(c),g=!p||p===2&&i||n.includes(c),y=!i||i===2&&p||n.includes(r);return f._open=!!(s===42?g:g&&(i||!y)),f._close=!!(s===42?y:y&&(p||!g)),e(c)}}function UE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Az={name:"autolink",tokenize:bz};function bz(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return Or(v)?(t.consume(v),a):v===64?n(v):f(v)}function a(v){return v===43||v===45||v===46||Vn(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||Vn(v))&&r++<32?(t.consume(v),u):(r=0,f(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||Mg(v)?n(v):(t.consume(v),c)}function f(v){return v===64?(t.consume(v),p):_z(v)?(t.consume(v),f):n(v)}function p(v){return Vn(v)?g(v):n(v)}function g(v){return v===46?(t.consume(v),r=0,p):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):y(v)}function y(v){if((v===45||Vn(v))&&r++<63){const x=v===45?y:g;return t.consume(v),x}return n(v)}}const $f={partial:!0,tokenize:Rz};function Rz(t,e,n){return r;function r(s){return We(s)?tt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||xe(s)?e(s):n(s)}}const rC={continuation:{tokenize:Lz},exit:Oz,name:"blockQuote",tokenize:Nz};function Nz(t,e,n){const r=this;return i;function i(a){if(a===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return We(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Lz(t,e,n){const r=this;return i;function i(a){return We(a)?tt(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(rC,e,n)(a)}}function Oz(t){t.exit("blockQuote")}const iC={name:"characterEscape",tokenize:Mz};function Mz(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return vz(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const sC={name:"characterReference",tokenize:Dz};function Dz(t,e,n){const r=this;let i=0,s,a;return u;function u(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),c}function c(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),s=31,a=Vn,p(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=yz,p):(t.enter("characterReferenceValue"),s=7,a=Dg,p(g))}function p(g){if(g===59&&i){const y=t.exit("characterReferenceValue");return a===Vn&&!By(r.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(g)&&i++<s?(t.consume(g),p):n(g)}}const BE={partial:!0,tokenize:Fz},HE={concrete:!0,name:"codeFenced",tokenize:Vz};function Vz(t,e,n){const r=this,i={partial:!0,tokenize:W};let s=0,a=0,u;return c;function c(U){return f(U)}function f(U){const R=r.events[r.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,u=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(U)}function p(U){return U===u?(a++,t.consume(U),p):a<3?n(U):(t.exit("codeFencedFenceSequence"),We(U)?tt(t,g,"whitespace")(U):g(U))}function g(U){return U===null||xe(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(BE,P,H)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(U))}function y(U){return U===null||xe(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(U)):We(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tt(t,v,"whitespace")(U)):U===96&&U===u?n(U):(t.consume(U),y)}function v(U){return U===null||xe(U)?g(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(U))}function x(U){return U===null||xe(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(U)):U===96&&U===u?n(U):(t.consume(U),x)}function P(U){return t.attempt(i,H,M)(U)}function M(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),S}function S(U){return s>0&&We(U)?tt(t,A,"linePrefix",s+1)(U):A(U)}function A(U){return U===null||xe(U)?t.check(BE,P,H)(U):(t.enter("codeFlowValue"),k(U))}function k(U){return U===null||xe(U)?(t.exit("codeFlowValue"),A(U)):(t.consume(U),k)}function H(U){return t.exit("codeFenced"),e(U)}function W(U,R,C){let N=0;return D;function D(ge){return U.enter("lineEnding"),U.consume(ge),U.exit("lineEnding"),V}function V(ge){return U.enter("codeFencedFence"),We(ge)?tt(U,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):z(ge)}function z(ge){return ge===u?(U.enter("codeFencedFenceSequence"),F(ge)):C(ge)}function F(ge){return ge===u?(N++,U.consume(ge),F):N>=a?(U.exit("codeFencedFenceSequence"),We(ge)?tt(U,me,"whitespace")(ge):me(ge)):C(ge)}function me(ge){return ge===null||xe(ge)?(U.exit("codeFencedFence"),R(ge)):C(ge)}}}function Fz(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const qp={name:"codeIndented",tokenize:jz},zz={partial:!0,tokenize:Uz};function jz(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),tt(t,s,"linePrefix",5)(f)}function s(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?c(f):xe(f)?t.attempt(zz,a,c)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||xe(f)?(t.exit("codeFlowValue"),a(f)):(t.consume(f),u)}function c(f){return t.exit("codeIndented"),e(f)}}function Uz(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):xe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):tt(t,s,"linePrefix",5)(a)}function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):xe(a)?i(a):n(a)}}const Bz={name:"codeText",previous:$z,resolve:Hz,tokenize:qz};function Hz(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $z(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qz(t,e,n){let r=0,i,s;return a;function a(g){return t.enter("codeText"),t.enter("codeTextSequence"),u(g)}function u(g){return g===96?(t.consume(g),r++,u):(t.exit("codeTextSequence"),c(g))}function c(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),c):g===96?(s=t.enter("codeTextSequence"),i=0,p(g)):xe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||xe(g)?(t.exit("codeTextData"),c(g)):(t.consume(g),f)}function p(g){return g===96?(t.consume(g),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(s.type="codeTextData",f(g))}}class Wz{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ql(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ql(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ql(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ql(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ql(this.left,n.reverse())}}}function ql(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function oC(t){const e={};let n=-1,r,i,s,a,u,c,f;const p=new Wz(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Gz(p,n)),n=e[n],f=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=p.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return Wr(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function Gz(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const u=a.events,c=[],f={};let p,g,y=-1,v=n,x=0,P=0;const M=[P];for(;v;){for(;t.get(++i)[1]!==v;);s.push(i),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),g&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=n;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(P=y+1,M.push(P),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):M.pop(),y=M.length;y--;){const S=u.slice(M[y],M[y+1]),A=s.pop();c.push([A,A+S.length-1]),t.splice(A,2,S)}for(c.reverse(),y=-1;++y<c.length;)f[x+c[y][0]]=x+c[y][1],x+=c[y][1]-c[y][0]-1;return f}const Kz={resolve:Qz,tokenize:Jz},Zz={partial:!0,tokenize:Yz};function Qz(t){return oC(t),t}function Jz(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):xe(u)?t.check(Zz,a,s)(u):(t.consume(u),i)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function a(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Yz(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),tt(t,s,"linePrefix")}function s(a){if(a===null||xe(a))return n(a);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function aC(t,e,n,r,i,s,a,u,c){const f=c||Number.POSITIVE_INFINITY;let p=0;return g;function g(S){return S===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(S),t.exit(s),y):S===null||S===32||S===41||Mg(S)?n(S):(t.enter(r),t.enter(a),t.enter(u),t.enter("chunkString",{contentType:"string"}),P(S))}function y(S){return S===62?(t.enter(s),t.consume(S),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===62?(t.exit("chunkString"),t.exit(u),y(S)):S===null||S===60||xe(S)?n(S):(t.consume(S),S===92?x:v)}function x(S){return S===60||S===62||S===92?(t.consume(S),v):v(S)}function P(S){return!p&&(S===null||S===41||Cn(S))?(t.exit("chunkString"),t.exit(u),t.exit(a),t.exit(r),e(S)):p<f&&S===40?(t.consume(S),p++,P):S===41?(t.consume(S),p--,P):S===null||S===32||S===40||Mg(S)?n(S):(t.consume(S),S===92?M:P)}function M(S){return S===40||S===41||S===92?(t.consume(S),P):P(S)}}function lC(t,e,n,r,i,s){const a=this;let u=0,c;return f;function f(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(s),p}function p(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(t.exit(s),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):xe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||xe(v)||u++>999?(t.exit("chunkString"),p(v)):(t.consume(v),c||(c=!We(v)),v===92?y:g)}function y(v){return v===91||v===92||v===93?(t.consume(v),u++,g):g(v)}}function uC(t,e,n,r,i,s){let a;return u;function u(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),a=y===40?41:y,c):n(y)}function c(y){return y===a?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(s),f(y))}function f(y){return y===a?(t.exit(s),c(a)):y===null?n(y):xe(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),tt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===a||y===null||xe(y)?(t.exit("chunkString"),f(y)):(t.consume(y),y===92?g:p)}function g(y){return y===a||y===92?(t.consume(y),p):p(y)}}function yu(t,e){let n;return r;function r(i){return xe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):We(i)?tt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Xz={name:"definition",tokenize:tj},ej={partial:!0,tokenize:nj};function tj(t,e,n){const r=this;let i;return s;function s(v){return t.enter("definition"),a(v)}function a(v){return lC.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=ba(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return Cn(v)?yu(t,f)(v):f(v)}function f(v){return aC(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return t.attempt(ej,g,g)(v)}function g(v){return We(v)?tt(t,y,"whitespace")(v):y(v)}function y(v){return v===null||xe(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function nj(t,e,n){return r;function r(u){return Cn(u)?yu(t,i)(u):n(u)}function i(u){return uC(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return We(u)?tt(t,a,"whitespace")(u):a(u)}function a(u){return u===null||xe(u)?e(u):n(u)}}const rj={name:"hardBreakEscape",tokenize:ij};function ij(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return xe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const sj={name:"headingAtx",resolve:oj,tokenize:aj};function oj(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Wr(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function aj(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),s(p)}function s(p){return t.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(t.consume(p),a):p===null||Cn(p)?(t.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(t.enter("atxHeadingSequence"),c(p)):p===null||xe(p)?(t.exit("atxHeading"),e(p)):We(p)?tt(t,u,"whitespace")(p):(t.enter("atxHeadingText"),f(p))}function c(p){return p===35?(t.consume(p),c):(t.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||Cn(p)?(t.exit("atxHeadingText"),u(p)):(t.consume(p),f)}}const lj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$E=["pre","script","style","textarea"],uj={concrete:!0,name:"htmlFlow",resolveTo:dj,tokenize:fj},cj={partial:!0,tokenize:mj},hj={partial:!0,tokenize:pj};function dj(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function fj(t,e,n){const r=this;let i,s,a,u,c;return f;function f(j){return p(j)}function p(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),g}function g(j){return j===33?(t.consume(j),y):j===47?(t.consume(j),s=!0,P):j===63?(t.consume(j),i=3,r.interrupt?e:O):Or(j)?(t.consume(j),a=String.fromCharCode(j),M):n(j)}function y(j){return j===45?(t.consume(j),i=2,v):j===91?(t.consume(j),i=5,u=0,x):Or(j)?(t.consume(j),i=4,r.interrupt?e:O):n(j)}function v(j){return j===45?(t.consume(j),r.interrupt?e:O):n(j)}function x(j){const be="CDATA[";return j===be.charCodeAt(u++)?(t.consume(j),u===be.length?r.interrupt?e:z:x):n(j)}function P(j){return Or(j)?(t.consume(j),a=String.fromCharCode(j),M):n(j)}function M(j){if(j===null||j===47||j===62||Cn(j)){const be=j===47,Se=a.toLowerCase();return!be&&!s&&$E.includes(Se)?(i=1,r.interrupt?e(j):z(j)):lj.includes(a.toLowerCase())?(i=6,be?(t.consume(j),S):r.interrupt?e(j):z(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?A(j):k(j))}return j===45||Vn(j)?(t.consume(j),a+=String.fromCharCode(j),M):n(j)}function S(j){return j===62?(t.consume(j),r.interrupt?e:z):n(j)}function A(j){return We(j)?(t.consume(j),A):D(j)}function k(j){return j===47?(t.consume(j),D):j===58||j===95||Or(j)?(t.consume(j),H):We(j)?(t.consume(j),k):D(j)}function H(j){return j===45||j===46||j===58||j===95||Vn(j)?(t.consume(j),H):W(j)}function W(j){return j===61?(t.consume(j),U):We(j)?(t.consume(j),W):k(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),c=j,R):We(j)?(t.consume(j),U):C(j)}function R(j){return j===c?(t.consume(j),c=null,N):j===null||xe(j)?n(j):(t.consume(j),R)}function C(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Cn(j)?W(j):(t.consume(j),C)}function N(j){return j===47||j===62||We(j)?k(j):n(j)}function D(j){return j===62?(t.consume(j),V):n(j)}function V(j){return j===null||xe(j)?z(j):We(j)?(t.consume(j),V):n(j)}function z(j){return j===45&&i===2?(t.consume(j),Oe):j===60&&i===1?(t.consume(j),oe):j===62&&i===4?(t.consume(j),fe):j===63&&i===3?(t.consume(j),O):j===93&&i===5?(t.consume(j),ue):xe(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(cj,ye,F)(j)):j===null||xe(j)?(t.exit("htmlFlowData"),F(j)):(t.consume(j),z)}function F(j){return t.check(hj,me,ye)(j)}function me(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ge}function ge(j){return j===null||xe(j)?F(j):(t.enter("htmlFlowData"),z(j))}function Oe(j){return j===45?(t.consume(j),O):z(j)}function oe(j){return j===47?(t.consume(j),a="",K):z(j)}function K(j){if(j===62){const be=a.toLowerCase();return $E.includes(be)?(t.consume(j),fe):z(j)}return Or(j)&&a.length<8?(t.consume(j),a+=String.fromCharCode(j),K):z(j)}function ue(j){return j===93?(t.consume(j),O):z(j)}function O(j){return j===62?(t.consume(j),fe):j===45&&i===2?(t.consume(j),O):z(j)}function fe(j){return j===null||xe(j)?(t.exit("htmlFlowData"),ye(j)):(t.consume(j),fe)}function ye(j){return t.exit("htmlFlow"),e(j)}}function pj(t,e,n){const r=this;return i;function i(a){return xe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function mj(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt($f,e,n)}}const gj={name:"htmlText",tokenize:_j};function _j(t,e,n){const r=this;let i,s,a;return u;function u(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),c}function c(O){return O===33?(t.consume(O),f):O===47?(t.consume(O),W):O===63?(t.consume(O),k):Or(O)?(t.consume(O),C):n(O)}function f(O){return O===45?(t.consume(O),p):O===91?(t.consume(O),s=0,x):Or(O)?(t.consume(O),A):n(O)}function p(O){return O===45?(t.consume(O),v):n(O)}function g(O){return O===null?n(O):O===45?(t.consume(O),y):xe(O)?(a=g,oe(O)):(t.consume(O),g)}function y(O){return O===45?(t.consume(O),v):g(O)}function v(O){return O===62?Oe(O):O===45?y(O):g(O)}function x(O){const fe="CDATA[";return O===fe.charCodeAt(s++)?(t.consume(O),s===fe.length?P:x):n(O)}function P(O){return O===null?n(O):O===93?(t.consume(O),M):xe(O)?(a=P,oe(O)):(t.consume(O),P)}function M(O){return O===93?(t.consume(O),S):P(O)}function S(O){return O===62?Oe(O):O===93?(t.consume(O),S):P(O)}function A(O){return O===null||O===62?Oe(O):xe(O)?(a=A,oe(O)):(t.consume(O),A)}function k(O){return O===null?n(O):O===63?(t.consume(O),H):xe(O)?(a=k,oe(O)):(t.consume(O),k)}function H(O){return O===62?Oe(O):k(O)}function W(O){return Or(O)?(t.consume(O),U):n(O)}function U(O){return O===45||Vn(O)?(t.consume(O),U):R(O)}function R(O){return xe(O)?(a=R,oe(O)):We(O)?(t.consume(O),R):Oe(O)}function C(O){return O===45||Vn(O)?(t.consume(O),C):O===47||O===62||Cn(O)?N(O):n(O)}function N(O){return O===47?(t.consume(O),Oe):O===58||O===95||Or(O)?(t.consume(O),D):xe(O)?(a=N,oe(O)):We(O)?(t.consume(O),N):Oe(O)}function D(O){return O===45||O===46||O===58||O===95||Vn(O)?(t.consume(O),D):V(O)}function V(O){return O===61?(t.consume(O),z):xe(O)?(a=V,oe(O)):We(O)?(t.consume(O),V):N(O)}function z(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),i=O,F):xe(O)?(a=z,oe(O)):We(O)?(t.consume(O),z):(t.consume(O),me)}function F(O){return O===i?(t.consume(O),i=void 0,ge):O===null?n(O):xe(O)?(a=F,oe(O)):(t.consume(O),F)}function me(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||Cn(O)?N(O):(t.consume(O),me)}function ge(O){return O===47||O===62||Cn(O)?N(O):n(O)}function Oe(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function oe(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),K}function K(O){return We(O)?tt(t,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):ue(O)}function ue(O){return t.enter("htmlTextData"),a(O)}}const $y={name:"labelEnd",resolveAll:Ej,resolveTo:Tj,tokenize:xj},yj={tokenize:Sj},vj={tokenize:Ij},wj={tokenize:Pj};function Ej(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Wr(t,0,t.length,n),t}function Tj(t,e){let n=t.length,r=0,i,s,a,u;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},p={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return u=[["enter",c,e],["enter",f,e]],u=tr(u,t.slice(s+1,s+r+3)),u=tr(u,[["enter",p,e]]),u=tr(u,Hy(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),u=tr(u,[["exit",p,e],t[a-2],t[a-1],["exit",f,e]]),u=tr(u,t.slice(a+1)),u=tr(u,[["exit",c,e]]),Wr(t,s,t.length,u),t}function xj(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(y){return s?s._inactive?g(y):(a=r.parser.defined.includes(ba(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),c):n(y)}function c(y){return y===40?t.attempt(yj,p,a?p:g)(y):y===91?t.attempt(vj,p,a?f:g)(y):a?p(y):g(y)}function f(y){return t.attempt(wj,p,g)(y)}function p(y){return e(y)}function g(y){return s._balanced=!0,n(y)}}function Sj(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return Cn(g)?yu(t,s)(g):s(g)}function s(g){return g===41?p(g):aC(t,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return Cn(g)?yu(t,c)(g):p(g)}function u(g){return n(g)}function c(g){return g===34||g===39||g===40?uC(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function f(g){return Cn(g)?yu(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function Ij(t,e,n){const r=this;return i;function i(u){return lC.call(r,t,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(ba(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function a(u){return n(u)}}function Pj(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Cj={name:"labelStartImage",resolveAll:$y.resolveAll,tokenize:kj};function kj(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Aj={name:"labelStartLink",resolveAll:$y.resolveAll,tokenize:bj};function bj(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Wp={name:"lineEnding",tokenize:Rj};function Rj(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),tt(t,e,"linePrefix")}}const Qh={name:"thematicBreak",tokenize:Nj};function Nj(t,e,n){let r=0,i;return s;function s(f){return t.enter("thematicBreak"),a(f)}function a(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||xe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function c(f){return f===i?(t.consume(f),r++,c):(t.exit("thematicBreakSequence"),We(f)?tt(t,u,"whitespace")(f):u(f))}}const yn={continuation:{tokenize:Dj},exit:Fj,name:"list",tokenize:Mj},Lj={partial:!0,tokenize:zj},Oj={partial:!0,tokenize:Vj};function Mj(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(v){const x=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:Dg(v)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Qh,n,f)(v):f(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return Dg(v)&&++a<10?(t.consume(v),c):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),f(v)):n(v)}function f(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check($f,r.interrupt?n:p,t.attempt(Lj,y,g))}function p(v){return r.containerState.initialBlankLine=!0,s++,y(v)}function g(v){return We(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function Dj(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check($f,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,tt(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!We(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Oj,e,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,tt(t,t.attempt(yn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Vj(t,e,n){const r=this;return tt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function Fj(t){t.exit(this.containerState.type)}function zj(t,e,n){const r=this;return tt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!We(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const qE={name:"setextUnderline",resolveTo:jj,tokenize:Uj};function jj(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Uj(t,e,n){const r=this;let i;return s;function s(f){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,a(f)):n(f)}function a(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),We(f)?tt(t,c,"lineSuffix")(f):c(f))}function c(f){return f===null||xe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const Bj={tokenize:Hj};function Hj(t){const e=this,n=t.attempt($f,r,t.attempt(this.parser.constructs.flowInitial,i,tt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Kz,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $j={resolveAll:hC()},qj=cC("string"),Wj=cC("text");function cC(t){return{resolveAll:hC(t==="text"?Gj:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,u);return a;function a(p){return f(p)?s(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),c}function c(p){return f(p)?(n.exit("data"),s(p)):(n.consume(p),c)}function f(p){if(p===null)return!0;const g=i[p];let y=-1;if(g)for(;++y<g.length;){const v=g[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function hC(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Gj(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,u=0,c;for(;s--;){const f=i[s];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(f===-2)c=!0,u++;else if(f!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const Kj={42:yn,43:yn,45:yn,48:yn,49:yn,50:yn,51:yn,52:yn,53:yn,54:yn,55:yn,56:yn,57:yn,62:rC},Zj={91:Xz},Qj={[-2]:qp,[-1]:qp,32:qp},Jj={35:sj,42:Qh,45:[qE,Qh],60:uj,61:qE,95:Qh,96:HE,126:HE},Yj={38:sC,92:iC},Xj={[-5]:Wp,[-4]:Wp,[-3]:Wp,33:Cj,38:sC,42:Vg,60:[Az,gj],91:Aj,92:[rj,iC],93:$y,95:Vg,96:Bz},e6={null:[Vg,$j]},t6={null:[42,95]},n6={null:[]},r6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:t6,contentInitial:Zj,disable:n6,document:Kj,flow:Jj,flowInitial:Qj,insideSpan:e6,string:Yj,text:Xj},Symbol.toStringTag,{value:"Module"}));function i6(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],u=[];const c={attempt:R(W),check:R(U),consume:A,enter:k,exit:H,interrupt:R(U,{interrupt:!0})},f={code:null,containerState:{},defineSkip:P,events:[],now:x,parser:t,previous:null,sliceSerialize:y,sliceStream:v,write:g};let p=e.tokenize.call(f,c);return e.resolveAll&&s.push(e),f;function g(V){return a=tr(a,V),M(),a[a.length-1]!==null?[]:(C(e,0),f.events=Hy(s,f.events,f),f.events)}function y(V,z){return o6(v(V),z)}function v(V){return s6(a,V)}function x(){const{_bufferIndex:V,_index:z,line:F,column:me,offset:ge}=r;return{_bufferIndex:V,_index:z,line:F,column:me,offset:ge}}function P(V){i[V.line]=V.column,D()}function M(){let V;for(;r._index<a.length;){const z=a[r._index];if(typeof z=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<z.length;)S(z.charCodeAt(r._bufferIndex));else S(z)}}function S(V){p=p(V)}function A(V){xe(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,D()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V}function k(V,z){const F=z||{};return F.type=V,F.start=x(),f.events.push(["enter",F,f]),u.push(F),F}function H(V){const z=u.pop();return z.end=x(),f.events.push(["exit",z,f]),z}function W(V,z){C(V,z.from)}function U(V,z){z.restore()}function R(V,z){return F;function F(me,ge,Oe){let oe,K,ue,O;return Array.isArray(me)?ye(me):"tokenize"in me?ye([me]):fe(me);function fe(he){return nt;function nt(At){const ar=At!==null&&he[At],sn=At!==null&&he.null,An=[...Array.isArray(ar)?ar:ar?[ar]:[],...Array.isArray(sn)?sn:sn?[sn]:[]];return ye(An)(At)}}function ye(he){return oe=he,K=0,he.length===0?Oe:j(he[K])}function j(he){return nt;function nt(At){return O=N(),ue=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?Se():he.tokenize.call(z?Object.assign(Object.create(f),z):f,c,be,Se)(At)}}function be(he){return V(ue,O),ge}function Se(he){return O.restore(),++K<oe.length?j(oe[K]):Oe}}}function C(V,z){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&Wr(f.events,z,f.events.length-z,V.resolve(f.events.slice(z),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function N(){const V=x(),z=f.previous,F=f.currentConstruct,me=f.events.length,ge=Array.from(u);return{from:me,restore:Oe};function Oe(){r=V,f.previous=z,f.currentConstruct=F,f.events.length=me,u=ge,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function s6(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function o6(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function a6(t){const r={constructs:pz([r6,...(t||{}).extensions||[]]),content:i(Tz),defined:[],document:i(Sz),flow:i(Bj),lazy:{},string:i(qj),text:i(Wj)};return r;function i(s){return a;function a(u){return i6(r,s,u)}}}function l6(t){for(;!oC(t););return t}const WE=/[\0\t\n\r]/g;function u6(){let t=1,e="",n=!0,r;return i;function i(s,a,u){const c=[];let f,p,g,y,v;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),g=0,e="",n&&(s.charCodeAt(0)===65279&&g++,n=void 0);g<s.length;){if(WE.lastIndex=g,f=WE.exec(s),y=f&&f.index!==void 0?f.index:s.length,v=s.charCodeAt(y),!f){e=s.slice(g);break}if(v===10&&g===y&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),g<y&&(c.push(s.slice(g,y)),t+=y-g),v){case 0:{c.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,c.push(-2);t++<p;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}g=y+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const c6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function h6(t){return t.replace(c6,d6)}function d6(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return nC(n.slice(s?2:1),s?16:10)}return By(n)||t}const dC={}.hasOwnProperty;function f6(t,e,n){return typeof e!="string"&&(n=e,e=void 0),p6(n)(l6(a6(n).document().write(u6()(t,e,!0))))}function p6(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Os),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(Qr),blockQuote:s(sn),characterEscape:N,characterReference:N,codeFenced:s(An),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(An,a),codeText:s(lr,a),codeTextData:N,data:N,codeFlowValue:N,definition:s(Zr),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Ls),hardBreakEscape:s(bi),hardBreakTrailing:s(bi),htmlFlow:s(Ri,a),htmlFlowData:N,htmlText:s(Ri,a),htmlTextData:N,image:s(Ni),label:a,link:s(Os),listItem:s(Li),listItemValue:y,listOrdered:s(Jr,g),listUnordered:s(Jr),paragraph:s(Ao),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Qr),strong:s(Oi),thematicBreak:s(bo)},exit:{atxHeading:c(),atxHeadingSequence:W,autolink:c(),autolinkEmail:ar,autolinkProtocol:At,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:he,characterReference:nt,codeFenced:c(M),codeFencedFence:P,codeFencedFenceInfo:v,codeFencedFenceMeta:x,codeFlowValue:D,codeIndented:c(S),codeText:c(ge),codeTextData:D,data:D,definition:c(),definitionDestinationString:H,definitionLabelString:A,definitionTitleString:k,emphasis:c(),hardBreakEscape:c(z),hardBreakTrailing:c(z),htmlFlow:c(F),htmlFlowData:D,htmlText:c(me),htmlTextData:D,image:c(oe),label:ue,labelText:K,lineEnding:V,link:c(Oe),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:be,resourceDestinationString:O,resourceTitleString:fe,resource:ye,setextHeading:c(C),setextHeadingLineSequence:R,setextHeadingText:U,strong:c(),thematicBreak:c()}};fC(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let ne={type:"root",children:[]};const ve={stack:[ne],tokenStack:[],config:e,enter:u,exit:f,buffer:a,resume:p,data:n},Le=[];let He=-1;for(;++He<J.length;)if(J[He][1].type==="listOrdered"||J[He][1].type==="listUnordered")if(J[He][0]==="enter")Le.push(He);else{const Gt=Le.pop();He=i(J,Gt,He)}for(He=-1;++He<J.length;){const Gt=e[J[He][0]];dC.call(Gt,J[He][1].type)&&Gt[J[He][1].type].call(Object.assign({sliceSerialize:J[He][2].sliceSerialize},ve),J[He][1])}if(ve.tokenStack.length>0){const Gt=ve.tokenStack[ve.tokenStack.length-1];(Gt[1]||GE).call(ve,void 0,Gt[0])}for(ne.position={start:Wi(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Wi(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)ne=e.transforms[He](ne)||ne;return ne}function i(J,ne,ve){let Le=ne-1,He=-1,Gt=!1,on,an,Hn,$n;for(;++Le<=ve;){const Ft=J[Le];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?He++:He--,$n=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(on&&!$n&&!He&&!Hn&&(Hn=Le),$n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$n=void 0}if(!He&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||He===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(on){let mn=Le;for(an=void 0;mn--;){const ln=J[mn];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;an&&(J[an][1].type="lineEndingBlank",Gt=!0),ln[1].type="lineEnding",an=mn}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}Hn&&(!an||Hn<an)&&(on._spread=!0),on.end=Object.assign({},an?J[an][1].start:Ft[1].end),J.splice(an||Le,0,["exit",on,Ft[2]]),Le++,ve++}if(Ft[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};on=mn,J.splice(Le,0,["enter",mn,Ft[2]]),Le++,ve++,Hn=void 0,$n=!0}}}return J[ne][1]._spread=Gt,ve}function s(J,ne){return ve;function ve(Le){u.call(this,J(Le),Le),ne&&ne.call(this,Le)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(J,ne,ve){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([ne,ve||void 0]),J.position={start:Wi(ne.start),end:void 0}}function c(J){return ne;function ne(ve){J&&J.call(this,ve),f.call(this,ve)}}function f(J,ne){const ve=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==J.type&&(ne?ne.call(this,J,Le[0]):(Le[1]||GE).call(this,J,Le[0]));else throw new Error("Cannot close `"+J.type+"` ("+_u({start:J.start,end:J.end})+"): its not open");ve.position.end=Wi(J.end)}function p(){return dz(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(J){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function v(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=J}function x(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=J}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/(\r?\n|\r)$/g,"")}function A(J){const ne=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ne,ve.identifier=ba(this.sliceSerialize(J)).toLowerCase()}function k(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function H(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function W(J){const ne=this.stack[this.stack.length-1];if(!ne.depth){const ve=this.sliceSerialize(J).length;ne.depth=ve}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function R(J){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function N(J){const ve=this.stack[this.stack.length-1].children;let Le=ve[ve.length-1];(!Le||Le.type!=="text")&&(Le=Ms(),Le.position={start:Wi(J.start),end:void 0},ve.push(Le)),this.stack.push(Le)}function D(J){const ne=this.stack.pop();ne.value+=this.sliceSerialize(J),ne.position.end=Wi(J.end)}function V(J){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ne.children[ne.children.length-1];ve.position.end=Wi(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(N.call(this,J),D.call(this,J))}function z(){this.data.atHardBreak=!0}function F(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function me(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function ge(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function Oe(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function oe(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function K(J){const ne=this.sliceSerialize(J),ve=this.stack[this.stack.length-2];ve.label=h6(ne),ve.identifier=ba(ne).toLowerCase()}function ue(){const J=this.stack[this.stack.length-1],ne=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Le=J.children;ve.children=Le}else ve.alt=ne}function O(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function fe(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function ye(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function be(J){const ne=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ne,ve.identifier=ba(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Se(J){this.data.characterReferenceType=J.type}function he(J){const ne=this.sliceSerialize(J),ve=this.data.characterReferenceType;let Le;ve?(Le=nC(ne,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=By(ne);const He=this.stack[this.stack.length-1];He.value+=Le}function nt(J){const ne=this.stack.pop();ne.position.end=Wi(J.end)}function At(J){D.call(this,J);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(J)}function ar(J){D.call(this,J);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(J)}function sn(){return{type:"blockquote",children:[]}}function An(){return{type:"code",lang:null,meta:null,value:""}}function lr(){return{type:"inlineCode",value:""}}function Zr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ls(){return{type:"emphasis",children:[]}}function Qr(){return{type:"heading",depth:0,children:[]}}function bi(){return{type:"break"}}function Ri(){return{type:"html",value:""}}function Ni(){return{type:"image",title:null,url:"",alt:null}}function Os(){return{type:"link",title:null,url:"",children:[]}}function Jr(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Li(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Ao(){return{type:"paragraph",children:[]}}function Oi(){return{type:"strong",children:[]}}function Ms(){return{type:"text",value:""}}function bo(){return{type:"thematicBreak"}}}function Wi(t){return{line:t.line,column:t.column,offset:t.offset}}function fC(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?fC(t,r):m6(t,r)}}function m6(t,e){let n;for(n in e)if(dC.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function GE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+_u({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+_u({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+_u({start:e.start,end:e.end})+") is still open")}function g6(t){const e=this;e.parser=n;function n(r){return f6(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function _6(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function y6(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function v6(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function w6(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function E6(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function T6(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=sl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,f),t.applyData(e,f)}function x6(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function S6(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pC(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function I6(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pC(t,e);const i={src:sl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function P6(t,e){const n={src:sl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function C6(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function k6(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pC(t,e);const i={href:sl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function A6(t,e){const n={href:sl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function b6(t,e,n){const r=t.all(e),i=n?R6(n):mC(e),s={},a=[];if(typeof e.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,f),t.applyData(e,f)}function R6(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mC(n[r])}return e}function mC(t){const e=t.spread;return e??t.children.length>1}function N6(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function L6(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O6(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function M6(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function D6(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=Fy(e.children[1]),c=ZP(e.children[e.children.length-1]);u&&c&&(a.position={start:u,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function V6(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:e.children.length;let c=-1;const f=[];for(;++c<u;){const g=e.children[c],y={},v=a?a[c]:void 0;v&&(y.align=v);let x={type:"element",tagName:s,properties:y,children:[]};g&&(x.children=t.all(g),t.patch(g,x),x=t.applyData(g,x)),f.push(x)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,p),t.applyData(e,p)}function F6(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const KE=9,ZE=32;function z6(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(QE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(QE(e.slice(i),i>0,!1)),s.join("")}function QE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===KE||s===ZE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===KE||s===ZE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function j6(t,e){const n={type:"text",value:z6(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function U6(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const B6={blockquote:_6,break:y6,code:v6,delete:w6,emphasis:E6,footnoteReference:T6,heading:x6,html:S6,imageReference:I6,image:P6,inlineCode:C6,linkReference:k6,link:A6,listItem:b6,list:N6,paragraph:L6,root:O6,strong:M6,table:D6,tableCell:F6,tableRow:V6,text:j6,thematicBreak:U6,toml:xh,yaml:xh,definition:xh,footnoteDefinition:xh};function xh(){}const gC=-1,qf=0,vu=1,Kd=2,qy=3,Wy=4,Gy=5,Ky=6,_C=7,yC=8,JE=typeof self=="object"?self:globalThis,H6=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case qf:case gC:return n(a,i);case vu:{const u=n([],i);for(const c of a)u.push(r(c));return u}case Kd:{const u=n({},i);for(const[c,f]of a)u[r(c)]=r(f);return u}case qy:return n(new Date(a),i);case Wy:{const{source:u,flags:c}=a;return n(new RegExp(u,c),i)}case Gy:{const u=n(new Map,i);for(const[c,f]of a)u.set(r(c),r(f));return u}case Ky:{const u=n(new Set,i);for(const c of a)u.add(r(c));return u}case _C:{const{name:u,message:c}=a;return n(new JE[u](c),i)}case yC:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:u}=new Uint8Array(a);return n(new DataView(u),a)}}return n(new JE[s](a),i)};return r},YE=t=>H6(new Map,t)(0),na="",{toString:$6}={},{keys:q6}=Object,Wl=t=>{const e=typeof t;if(e!=="object"||!t)return[qf,e];const n=$6.call(t).slice(8,-1);switch(n){case"Array":return[vu,na];case"Object":return[Kd,na];case"Date":return[qy,na];case"RegExp":return[Wy,na];case"Map":return[Gy,na];case"Set":return[Ky,na];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[_C,n]:[Kd,n]},Sh=([t,e])=>t===qf&&(e==="function"||e==="symbol"),W6=(t,e,n,r)=>{const i=(a,u)=>{const c=r.push(a)-1;return n.set(u,c),c},s=a=>{if(n.has(a))return n.get(a);let[u,c]=Wl(a);switch(u){case qf:{let p=a;switch(c){case"bigint":u=yC,p=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return i([gC],a)}return i([u,p],a)}case vu:{if(c){let y=a;return c==="DataView"?y=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(a)),i([c,[...y]],a)}const p=[],g=i([u,p],a);for(const y of a)p.push(s(y));return g}case Kd:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const p=[],g=i([u,p],a);for(const y of q6(a))(t||!Sh(Wl(a[y])))&&p.push([s(y),s(a[y])]);return g}case qy:return i([u,a.toISOString()],a);case Wy:{const{source:p,flags:g}=a;return i([u,{source:p,flags:g}],a)}case Gy:{const p=[],g=i([u,p],a);for(const[y,v]of a)(t||!(Sh(Wl(y))||Sh(Wl(v))))&&p.push([s(y),s(v)]);return g}case Ky:{const p=[],g=i([u,p],a);for(const y of a)(t||!Sh(Wl(y)))&&p.push(s(y));return g}}const{message:f}=a;return i([u,{name:c,message:f}],a)};return s},XE=(t,{json:e,lossy:n}={})=>{const r=[];return W6(!(e||n),!!e,new Map,r)(t),r},Zd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?YE(XE(t,e)):structuredClone(t):(t,e)=>YE(XE(t,e));function G6(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function K6(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Z6(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||G6,r=t.options.footnoteBackLabel||K6,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[c]);if(!f)continue;const p=t.all(f),g=String(f.identifier).toUpperCase(),y=sl(g.toLowerCase());let v=0;const x=[],P=t.footnoteCounts.get(g);for(;P!==void 0&&++v<=P;){x.length>0&&x.push({type:"text",value:" "});let A=typeof n=="string"?n:n(c,v);typeof A=="string"&&(A={type:"text",value:A}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const M=p[p.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const A=M.children[M.children.length-1];A&&A.type==="text"?A.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...x)}else p.push(...x);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(p,!0)};t.patch(f,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Zd(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const vC=function(t){if(t==null)return X6;if(typeof t=="function")return Wf(t);if(typeof t=="object")return Array.isArray(t)?Q6(t):J6(t);if(typeof t=="string")return Y6(t);throw new Error("Expected function, string, or object as test")};function Q6(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vC(t[n]);return Wf(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function J6(t){const e=t;return Wf(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Y6(t){return Wf(e);function e(n){return n&&n.type===t}}function Wf(t){return e;function e(n,r,i){return!!(eU(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function X6(){return!0}function eU(t){return t!==null&&typeof t=="object"&&"type"in t}const wC=[],tU=!0,eT=!1,nU="skip";function rU(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=vC(i),a=r?-1:1;u(t,void 0,[])();function u(c,f,p){const g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=wC,x,P,M;if((!e||s(c,f,p[p.length-1]||void 0))&&(v=iU(n(c,p)),v[0]===eT))return v;if("children"in c&&c.children){const S=c;if(S.children&&v[0]!==nU)for(P=(r?S.children.length:-1)+a,M=p.concat(S);P>-1&&P<S.children.length;){const A=S.children[P];if(x=u(A,P,M)(),x[0]===eT)return x;P=typeof x[1]=="number"?x[1]:P+a}}return v}}}function iU(t){return Array.isArray(t)?t:typeof t=="number"?[tU,t]:t==null?wC:[t]}function EC(t,e,n,r){let i,s,a;typeof e=="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),rU(t,s,u,i);function u(c,f){const p=f[f.length-1],g=p?p.children.indexOf(c):void 0;return a(c,g,p)}}const Fg={}.hasOwnProperty,sU={};function oU(t,e){const n=e||sU,r=new Map,i=new Map,s=new Map,a={...B6,...n.handlers},u={all:f,applyData:lU,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:aU,wrap:cU};return EC(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:i,y=String(p.identifier).toUpperCase();g.has(y)||g.set(y,p)}}),u;function c(p,g){const y=p.type,v=u.handlers[y];if(Fg.call(u.handlers,y)&&v)return v(u,p,g);if(u.options.passThrough&&u.options.passThrough.includes(y)){if("children"in p){const{children:P,...M}=p,S=Zd(M);return S.children=u.all(p),S}return Zd(p)}return(u.options.unknownHandler||uU)(u,p,g)}function f(p){const g=[];if("children"in p){const y=p.children;let v=-1;for(;++v<y.length;){const x=u.one(y[v],p);if(x){if(v&&y[v-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=tT(x.value)),!Array.isArray(x)&&x.type==="element")){const P=x.children[0];P&&P.type==="text"&&(P.value=tT(P.value))}Array.isArray(x)?g.push(...x):g.push(x)}}}return g}}function aU(t,e){t.position&&(e.position=$3(t))}function lU(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Zd(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uU(t,e){const n=e.data||{},r="value"in e&&!(Fg.call(n,"hProperties")||Fg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function cU(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function tT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function nT(t,e){const n=oU(t,e),r=n.one(t,void 0),i=Z6(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function hU(t,e){return t&&"run"in t?async function(n,r){const i=nT(n,{file:r,...e});await t.run(i,r)}:function(n,r){return nT(n,{file:r,...t||e})}}function rT(t){if(t)throw t}var Jh=Object.prototype.hasOwnProperty,TC=Object.prototype.toString,iT=Object.defineProperty,sT=Object.getOwnPropertyDescriptor,oT=function(e){return typeof Array.isArray=="function"?Array.isArray(e):TC.call(e)==="[object Array]"},aT=function(e){if(!e||TC.call(e)!=="[object Object]")return!1;var n=Jh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Jh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Jh.call(e,i)},lT=function(e,n){iT&&n.name==="__proto__"?iT(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},uT=function(e,n){if(n==="__proto__")if(Jh.call(e,n)){if(sT)return sT(e,n).value}else return;return e[n]},dU=function t(){var e,n,r,i,s,a,u=arguments[0],c=1,f=arguments.length,p=!1;for(typeof u=="boolean"&&(p=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<f;++c)if(e=arguments[c],e!=null)for(n in e)r=uT(u,n),i=uT(e,n),u!==i&&(p&&i&&(aT(i)||(s=oT(i)))?(s?(s=!1,a=r&&oT(r)?r:[]):a=r&&aT(r)?r:{},lT(u,{name:n,newValue:t(p,a,i)})):typeof i<"u"&&lT(u,{name:n,newValue:i}));return u};const Gp=Qd(dU);function zg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fU(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(c,...f){const p=t[++s];let g=-1;if(c){a(c);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,p?pU(p,u)(...f):a(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function pU(t,e){let n;return r;function r(...a){const u=t.length>a.length;let c;u&&a.push(i);try{c=t.apply(this,a)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...u){n||(n=!0,e(a,...u))}function s(a){i(null,a)}}const Nr={basename:mU,dirname:gU,extname:_U,join:yU,sep:"/"};function mU(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tc(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function gU(t){if(Tc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function _U(t){Tc(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const u=t.codePointAt(e);if(u===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),u===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function yU(...t){let e=-1,n;for(;++e<t.length;)Tc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vU(n)}function vU(t){Tc(t);const e=t.codePointAt(0)===47;let n=wU(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function wU(t,e){let n="",r=0,i=-1,s=0,a=-1,u,c;for(;++a<=t.length;){if(a<t.length)u=t.codePointAt(a);else{if(u===47)break;u=47}if(u===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else u===46&&s>-1?s++:s=-1}return n}function Tc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const EU={cwd:TU};function TU(){return"/"}function jg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function xU(t){if(typeof t=="string")t=new URL(t);else if(!jg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return SU(t)}function SU(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Kp=["history","path","basename","stem","extname","dirname"];class xC{constructor(e){let n;e?jg(e)?n={path:e}:typeof e=="string"||IU(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":EU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Kp.length;){const s=Kp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Kp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Nr.basename(this.path):void 0}set basename(e){Qp(e,"basename"),Zp(e,"basename"),this.path=Nr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Nr.dirname(this.path):void 0}set dirname(e){cT(this.basename,"dirname"),this.path=Nr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Nr.extname(this.path):void 0}set extname(e){if(Zp(e,"extname"),cT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){jg(e)&&(e=xU(e)),Qp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Nr.basename(this.path,this.extname):void 0}set stem(e){Qp(e,"stem"),Zp(e,"stem"),this.path=Nr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new rn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Zp(t,e){if(t&&t.includes(Nr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Nr.sep+"`")}function Qp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function cT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function IU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const PU=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},CU={}.hasOwnProperty;class Zy extends PU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fU()}copy(){const e=new Zy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Gp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Xp("data",this.frozen),this.namespace[e]=n,this):CU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Xp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ih(e),r=this.parser||this.Parser;return Jp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Jp("process",this.parser||this.Parser),Yp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const u=Ih(e),c=r.parse(u);r.run(c,u,function(p,g,y){if(p||!g||!y)return f(p);const v=g,x=r.stringify(v,y);bU(x)?y.value=x:y.result=x,f(p,y)});function f(p,g){p||!g?a(p):s?s(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),Jp("processSync",this.parser||this.Parser),Yp("processSync",this.compiler||this.Compiler),this.process(e,i),dT("processSync","process",n),r;function i(s,a){n=!0,rT(s),r=a}}run(e,n,r){hT(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,u){const c=Ih(n);i.run(e,c,f);function f(p,g,y){const v=g||e;p?u(p):a?a(v):r(void 0,v,y)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),dT("runSync","run",r),i;function s(a,u){rT(a),i=u,r=!0}}stringify(e,n){this.freeze();const r=Ih(n),i=this.compiler||this.Compiler;return Yp("stringify",i),hT(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Xp("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...g]=f;c(p,g)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=Gp(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const g=f[p];s(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,p){let g=-1,y=-1;for(;++g<r.length;)if(r[g][0]===f){y=g;break}if(y===-1)r.push([f,...p]);else if(p.length>0){let[v,...x]=p;const P=r[y][1];zg(P)&&zg(v)&&(v=Gp(!0,P,v)),r[y]=[f,v,...x]}}}}const kU=new Zy().freeze();function Jp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Yp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Xp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hT(t){if(!zg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function dT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ih(t){return AU(t)?t:new xC(t)}function AU(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function bU(t){return typeof t=="string"||RU(t)}function RU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const NU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fT=[],pT={allowDangerousHtml:!0},LU=/^(https?|ircs?|mailto|xmpp)$/i,OU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function mT(t){const e=MU(t),n=DU(t);return VU(e.runSync(e.parse(n),n),t)}function MU(t){const e=t.rehypePlugins||fT,n=t.remarkPlugins||fT,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...pT}:pT;return kU().use(g6).use(n).use(hU,r).use(e)}function DU(t){const e=t.children||"",n=new xC;return typeof e=="string"&&(n.value=e),n}function VU(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||FU;for(const p of OU)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+NU+p.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),EC(t,f),Z3(t,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function f(p,g,y){if(p.type==="raw"&&y&&typeof g=="number")return a?y.children.splice(g,1):y.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let v;for(v in $p)if(Object.hasOwn($p,v)&&Object.hasOwn(p.properties,v)){const x=p.properties[v],P=$p[v];(P===null||P.includes(p.tagName))&&(p.properties[v]=c(String(x||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!v&&r&&typeof g=="number"&&(v=!r(p,g,y)),v&&y&&typeof g=="number")return u&&p.children?y.children.splice(g,1,...p.children):y.children.splice(g,1),g}}}function FU(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||LU.test(t.slice(0,e))?t:""}const zU=t=>{var e;return(e=t==null?void 0:t.demandeSAP)!=null&&e.toLowerCase().includes("demande de rma")?"Demande de RMA":(t==null?void 0:t.statut)||"En cours"},jU=t=>{switch(t==null?void 0:t.toLowerCase()){case"en cours":return"badge-warning";case"a clture":return"badge-info";case"termine":return"badge-success";case"demande de rma":return"badge-secondary";default:return"badge-ghost"}},UU=({ticket:t,onClose:e,sectorId:n,onTicketUpdated:r})=>{const[i,s]=$.useState(""),[a,u]=$.useState(""),[c,f]=$.useState(!1),[p,g]=$.useState(null),[y,v]=$.useState(null),[x,P]=$.useState(null),[M,S]=$.useState(!1),A=$.useMemo(()=>!(t!=null&&t.demandeSAP)||t!=null&&t.summary?"":`Rsume ce texte en 1 ou 2 phrases maximum: ${t.demandeSAP}`,[t==null?void 0:t.id,t==null?void 0:t.demandeSAP,t==null?void 0:t.summary]),{summary:k,isLoading:H,error:W}=SE(A),U=$.useMemo(()=>!(t!=null&&t.demandeSAP)||t!=null&&t.solution?"":`Propose une solution concise (1-2 phrases) pour ce problme: ${t.demandeSAP}`,[t==null?void 0:t.id,t==null?void 0:t.demandeSAP,t==null?void 0:t.solution]),{summary:R,isLoading:C,error:N}=SE(U);$.useEffect(()=>{u(t?zU(t):"")},[t]),$.useEffect(()=>{(async()=>{if(k&&n&&(t!=null&&t.id)&&!t.summary){P(null);try{console.log("Attempting to save generated summary:",k),await Th(n,t.id,{summary:k}),r()}catch(ge){console.error("Error saving summary:",ge),P(`Erreur sauvegarde rsum: ${ge.message}`)}}})()},[k,n,t==null?void 0:t.id,t==null?void 0:t.summary]),$.useEffect(()=>{(async()=>{if(R&&n&&(t!=null&&t.id)&&!t.solution){P(null);try{console.log("Attempting to save generated solution:",R),await Th(n,t.id,{solution:R}),r()}catch(ge){console.error("Error saving solution:",ge),P(`Erreur sauvegarde solution: ${ge.message}`)}}})()},[R,n,t==null?void 0:t.id,t==null?void 0:t.solution]);const D=async()=>{if(i.trim()&&n&&(t!=null&&t.id)){S(!0),v(null);const me=[...t.commentaires||[],i];try{await Th(n,t.id,{commentaires:me}),s(""),r()}catch(ge){v(`Erreur ajout commentaire: ${ge.message}`)}finally{S(!1)}}},V=async()=>{if(n&&(t!=null&&t.id)&&a){f(!0),g(null);try{await Th(n,t.id,{statut:a}),r()}catch(me){g(`Erreur MJ statut: ${me.message}`)}finally{f(!1)}}};if(!t)return null;const z=(t==null?void 0:t.summary)||k,F=(t==null?void 0:t.solution)||R;return T.jsxs("div",{className:"modal modal-open",children:[T.jsxs("div",{className:"modal-box w-11/12 max-w-3xl relative",children:[" ",T.jsx("button",{onClick:e,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 z-10","aria-label":"Fermer",children:""}),T.jsxs("h3",{className:"font-bold text-lg mb-4",children:[t.raisonSociale," - Ticket SAP ",t.numeroSAP]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 py-4 text-sm",children:[T.jsxs("p",{children:[T.jsx("b",{children:"Code Client:"})," ",t.codeClient||"N/A"]}),T.jsxs("p",{children:[T.jsx("b",{children:"Tlphone:"})," ",t.telephone||"N/A"]}),T.jsxs("p",{className:"md:col-span-2",children:[T.jsx("b",{children:"Adresse:"})," ",t.adresse||"N/A"]}),T.jsxs("p",{children:[T.jsx("b",{children:"Date:"})," ",t.date||"N/A"]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("b",{children:"Statut:"})," ",T.jsx("span",{className:`badge ${jU(a)}`,children:a})]})]}),T.jsx("hr",{className:"my-3"}),T.jsxs("div",{className:"mb-3",children:[T.jsx("h4",{className:"text-md font-semibold mb-1",children:"Rsum IA"}),H&&T.jsx("span",{className:"loading loading-dots loading-sm"}),W&&!z&&T.jsxs("p",{className:"text-error text-xs",children:["Erreur rsum: ",W]}),z?T.jsx("div",{className:"prose prose-sm max-w-none",children:T.jsx(mT,{children:z})}):!H&&!W?T.jsx("p",{className:"text-xs text-gray-500 italic",children:"Gnration du rsum..."}):null,x&&x.includes("rsum")&&T.jsx("p",{className:"text-error text-xs mt-1",children:x})]}),T.jsxs("div",{className:"mb-3",children:[T.jsx("h4",{className:"text-md font-semibold mb-1",children:"Solution Propose IA"}),C&&T.jsx("span",{className:"loading loading-dots loading-sm"}),N&&!F&&T.jsxs("p",{className:"text-error text-xs",children:["Erreur solution: ",N]}),F?T.jsx("div",{className:"prose prose-sm max-w-none",children:T.jsx(mT,{children:F})}):!C&&!N?T.jsx("p",{className:"text-xs text-gray-500 italic",children:"Gnration de la solution..."}):null,x&&x.includes("solution")&&T.jsx("p",{className:"text-error text-xs mt-1",children:x})]}),T.jsx("hr",{className:"my-3"}),T.jsxs("details",{className:"mb-3",children:[T.jsx("summary",{className:"cursor-pointer font-semibold text-md",children:"Voir la demande SAP originale"}),T.jsx("div",{className:"mt-2 p-2 border rounded bg-base-200 text-xs max-h-32 overflow-y-auto",children:T.jsx("pre",{className:"whitespace-pre-wrap break-words",children:t.demandeSAP||"N/A"})})]}),T.jsx("hr",{className:"my-3"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("h4",{className:"text-md font-semibold mb-2",children:"Modifier le Statut"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("select",{className:"select select-bordered select-sm w-full max-w-xs",value:a,onChange:me=>u(me.target.value),disabled:c,children:[T.jsx("option",{value:"Demande de RMA",children:"Demande de RMA"}),T.jsx("option",{value:"En cours",children:"En cours"}),T.jsx("option",{value:"A Clture",children:"A Clture"})," ",T.jsx("option",{value:"Termine",children:"Termine"})]}),T.jsx("button",{className:"btn btn-primary btn-sm",onClick:V,disabled:c,children:c?T.jsx("span",{className:"loading loading-spinner loading-xs"}):"Mettre  jour"})]}),p&&T.jsx("p",{className:"text-error text-sm mt-1",children:p})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-md font-semibold mb-2",children:"Commentaires"}),T.jsx("div",{className:"max-h-32 overflow-y-auto mb-2 border rounded p-2 bg-base-200 text-sm",children:t.commentaires&&t.commentaires.length>0?T.jsx("ul",{className:"list-disc list-inside",children:t.commentaires.map((me,ge)=>T.jsx("li",{children:me},ge))}):T.jsx("p",{className:"text-sm text-gray-500 italic",children:"Aucun commentaire."})}),T.jsx("textarea",{placeholder:"Ajouter un commentaire...",className:"textarea textarea-bordered w-full text-sm",rows:2,value:i,onChange:me=>s(me.target.value),disabled:M}),T.jsx("button",{className:"btn btn-secondary btn-sm mt-2",onClick:D,disabled:M||!i.trim(),children:M?T.jsx("span",{className:"loading loading-spinner loading-xs"}):"Ajouter"}),y&&T.jsx("p",{className:"text-error text-sm mt-1",children:y})]})]}),T.jsx("form",{method:"dialog",className:"modal-backdrop",children:T.jsx("button",{onClick:e,children:"close"})})]})},BU=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(null),[i,s]=$.useState([]),[a,u]=$.useState(null),[c,f]=$.useState(!0),[p,g]=$.useState(null),[y,v]=$.useState(0),[x,P]=$.useState(""),[M,S]=$.useState(""),[A,k]=$.useState(""),[H,W]=$.useState(""),[U,R]=$.useState(!1);$.useEffect(()=>{(async()=>{try{f(!0);const K=await Oy();e(K),K.length>0&&!n?r(K[0].id):K.length===0&&f(!1)}catch(K){console.error("Error loading sectors:",K),g("Erreur lors du chargement des secteurs."),f(!1)}})()},[]),$.useEffect(()=>{if(!n){s([]),f(!1);return}f(!0),g(null),console.log(`Subscribing to sector: ${n}, version: ${y}`);const oe=jP(n,K=>{console.log(`Received ${K.length} tickets for sector ${n}`),s(K),f(!1),g(null)});return()=>{console.log(`Unsubscribing from sector: ${n}`),oe()}},[n,y]);const C=$.useCallback(()=>{console.log("Ticket updated, incrementing data version."),v(oe=>oe+1)},[]),N=$.useCallback(oe=>{console.log("Selected ticket:",oe.id),u(oe)},[]),D=$.useCallback(()=>{console.log("Closing details"),u(null)},[]),V=oe=>{const K=oe.target.value;console.log("Sector changed to:",K),r(K),P(""),S(""),k(""),W(""),u(null)},z=$.useMemo(()=>i.filter(oe=>{var K,ue,O;return(x===""||((K=oe.raisonSociale)==null?void 0:K.toLowerCase().includes(x.toLowerCase())))&&(M===""||((ue=oe.codeClient)==null?void 0:ue.toLowerCase().includes(M.toLowerCase())))&&(A===""||((O=oe.numeroSAP)==null?void 0:O.toLowerCase().includes(A.toLowerCase())))&&(H===""||oe.statut===H)}),[i,x,M,A,H]),F=$.useMemo(()=>z.reduce((oe,K)=>{const ue=K.raisonSociale||"Client inconnu";return oe[ue]||(oe[ue]=[]),oe[ue].push(K),oe},{}),[z]),me=$.useMemo(()=>{const oe=new Set(i.map(K=>K.statut).filter(Boolean));return["",...Array.from(oe)]},[i]),ge=()=>{P(""),S(""),k(""),W("")},Oe=x||M||A||H;return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[calc(100vh-8rem)]",children:[" ",T.jsxs("div",{className:"flex flex-col w-full lg:w-1/3",children:[" ",T.jsxs("div",{className:"mb-4 card bg-base-100 shadow p-4 shrink-0",children:[T.jsx("label",{htmlFor:"sector-select",className:"label font-semibold",children:"Secteur SAP"}),T.jsxs("select",{id:"sector-select",className:"select select-bordered w-full",value:n||"",onChange:V,disabled:c&&!n&&t.length===0,children:[T.jsx("option",{value:"",disabled:!0,children:"Slectionner un secteur..."}),t.map(oe=>T.jsx("option",{value:oe.id,children:oe.id},oe.id))]})]}),T.jsxs("div",{className:"mb-4 card bg-base-100 shadow p-4 shrink-0",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("h2",{className:"text-lg font-semibold",children:"Filtres"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("button",{className:`btn btn-ghost btn-sm text-error ${Oe?"":"hidden"}`,onClick:ge,title:"Effacer les filtres",children:[T.jsx(j1,{})," Effacer"]}),T.jsxs("button",{className:"btn btn-ghost btn-sm lg:hidden",onClick:()=>R(!U),children:[T.jsx(z1,{})," ",U?"Masquer":"Afficher"]})]})]}),T.jsxs("div",{className:`${U?"block":"hidden"} lg:block space-y-2`,children:[T.jsx("input",{type:"text",placeholder:"Filtrer par Raison Sociale...",className:"input input-bordered w-full",value:x,onChange:oe=>P(oe.target.value)}),T.jsx("input",{type:"text",placeholder:"Filtrer par Code Client...",className:"input input-bordered w-full",value:M,onChange:oe=>S(oe.target.value)}),T.jsx("input",{type:"text",placeholder:"Filtrer par N SAP...",className:"input input-bordered w-full",value:A,onChange:oe=>k(oe.target.value)}),T.jsx("select",{className:"select select-bordered w-full",value:H,onChange:oe=>W(oe.target.value),children:me.map(oe=>T.jsx("option",{value:oe,children:oe===""?"Tous les statuts":oe},oe))})]})]}),T.jsxs("div",{className:"flex-grow overflow-y-auto card bg-base-100 shadow p-4 w-full min-h-0",children:[c&&T.jsx("div",{className:"flex justify-center items-center h-full",children:T.jsx("span",{className:"loading loading-spinner loading-lg"})}),p&&T.jsx("div",{className:"alert alert-error text-sm p-2",children:T.jsx("span",{children:p})}),!c&&!p&&n&&T.jsx(YF,{groupedTickets:F,onSelectTicket:N,selectedTicketId:a==null?void 0:a.id,groupByField:"raisonSociale"}),!c&&!p&&!n&&T.jsx("p",{className:"text-center text-gray-500",children:"Veuillez slectionner un secteur pour voir les tickets."}),!c&&!p&&n&&Object.keys(F).length===0&&T.jsx("p",{className:"text-center text-gray-500",children:"Aucun ticket trouv pour les filtres actuels."})]})]}),T.jsx("div",{className:"w-full lg:w-2/3 hidden lg:flex justify-center items-center h-full text-gray-500 card bg-base-100 shadow p-4",children:"Slectionnez un ticket pour voir les dtails."})]}),a&&T.jsx(UU,{ticket:a,onClose:D,sectorId:n,onTicketUpdated:C})]})},HU=t=>t.reduce((e,n)=>{const r=n.nomClient||"Client Inconnu";return e[r]||(e[r]=[]),e[r].push(n),e},{}),$U=({selectedSector:t,onEnvoiSelect:e})=>{const[n,r]=$.useState([]),[i,s]=$.useState(!0),[a,u]=$.useState(null);$.useEffect(()=>{(async()=>{s(!0),u(null);try{const v=await jF();r(v),u(null)}catch(v){u(`Erreur lors de la rcupration des envois: ${v.message}`),r([])}finally{s(!1)}})()},[]);const c=$.useMemo(()=>t?n.filter(y=>y.secteur===t):n,[n,t]),f=$.useMemo(()=>HU(c),[c]);if(i)return T.jsx("div",{className:"flex justify-center items-center p-4",children:T.jsx("span",{className:"loading loading-dots loading-lg"})});if(a)return T.jsxs("div",{className:"alert alert-error",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{children:a})]});const p=y=>{switch(y==null?void 0:y.toLowerCase()){case"oui":return"badge-success";case"non":return"badge-error";default:return"badge-ghost"}},g=Object.keys(f).sort();return T.jsx("div",{children:c.length===0&&!i&&!a?T.jsxs("p",{className:"text-center p-4",children:["Aucun envoi trouv ",t?`pour le secteur ${t}`:"","."]}):g.map(y=>T.jsxs("div",{className:"mb-6 p-4 border rounded-lg shadow-sm bg-base-200",children:[T.jsxs("h3",{className:"text-xl font-semibold mb-3 sticky top-0 bg-base-200 py-2 z-10",children:[y," (",f[y].length,")"]}),T.jsx("div",{className:"space-y-4",children:f[y].map(v=>T.jsx("div",{onClick:()=>e(v),className:"card w-full bg-base-100 shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-200",children:T.jsxs("div",{className:"card-body p-4",children:[T.jsxs("p",{children:[T.jsx("b",{children:"Article:"})," ",v.articleNom]}),T.jsxs("p",{children:[T.jsx("b",{children:"BT:"})," ",v.bt]}),T.jsxs("p",{children:[T.jsx("b",{children:"Code Client:"})," ",v.codeClient]}),!t&&T.jsxs("p",{children:[T.jsx("b",{children:"Secteur:"})," ",v.secteur]}),T.jsxs("div",{className:"card-actions justify-end items-center mt-2",children:[v.trackingLink&&T.jsx("a",{href:v.trackingLink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline btn-info",onClick:x=>x.stopPropagation(),children:"Suivre Colis"}),T.jsxs("div",{className:`badge ${p(v.statutExpedition)}`,children:["Expdi: ",v.statutExpedition||"N/A"]})]})]})},v.id))})]},y))})},qU=({envoi:t,onClose:e})=>t?T.jsxs("div",{className:"modal modal-open",children:[T.jsxs("div",{className:"modal-box w-11/12 max-w-2xl",children:[" ",T.jsx("button",{onClick:e,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""}),T.jsxs("h3",{className:"font-bold text-lg mb-4",children:[t.nomClient," - Envoi BT ",t.bt]}),T.jsxs("div",{className:"space-y-2",children:[" ",T.jsxs("p",{children:[T.jsx("b",{children:"Code Client:"})," ",t.codeClient]}),T.jsxs("p",{children:[T.jsx("b",{children:"Article:"})," ",t.articleNom]}),T.jsxs("p",{children:[T.jsx("b",{children:"Secteur:"})," ",t.secteur]}),T.jsxs("p",{children:[T.jsx("b",{children:"Statut Expdition:"})," ",t.statutExpedition||"N/A"]}),t.trackingLink?T.jsxs("p",{children:[T.jsx("b",{children:"Lien de suivi:"})," ",T.jsxs("a",{href:t.trackingLink,target:"_blank",rel:"noopener noreferrer",className:"link link-info break-all",children:[" ",t.trackingLink]})]}):T.jsxs("p",{children:[T.jsx("b",{children:"Lien de suivi:"})," Non disponible"]})]}),T.jsx("div",{className:"modal-action mt-4",children:T.jsx("button",{onClick:e,className:"btn",children:"Fermer"})})]}),T.jsx("div",{className:"modal-backdrop",onClick:e})]}):null,WU=()=>{const[t,e]=$.useState(null),[n,r]=$.useState(""),[i,s]=$.useState(""),[a,u]=$.useState(""),[c,f]=$.useState(""),[p,g]=$.useState(!1),[y,v]=$.useState([]),[x,P]=$.useState(!0);$.useEffect(()=>{P(!0);const W=zF("Envoi",U=>{v(U),P(!1)});return()=>W()},[]);const M=$.useCallback(W=>{e(W)},[]),S=$.useCallback(()=>{e(null)},[]);$.useCallback(()=>{console.log("Envoi details potentially updated (callback called).")},[]),$.useMemo(()=>{if(x)return[""];const W=new Set(y.map(U=>U.statutExpedition).filter(Boolean));return["",...Array.from(W).sort()]},[y,x]);const A=$.useMemo(()=>{if(x)return[""];const W=new Set(y.map(U=>U.secteur).filter(Boolean));return["",...Array.from(W).sort()]},[y,x]),k=()=>{r(""),s(""),u(""),f("")},H=n||i||a||c;return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[calc(100vh-8rem)]",children:[" ",T.jsxs("div",{className:"flex flex-col w-full lg:w-1/3",children:[" ",T.jsxs("div",{className:"mb-4 card bg-base-100 shadow p-4 shrink-0",children:[" ",T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("h2",{className:"text-lg font-semibold",children:"Filtres Envois"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("button",{className:`btn btn-ghost btn-sm text-error ${H?"":"hidden"}`,onClick:k,title:"Effacer les filtres",children:[T.jsx(j1,{})," Effacer"]}),T.jsxs("button",{className:"btn btn-ghost btn-sm lg:hidden",onClick:()=>g(!p),children:[T.jsx(z1,{})," ",p?"Masquer":"Afficher"]})]})]}),T.jsxs("div",{className:`${p?"block":"hidden"} lg:block space-y-2`,children:[T.jsx("p",{className:"text-xs text-warning",children:"Note: Seul le filtre secteur est actif pour la liste."}),T.jsx("select",{className:"select select-bordered w-full",value:c,onChange:W=>f(W.target.value),disabled:x,children:A.map(W=>T.jsx("option",{value:W,children:W===""?"Tous les secteurs":W},W))})]})]}),T.jsx("div",{className:"flex-grow overflow-y-auto card bg-base-100 shadow p-4 w-full min-h-0",children:T.jsx($U,{selectedSector:c,onEnvoiSelect:M})})]}),T.jsx("div",{className:"w-full lg:w-2/3 hidden lg:flex justify-center items-center h-full text-gray-500 card bg-base-100 shadow p-4",children:"Slectionnez un envoi pour voir les dtails."})]}),t&&T.jsx(qU,{envoi:t,onClose:S})]})},GU=({user:t,onClose:e})=>t?T.jsx("div",{className:"modal modal-open",children:T.jsxs("div",{className:"modal-box",children:[T.jsx("button",{onClick:e,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""}),T.jsx("h3",{className:"font-bold text-lg",children:"Dtails de l'utilisateur"}),T.jsxs("div",{className:"py-4",children:[T.jsxs("p",{children:[T.jsx("b",{children:"Nom:"})," ",t.nom]}),T.jsxs("p",{children:[T.jsx("b",{children:"Email:"})," ",t.email]}),T.jsxs("p",{children:[T.jsx("b",{children:"Secteurs:"})," ",Array.isArray(t.secteurs)?t.secteurs.join(", "):"N/A"]}),T.jsxs("p",{children:[T.jsx("b",{children:"Role:"})," ",t.role]})]})]})}):null,KU=({users:t,onEditUser:e})=>{const[n,r]=$.useState(null),i=u=>{r(u)},s=()=>{r(null)},a=u=>{e(u)};return T.jsxs("div",{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Nom"}),T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Secteurs"}),T.jsx("th",{children:"Role"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:t.map(u=>T.jsxs("tr",{children:[T.jsx("td",{children:T.jsx("div",{className:"flex items-center space-x-3",children:T.jsx("div",{children:T.jsx("div",{className:"font-bold",children:u.nom})})})}),T.jsx("td",{children:u.email}),T.jsx("td",{children:Array.isArray(u.secteurs)?u.secteurs.join(", "):"N/A"}),T.jsx("td",{children:u.role}),T.jsxs("th",{children:[T.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>i(u),children:"details"}),T.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>a(u),children:"Modifier"})," "]})]},u.id))}),T.jsx("tfoot",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Nom"}),T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Secteurs"}),T.jsx("th",{children:"Role"}),T.jsx("th",{children:"Actions"})]})})]})}),n&&T.jsx(GU,{user:n,onClose:s})]})},ZU=({onSubmit:t,user:e})=>{const[n,r]=$.useState([]),[i,s]=$.useState(!0),[a,u]=$.useState(null),[c,f]=$.useState({nom:"",email:"",password:"",role:"Utilisateur",secteurs:[]});$.useEffect(()=>{(async()=>{s(!0),u(null);try{const x=await Oy();r(x)}catch(x){u(x.message||"Failed to load sectors."),console.error("Error fetching sectors:",x)}finally{s(!1)}})()},[]),$.useEffect(()=>{e&&f({nom:e.nom||"",email:e.email||"",password:"",role:e.role||"Utilisateur",secteurs:e.secteurs||[]})},[e]);const p=v=>{const{name:x,value:P}=v.target;f({...c,[x]:P})},g=v=>{const x=Array.from(v.target.selectedOptions,P=>P.value);f({...c,secteurs:x})},y=v=>{v.preventDefault(),t(c)};return i?T.jsx("div",{children:"Loading sectors..."}):a?T.jsx("div",{className:"alert alert-error",children:a}):T.jsx("form",{onSubmit:y,className:"card bg-base-100 shadow-xl",children:T.jsxs("div",{className:"card-body",children:[T.jsx("h2",{className:"card-title",children:e?"Modifier Utilisateur":"Ajouter un utilisateur"}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Nom"})}),T.jsx("input",{type:"text",placeholder:"Nom",className:"input input-bordered",name:"nom",value:c.nom,onChange:p,required:!0})]}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Email"})}),T.jsx("input",{type:"email",placeholder:"Email",className:"input input-bordered",name:"email",value:c.email,onChange:p,required:!0,readOnly:!!e})]}),!e&&T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Mot de passe"})}),T.jsx("input",{type:"password",placeholder:"Mot de passe",className:"input input-bordered",name:"password",value:c.password,onChange:p,required:!0})]}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Rle"})}),T.jsxs("select",{className:"select select-bordered",name:"role",value:c.role,onChange:p,children:[T.jsx("option",{children:"Utilisateur"}),T.jsx("option",{children:"Admin"})]})]}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Secteurs"})}),T.jsx("select",{className:"select select-bordered",name:"secteurs",multiple:!0,value:c.secteurs,onChange:g,children:n.map(v=>T.jsx("option",{value:v.id,children:v.id},v.id))})]}),T.jsx("div",{className:"card-actions justify-end mt-4",children:T.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Modifier":"Ajouter"})})]})})},QU=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(!0),[i,s]=$.useState(null),[a,u]=$.useState(null);$.useEffect(()=>{(async()=>{r(!0),s(null);try{const g=await bg();e(g)}catch(g){s(g.message||"Failed to load users."),console.error("Error fetching users:",g)}finally{r(!1)}})()},[]);const c=async p=>{console.log("User data submitted:",p);try{if(a)await FF("users",a.id,p),console.log("User updated successfully!");else{console.log("Adding new user is not yet implemented in this handler.");return}const g=await bg();e(g),u(null)}catch(g){s(g.message||"Failed to submit user data."),console.error("Error submitting user data:",g)}},f=p=>{u(p)};return n?T.jsx("div",{children:"Loading users..."}):i?T.jsx("div",{className:"alert alert-error",children:i}):T.jsxs("div",{className:"container mx-auto mt-10",children:[T.jsx("h1",{className:"text-3xl font-bold mb-5",children:"Administration des utilisateurs"}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsx(ZU,{onSubmit:c,user:a})," ",T.jsx(KU,{users:t,onEditUser:f})," "]})]})},gT=()=>{const[t,e]=$.useState(!0),[n,r]=$.useState(""),[i,s]=$.useState(""),[a,u]=$.useState(null),c=gf(),f=async p=>{p.preventDefault(),u(null);try{t?await eL(EE,n,i):await XN(EE,n,i),c("/dashboard")}catch(g){u(g.message)}};return T.jsx("div",{className:"hero min-h-screen bg-base-200",children:T.jsxs("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[T.jsxs("div",{className:"text-center lg:text-left",children:[T.jsx("h1",{className:"text-5xl font-bold",children:t?"Connexion":"Inscription"}),T.jsx("p",{className:"py-6",children:t?"Connectez-vous pour accder  l'application.":"Inscrivez-vous pour crer un compte."})]}),T.jsx("div",{className:"card shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:T.jsxs("form",{className:"card-body",onSubmit:f,children:[a&&T.jsx("div",{className:"alert alert-error",children:a}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Email"})}),T.jsx("input",{type:"email",placeholder:"email",className:"input input-bordered",value:n,onChange:p=>r(p.target.value),required:!0})]}),T.jsxs("div",{className:"form-control",children:[T.jsx("label",{className:"label",children:T.jsx("span",{className:"label-text",children:"Mot de passe"})}),T.jsx("input",{type:"password",placeholder:"password",className:"input input-bordered",value:i,onChange:p=>s(p.target.value),required:!0})]}),T.jsx("div",{className:"form-control mt-6",children:T.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Se connecter":"S'inscrire"})}),T.jsx("div",{className:"text-center mt-4",children:T.jsxs("p",{children:[t?"Pas de compte?":"Dj un compte?",T.jsx("button",{type:"button",className:"link link-primary",onClick:()=>e(!t),children:t?"S'inscrire":"Se connecter"})]})})]})})]})})};function JU(){const[t,e]=$.useState(null);return gf(),$.useEffect(()=>{const n=Hu(),r=P1(n,i=>{e(!!i)});return()=>r()},[]),t===null?T.jsx("div",{children:"Checking authentication..."}):T.jsx(T.Fragment,{children:t?T.jsxs(T.Fragment,{children:[T.jsx(CO,{}),T.jsx("main",{className:"container mx-auto px-4 fade-in",children:T.jsxs(fR,{children:[T.jsx(Ks,{path:"/",element:T.jsx(TE,{})}),T.jsx(Ks,{path:"/dashboard",element:T.jsx(TE,{})}),T.jsx(Ks,{path:"/sap",element:T.jsx(BU,{})}),T.jsx(Ks,{path:"/envois",element:T.jsx(WU,{})}),T.jsx(Ks,{path:"/admin",element:T.jsx(QU,{})}),T.jsx(Ks,{path:"/auth",element:T.jsx(gT,{})})," "]})})]}):T.jsx(gT,{})})}const YU=$.createContext(void 0),XU=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(!0),[s,a]=$.useState(null);$.useEffect(()=>{const f=Hu().onAuthStateChanged(async p=>{if(p){i(!0),a(null);try{const y=(await bg()).find(v=>v.email===p.email);y&&y.secteurs?n(y.secteurs):n([])}catch(g){a(g.message||"Failed to load user sectors."),console.error("Error fetching user sectors:",g),n(null)}finally{i(!1)}}else n(null),i(!1)});return()=>f()},[]);const u={userSectors:e,setUserSectors:n,loadingSectors:r,errorSectors:s};return T.jsx(YU.Provider,{value:u,children:t})};em.createRoot(document.getElementById("root")).render(T.jsx(_i.StrictMode,{children:T.jsx(ER,{children:T.jsxs(XU,{children:[" ",T.jsx(JU,{})]})})}));
